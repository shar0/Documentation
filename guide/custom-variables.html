<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Variables | Naninovel</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="A full-featured, writer-friendly and completely customizable visual novel extension for Unity game engine.">
    <meta name="theme-color" content="#4985c2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:image" content="/assets/img/og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="msapplication-TileImage" content="/assets/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="google-site-verification" content="cdvgJ2XFFbaGErDKJtTbFj9u9frfReZ9rzUnsf9F6nI">
    <link rel="preload" href="/assets/css/0.styles.49cf1a7f.css" as="style"><link rel="preload" href="/assets/js/app.7081dc02.js" as="script"><link rel="preload" href="/assets/js/3.edd03593.js" as="script"><link rel="preload" href="/assets/js/23.8e154398.js" as="script"><link rel="prefetch" href="/assets/js/10.cd95fe25.js"><link rel="prefetch" href="/assets/js/100.2c7ddd2f.js"><link rel="prefetch" href="/assets/js/101.a4db67f4.js"><link rel="prefetch" href="/assets/js/102.4166bf91.js"><link rel="prefetch" href="/assets/js/103.21881421.js"><link rel="prefetch" href="/assets/js/104.b75a1973.js"><link rel="prefetch" href="/assets/js/105.26100b1a.js"><link rel="prefetch" href="/assets/js/106.09f179d4.js"><link rel="prefetch" href="/assets/js/107.86ac9447.js"><link rel="prefetch" href="/assets/js/108.e7e03b77.js"><link rel="prefetch" href="/assets/js/109.0bd5d496.js"><link rel="prefetch" href="/assets/js/11.d37f9cee.js"><link rel="prefetch" href="/assets/js/110.297115e6.js"><link rel="prefetch" href="/assets/js/111.6067a1c5.js"><link rel="prefetch" href="/assets/js/112.82c7c323.js"><link rel="prefetch" href="/assets/js/113.42ab0da7.js"><link rel="prefetch" href="/assets/js/114.30db486d.js"><link rel="prefetch" href="/assets/js/115.e8a87ca4.js"><link rel="prefetch" href="/assets/js/116.8b36f9d7.js"><link rel="prefetch" href="/assets/js/117.4b8466ef.js"><link rel="prefetch" href="/assets/js/118.2c320ad9.js"><link rel="prefetch" href="/assets/js/119.5feee4d4.js"><link rel="prefetch" href="/assets/js/12.f4e7502c.js"><link rel="prefetch" href="/assets/js/120.aec27d48.js"><link rel="prefetch" href="/assets/js/121.f36d5945.js"><link rel="prefetch" href="/assets/js/122.bfe5fa18.js"><link rel="prefetch" href="/assets/js/123.9a1f01db.js"><link rel="prefetch" href="/assets/js/124.93b8b504.js"><link rel="prefetch" href="/assets/js/125.1a24c7f7.js"><link rel="prefetch" href="/assets/js/126.3df14633.js"><link rel="prefetch" href="/assets/js/127.88a85fdb.js"><link rel="prefetch" href="/assets/js/128.f24e1a5a.js"><link rel="prefetch" href="/assets/js/129.1704f1e4.js"><link rel="prefetch" href="/assets/js/13.f171e693.js"><link rel="prefetch" href="/assets/js/130.e723fa19.js"><link rel="prefetch" href="/assets/js/131.a74e5213.js"><link rel="prefetch" href="/assets/js/132.58b3c0d0.js"><link rel="prefetch" href="/assets/js/133.70140be2.js"><link rel="prefetch" href="/assets/js/134.42d0e126.js"><link rel="prefetch" href="/assets/js/135.56c60d02.js"><link rel="prefetch" href="/assets/js/136.566c686a.js"><link rel="prefetch" href="/assets/js/137.de72f242.js"><link rel="prefetch" href="/assets/js/138.f571a3db.js"><link rel="prefetch" href="/assets/js/139.1ef15cda.js"><link rel="prefetch" href="/assets/js/14.f931064a.js"><link rel="prefetch" href="/assets/js/140.d157478e.js"><link rel="prefetch" href="/assets/js/141.4c8d9a78.js"><link rel="prefetch" href="/assets/js/142.b395f23f.js"><link rel="prefetch" href="/assets/js/143.57253da4.js"><link rel="prefetch" href="/assets/js/144.a79f669d.js"><link rel="prefetch" href="/assets/js/145.c98bb948.js"><link rel="prefetch" href="/assets/js/146.cce44648.js"><link rel="prefetch" href="/assets/js/147.d698b1a3.js"><link rel="prefetch" href="/assets/js/148.e6dc8c8f.js"><link rel="prefetch" href="/assets/js/149.626c8fc9.js"><link rel="prefetch" href="/assets/js/15.de482045.js"><link rel="prefetch" href="/assets/js/150.1081c1df.js"><link rel="prefetch" href="/assets/js/151.c1066d26.js"><link rel="prefetch" href="/assets/js/152.f21c79f5.js"><link rel="prefetch" href="/assets/js/153.3aecb4c5.js"><link rel="prefetch" href="/assets/js/154.0ad8aabe.js"><link rel="prefetch" href="/assets/js/155.a6d436db.js"><link rel="prefetch" href="/assets/js/156.bd838af2.js"><link rel="prefetch" href="/assets/js/157.c2e7cc99.js"><link rel="prefetch" href="/assets/js/158.94a83037.js"><link rel="prefetch" href="/assets/js/159.35c80517.js"><link rel="prefetch" href="/assets/js/16.4a61aaa5.js"><link rel="prefetch" href="/assets/js/160.f0dde746.js"><link rel="prefetch" href="/assets/js/161.fd1960eb.js"><link rel="prefetch" href="/assets/js/162.48c43e18.js"><link rel="prefetch" href="/assets/js/163.ac4c1c77.js"><link rel="prefetch" href="/assets/js/164.2ba45738.js"><link rel="prefetch" href="/assets/js/165.99ec3fcd.js"><link rel="prefetch" href="/assets/js/166.0d0bb46a.js"><link rel="prefetch" href="/assets/js/167.d65ca4e0.js"><link rel="prefetch" href="/assets/js/168.90170b1b.js"><link rel="prefetch" href="/assets/js/169.4f0fdc6d.js"><link rel="prefetch" href="/assets/js/17.47feb5b2.js"><link rel="prefetch" href="/assets/js/170.b4c1b1fa.js"><link rel="prefetch" href="/assets/js/171.f940dbf0.js"><link rel="prefetch" href="/assets/js/172.85a1846c.js"><link rel="prefetch" href="/assets/js/173.e94da458.js"><link rel="prefetch" href="/assets/js/174.b6c38684.js"><link rel="prefetch" href="/assets/js/175.904e3d63.js"><link rel="prefetch" href="/assets/js/176.17e5bbe2.js"><link rel="prefetch" href="/assets/js/177.fce6d338.js"><link rel="prefetch" href="/assets/js/178.56d7e412.js"><link rel="prefetch" href="/assets/js/179.e396556f.js"><link rel="prefetch" href="/assets/js/18.84fcede2.js"><link rel="prefetch" href="/assets/js/180.2723edde.js"><link rel="prefetch" href="/assets/js/181.4ade7a10.js"><link rel="prefetch" href="/assets/js/182.52ff1fb1.js"><link rel="prefetch" href="/assets/js/183.1936260f.js"><link rel="prefetch" href="/assets/js/184.a57b186a.js"><link rel="prefetch" href="/assets/js/185.6c38f1ff.js"><link rel="prefetch" href="/assets/js/186.f93dfad6.js"><link rel="prefetch" href="/assets/js/187.0ece9a85.js"><link rel="prefetch" href="/assets/js/188.914b5ccd.js"><link rel="prefetch" href="/assets/js/189.36406932.js"><link rel="prefetch" href="/assets/js/19.94c6633c.js"><link rel="prefetch" href="/assets/js/190.df0eff6a.js"><link rel="prefetch" href="/assets/js/191.7b418d1b.js"><link rel="prefetch" href="/assets/js/192.a2889015.js"><link rel="prefetch" href="/assets/js/193.59d9f023.js"><link rel="prefetch" href="/assets/js/194.9d2cf696.js"><link rel="prefetch" href="/assets/js/20.b361c982.js"><link rel="prefetch" href="/assets/js/21.fbeb5e4e.js"><link rel="prefetch" href="/assets/js/22.035ed34b.js"><link rel="prefetch" href="/assets/js/24.dd8c2e89.js"><link rel="prefetch" href="/assets/js/25.fc4923f8.js"><link rel="prefetch" href="/assets/js/26.a051961d.js"><link rel="prefetch" href="/assets/js/27.b16b7222.js"><link rel="prefetch" href="/assets/js/28.010479cf.js"><link rel="prefetch" href="/assets/js/29.4bc7729a.js"><link rel="prefetch" href="/assets/js/30.410b24cb.js"><link rel="prefetch" href="/assets/js/31.1abb1e1f.js"><link rel="prefetch" href="/assets/js/32.d1755f23.js"><link rel="prefetch" href="/assets/js/33.cbe2bf9d.js"><link rel="prefetch" href="/assets/js/34.44d85336.js"><link rel="prefetch" href="/assets/js/35.bb079774.js"><link rel="prefetch" href="/assets/js/36.6230ee26.js"><link rel="prefetch" href="/assets/js/37.95eb1651.js"><link rel="prefetch" href="/assets/js/38.04f5ff22.js"><link rel="prefetch" href="/assets/js/39.38371b0a.js"><link rel="prefetch" href="/assets/js/4.d5ff7d0b.js"><link rel="prefetch" href="/assets/js/40.ed81c668.js"><link rel="prefetch" href="/assets/js/41.e9153ab9.js"><link rel="prefetch" href="/assets/js/42.142a5474.js"><link rel="prefetch" href="/assets/js/43.e3a084ff.js"><link rel="prefetch" href="/assets/js/44.aaff5b82.js"><link rel="prefetch" href="/assets/js/45.bffb1bc5.js"><link rel="prefetch" href="/assets/js/46.a66a4ccd.js"><link rel="prefetch" href="/assets/js/47.37305927.js"><link rel="prefetch" href="/assets/js/48.38e51140.js"><link rel="prefetch" href="/assets/js/49.3f4b4630.js"><link rel="prefetch" href="/assets/js/5.cc4f52e2.js"><link rel="prefetch" href="/assets/js/50.2bf7d76c.js"><link rel="prefetch" href="/assets/js/51.08e255f2.js"><link rel="prefetch" href="/assets/js/52.2f825b99.js"><link rel="prefetch" href="/assets/js/53.6a5dc2fe.js"><link rel="prefetch" href="/assets/js/54.2dc58e9d.js"><link rel="prefetch" href="/assets/js/55.a651187d.js"><link rel="prefetch" href="/assets/js/56.179f3458.js"><link rel="prefetch" href="/assets/js/57.91ea4a4b.js"><link rel="prefetch" href="/assets/js/58.2e2c62e2.js"><link rel="prefetch" href="/assets/js/59.01cf7af1.js"><link rel="prefetch" href="/assets/js/6.489b006c.js"><link rel="prefetch" href="/assets/js/60.d296c4fc.js"><link rel="prefetch" href="/assets/js/61.39781dbb.js"><link rel="prefetch" href="/assets/js/62.bc6bc6e3.js"><link rel="prefetch" href="/assets/js/63.a6aa9d74.js"><link rel="prefetch" href="/assets/js/64.6d9071a1.js"><link rel="prefetch" href="/assets/js/65.1dca386a.js"><link rel="prefetch" href="/assets/js/66.f4bc0f8e.js"><link rel="prefetch" href="/assets/js/67.cc916dec.js"><link rel="prefetch" href="/assets/js/68.27ef429f.js"><link rel="prefetch" href="/assets/js/69.dc351f8f.js"><link rel="prefetch" href="/assets/js/7.fa0f1f92.js"><link rel="prefetch" href="/assets/js/70.96c733de.js"><link rel="prefetch" href="/assets/js/71.e43f4331.js"><link rel="prefetch" href="/assets/js/72.92345389.js"><link rel="prefetch" href="/assets/js/73.6ac6a7a5.js"><link rel="prefetch" href="/assets/js/74.f522ba33.js"><link rel="prefetch" href="/assets/js/75.01680947.js"><link rel="prefetch" href="/assets/js/76.7c8e6a97.js"><link rel="prefetch" href="/assets/js/77.3e704644.js"><link rel="prefetch" href="/assets/js/78.31c3ed37.js"><link rel="prefetch" href="/assets/js/79.86d30626.js"><link rel="prefetch" href="/assets/js/8.8c48d0ee.js"><link rel="prefetch" href="/assets/js/80.bd9861bb.js"><link rel="prefetch" href="/assets/js/81.86b09c72.js"><link rel="prefetch" href="/assets/js/82.4ed5a55d.js"><link rel="prefetch" href="/assets/js/83.f3d8eb1b.js"><link rel="prefetch" href="/assets/js/84.f07238a3.js"><link rel="prefetch" href="/assets/js/85.98270c0d.js"><link rel="prefetch" href="/assets/js/86.aceb70a8.js"><link rel="prefetch" href="/assets/js/87.45c2a264.js"><link rel="prefetch" href="/assets/js/88.006c5bd4.js"><link rel="prefetch" href="/assets/js/89.c31cab13.js"><link rel="prefetch" href="/assets/js/9.8b634c4a.js"><link rel="prefetch" href="/assets/js/90.7b4b1937.js"><link rel="prefetch" href="/assets/js/91.53dda924.js"><link rel="prefetch" href="/assets/js/92.994aabbf.js"><link rel="prefetch" href="/assets/js/93.4d07d347.js"><link rel="prefetch" href="/assets/js/94.a0d7901e.js"><link rel="prefetch" href="/assets/js/95.495740f2.js"><link rel="prefetch" href="/assets/js/96.dbb7e8d8.js"><link rel="prefetch" href="/assets/js/97.3484eb66.js"><link rel="prefetch" href="/assets/js/98.7bee7fab.js"><link rel="prefetch" href="/assets/js/99.2918c452.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.72c12505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49cf1a7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://naninovel.com"><!----> <span class="site-name">Naninovel</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/custom-variables.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/custom-variables.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/custom-variables.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/custom-variables.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/custom-variables.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/custom-variables.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/custom-variables.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/custom-variables.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/compatibility.html" class="sidebar-link">Compatibility</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/guide/naninovel-scripts.html" class="sidebar-link">Naninovel Scripts</a></li><li><a href="/guide/ide-extension.html" class="sidebar-link">IDE Extension</a></li><li><a href="/guide/text-printers.html" class="sidebar-link">Text Printers</a></li><li><a href="/guide/characters.html" class="sidebar-link">Characters</a></li><li><a href="/guide/backgrounds.html" class="sidebar-link">Backgrounds</a></li><li><a href="/guide/transition-effects.html" class="sidebar-link">Transition Effects</a></li><li><a href="/guide/special-effects.html" class="sidebar-link">Special Effects</a></li><li><a href="/guide/audio.html" class="sidebar-link">Audio</a></li><li><a href="/guide/voicing.html" class="sidebar-link">Voicing</a></li><li><a href="/guide/movies.html" class="sidebar-link">Movies</a></li><li><a href="/guide/choices.html" class="sidebar-link">Choices</a></li><li><a href="/guide/user-interface.html" class="sidebar-link">User Interface</a></li><li><a href="/guide/save-load-system.html" class="sidebar-link">Save-Load System</a></li><li><a href="/guide/game-settings.html" class="sidebar-link">Game Settings</a></li><li><a href="/guide/input-processing.html" class="sidebar-link">Input Processing</a></li><li><a href="/guide/unlockable-items.html" class="sidebar-link">Unlockable Items</a></li><li><a href="/guide/custom-variables.html" aria-current="page" class="active sidebar-link">Custom Variables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/custom-variables.html#injecting-variables" class="sidebar-link">Injecting Variables</a></li><li class="sidebar-sub-header"><a href="/guide/custom-variables.html#variable-triggers" class="sidebar-link">Variable Triggers</a></li><li class="sidebar-sub-header"><a href="/guide/custom-variables.html#variables-debug" class="sidebar-link">Variables Debug</a></li><li class="sidebar-sub-header"><a href="/guide/custom-variables.html#using-custom-variables-in-c" class="sidebar-link">Using Custom Variables in C#</a></li></ul></li><li><a href="/guide/script-expressions.html" class="sidebar-link">Script Expressions</a></li><li><a href="/guide/managed-text.html" class="sidebar-link">Managed Text</a></li><li><a href="/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/guide/resource-providers.html" class="sidebar-link">Resource Providers</a></li><li><a href="/guide/community-modding.html" class="sidebar-link">Community Modding</a></li><li><a href="/guide/development-console.html" class="sidebar-link">Development Console</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extensions</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-variables"><a href="#custom-variables" class="header-anchor">#</a> Custom Variables</h1> <p>Custom variables feature allows to create user-specified variables, modify and use them to drive conditional execution of naninovel scripts or other systems. For example, custom variables can be used to select one of the multiple naninovel scripts to play (scenario routes), based on the decisions player has made in the past. Another frequently used scenario is player stats screen (eg, scores, money, resources etc), based on the choices the player makes throughout the game.</p> <p>Custom variables can be created, modified and used both in naninovel scripts via <a href="/api/#set" target="_blank"><code>@set</code></a> and <a href="/api/#if" target="_blank"><code>@if</code></a> commands and in the C# scripts using <code>ICustomVariableManager</code> <a href="/guide/engine-services.html">engine service</a>.</p> <p>For example, the following script command will assign a different value to <code>score</code> custom variable, based on the choice:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;I'm humble, one is enough...&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">score=1</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Two, please.&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">score=2</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;I'll take your entire stock!&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">score=999</span></span></span>
</code></pre></div><p>And the following one will re-route the script execution based on the value of the <code>score</code> variable:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">MainRoute</span><span class="token command-param-id property"> if:</span><span class="token quoted-string operator">&quot;score &gt; 1 &amp;&amp; score &lt;= 900&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">BadEnd</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">score&gt;900</span></span></span>
</code></pre></div><p>See the API reference on <a href="/api/#set" target="_blank"><code>@set</code></a> and <a href="/api/#if" target="_blank"><code>@if</code></a> commands for more examples.</p> <p>All the custom variables are automatically saved with the game. By default, the variables are stored in <strong>local scope</strong>. This means, that if you assign some variable in the course of gameplay and player starts a new game or loads another saved game slot, where that variable wasn't assigned — the value will be lost. This is useful for the most type of variables. If, however, you wish to store the variable in <strong>global scope</strong>, prepend <code>G_</code> or <code>g_</code> to its name, eg: <code>G_FinishedMainRoute</code> or <code>g_total_score</code>. Global variables can be used to indicate some meta or total information, for example, the number of times player has finished some route or a total score based on all the playthroughs.</p> <p>You can set pre-defined custom variables (both global and local) with initial values in the &quot;Custom Variables&quot; configuration menu.</p> <p><img src="https://i.gyazo.com/21701f17403921e34ba4da33b0261ad0.png" alt=""></p> <p>Global pre-defined variables are initialized on first application start, while the locals do so on each state reset. Notice, that the value field in the menu expects a valid script expression and not a raw value string.</p> <h2 id="injecting-variables"><a href="#injecting-variables" class="header-anchor">#</a> Injecting Variables</h2> <p>It's possible to inject (inline) custom variable to naninovel script parameter values using the curly braces.</p> <p>The following script will show an input field UI where user can enter an arbitrary text. Upon submit the entered text will be assigned to the specified custom variable.</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Allow user to enter an arbitrary text and assign it to `name` custom state variable</span>
<span class="token command function"><span class="token command-name">@input</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">name</span><span class="token command-param-id property"> summary:</span><span class="token quoted-string operator">&quot;Choose your name.&quot;</span></span></span>
<span class="token comment">; Stop command is required to halt script execution until user submits the input</span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token comment">; You can then inject the assigned `name` variable in naninovel scripts</span>
<span class="token generic-text punctuation">Archibald: Greetings, <span class="token expression selector">{name}</span>!</span>
<span class="token generic-text punctuation"><span class="token expression selector">{name}</span>: Yo!</span>

<span class="token comment">; ...or use it inside set and conditional expressions</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">score=score+1</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">name==</span><span class="token quoted-string operator">&quot;Felix&quot;</span></span></span>
</code></pre></div><p>You can inject the custom variables to any parameter values as long as the type allows. Eg, you can't assign a string (text) to an integer (number) parameter.</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName=&quot;Felix&quot;;PlayerYPosition=0.1;PlayerTint=&quot;lightblue&quot;</span></span></span>

<span class="token comment">; The following will produce an error, as `PlayerTint` is not a number.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token whitespaces"> </span><span class="token expression selector">{PlayerName}</span><span class="token command-params"><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">50,</span></span><span class="token expression selector">{PlayerTint}</span><span class="token whitespaces"> </span></span>

<span class="token comment">; ...and this will execute just fine.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token whitespaces"> </span><span class="token expression selector">{PlayerName}</span><span class="token command-params"><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">50,</span></span><span class="token expression selector">{PlayerYPosition}</span><span class="token command-params"><span class="token command-param-id property"> tint:</span></span><span class="token expression selector">{PlayerTint}</span></span>
</code></pre></div><h2 id="variable-triggers"><a href="#variable-triggers" class="header-anchor">#</a> Variable Triggers</h2> <p>When building a <a href="/guide/user-interface.html#ui-customization">custom UI</a> or other systems, you may want to listen (react) for events when a variable value is changed. For example, when building a character stats screen, you want make the text to change with the variables. While the conventional way to implement such behavior would be using a C# script, you can also make use of <code>Custom Variable Trigger</code> component. The component will invoke Unity events when a variable with specified name is changed. You can bind compatible commands with those events, such as updating the text values.</p> <p><img src="https://i.gyazo.com/22eddd109e76d4e63c461e9d75b20ceb.png" alt=""></p> <h2 id="variables-debug"><a href="#variables-debug" class="header-anchor">#</a> Variables Debug</h2> <p>While the game is running it's possible to view all the existing variables and change their values for debugging purposes.</p> <p>Open <a href="/guide/development-console.html">development console</a> and enter <code>var</code> command to open the variables editor window.</p> <p><img src="https://i.gyazo.com/d1812668c0776b01f3a82c5ddcba0145.png" alt=""></p> <p>When changing value of a variable in the list, a &quot;SET&quot; button will appear, which you can press to apply the changes.</p> <p>The variables list is automatically updated when the custom variables are changed while running the game.</p> <h2 id="using-custom-variables-in-c"><a href="#using-custom-variables-in-c" class="header-anchor">#</a> Using Custom Variables in C#</h2> <p>The custom variables can be accessed in C# via <code>ICustomVariableManager</code> <a href="/guide/engine-services.html">engine service</a>.</p> <p>To get a variable value use <code>GetVariableValue(name)</code> method and <code>SetVariableValue(name, value)</code> to set variable value; eg, given a &quot;MyVariable&quot; custom string variable exists, the below code will retrieve it, append &quot;Hello!&quot; string to the value and set it back.</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> variableManager <span class="token operator">=</span> Engine<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICustomVariableManager<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> myValue <span class="token operator">=</span> variableManager<span class="token punctuation">.</span><span class="token function">GetVariableValue</span><span class="token punctuation">(</span><span class="token string">&quot;MyVariableName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myValue <span class="token operator">+=</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>
variableManager<span class="token punctuation">.</span><span class="token function">SetVariableValue</span><span class="token punctuation">(</span><span class="token string">&quot;MyVariable&quot;</span><span class="token punctuation">,</span> myValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Be aware, that all the custom variable values are stored as strings. If you want to use them as other types (eg, integer, boolean, etc), you have to parse the returned string values to the desired type and cast them back to strings when setting the values. For most common data types extension methods are available, eg:</p> <div class="language-csharp extra-class"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> variableManager <span class="token operator">=</span> Engine<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ICustomVariableManager<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

variableManager<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TryGetVariableValue</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">float</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;MyFloatVariableName&quot;</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> floatValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;My float variable value: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">floatValue</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

variableManager<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TryGetVariableValue</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;MyIntegerVariableName&quot;</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> intValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;My integer variable value: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">intValue</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

variableManager<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">TryGetVariableValue</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;MyBooleanVariableName&quot;</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> boolValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
Debug<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$&quot;My boolean variable value: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">boolValue</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

floatValue <span class="token operator">+=</span> <span class="token number">10.5f</span><span class="token punctuation">;</span>
variableManager<span class="token punctuation">.</span><span class="token function">TrySetVariableValue</span><span class="token punctuation">(</span><span class="token string">&quot;MyFloatVariableName&quot;</span><span class="token punctuation">,</span> floatValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

intValue <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">55</span><span class="token punctuation">;</span>
variableManager<span class="token punctuation">.</span><span class="token function">TrySetVariableValue</span><span class="token punctuation">(</span><span class="token string">&quot;MyIntegerVariableName&quot;</span><span class="token punctuation">,</span> intValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

boolValue <span class="token operator">=</span> <span class="token operator">!</span>boolValue<span class="token punctuation">;</span>
variableManager<span class="token punctuation">.</span><span class="token function">TrySetVariableValue</span><span class="token punctuation">(</span><span class="token string">&quot;MyBooleanVariableName&quot;</span><span class="token punctuation">,</span> boolValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">October 3, 2020</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/unlockable-items.html" class="prev">
        Unlockable Items
      </a></span> <span class="next"><a href="/guide/script-expressions.html">
        Script Expressions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7081dc02.js" defer></script><script src="/assets/js/3.edd03593.js" defer></script><script src="/assets/js/23.8e154398.js" defer></script>
  </body>
</html>
