<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>人物 | Naninovel</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="功能齊全，易於編寫且易於自定義的Unity遊戲引擎视觉小说擴展。">
    <meta name="theme-color" content="#4985c2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:image" content="/assets/img/og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="msapplication-TileImage" content="/assets/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="google-site-verification" content="cdvgJ2XFFbaGErDKJtTbFj9u9frfReZ9rzUnsf9F6nI">
    <link rel="preload" href="/assets/css/0.styles.49cf1a7f.css" as="style"><link rel="preload" href="/assets/js/app.7081dc02.js" as="script"><link rel="preload" href="/assets/js/3.edd03593.js" as="script"><link rel="preload" href="/assets/js/156.bd838af2.js" as="script"><link rel="prefetch" href="/assets/js/10.cd95fe25.js"><link rel="prefetch" href="/assets/js/100.2c7ddd2f.js"><link rel="prefetch" href="/assets/js/101.a4db67f4.js"><link rel="prefetch" href="/assets/js/102.4166bf91.js"><link rel="prefetch" href="/assets/js/103.21881421.js"><link rel="prefetch" href="/assets/js/104.b75a1973.js"><link rel="prefetch" href="/assets/js/105.26100b1a.js"><link rel="prefetch" href="/assets/js/106.09f179d4.js"><link rel="prefetch" href="/assets/js/107.86ac9447.js"><link rel="prefetch" href="/assets/js/108.e7e03b77.js"><link rel="prefetch" href="/assets/js/109.0bd5d496.js"><link rel="prefetch" href="/assets/js/11.d37f9cee.js"><link rel="prefetch" href="/assets/js/110.297115e6.js"><link rel="prefetch" href="/assets/js/111.6067a1c5.js"><link rel="prefetch" href="/assets/js/112.82c7c323.js"><link rel="prefetch" href="/assets/js/113.42ab0da7.js"><link rel="prefetch" href="/assets/js/114.30db486d.js"><link rel="prefetch" href="/assets/js/115.e8a87ca4.js"><link rel="prefetch" href="/assets/js/116.8b36f9d7.js"><link rel="prefetch" href="/assets/js/117.4b8466ef.js"><link rel="prefetch" href="/assets/js/118.2c320ad9.js"><link rel="prefetch" href="/assets/js/119.5feee4d4.js"><link rel="prefetch" href="/assets/js/12.f4e7502c.js"><link rel="prefetch" href="/assets/js/120.aec27d48.js"><link rel="prefetch" href="/assets/js/121.f36d5945.js"><link rel="prefetch" href="/assets/js/122.bfe5fa18.js"><link rel="prefetch" href="/assets/js/123.9a1f01db.js"><link rel="prefetch" href="/assets/js/124.93b8b504.js"><link rel="prefetch" href="/assets/js/125.1a24c7f7.js"><link rel="prefetch" href="/assets/js/126.3df14633.js"><link rel="prefetch" href="/assets/js/127.88a85fdb.js"><link rel="prefetch" href="/assets/js/128.f24e1a5a.js"><link rel="prefetch" href="/assets/js/129.1704f1e4.js"><link rel="prefetch" href="/assets/js/13.f171e693.js"><link rel="prefetch" href="/assets/js/130.e723fa19.js"><link rel="prefetch" href="/assets/js/131.a74e5213.js"><link rel="prefetch" href="/assets/js/132.58b3c0d0.js"><link rel="prefetch" href="/assets/js/133.70140be2.js"><link rel="prefetch" href="/assets/js/134.42d0e126.js"><link rel="prefetch" href="/assets/js/135.56c60d02.js"><link rel="prefetch" href="/assets/js/136.566c686a.js"><link rel="prefetch" href="/assets/js/137.de72f242.js"><link rel="prefetch" href="/assets/js/138.f571a3db.js"><link rel="prefetch" href="/assets/js/139.1ef15cda.js"><link rel="prefetch" href="/assets/js/14.f931064a.js"><link rel="prefetch" href="/assets/js/140.d157478e.js"><link rel="prefetch" href="/assets/js/141.4c8d9a78.js"><link rel="prefetch" href="/assets/js/142.b395f23f.js"><link rel="prefetch" href="/assets/js/143.57253da4.js"><link rel="prefetch" href="/assets/js/144.a79f669d.js"><link rel="prefetch" href="/assets/js/145.c98bb948.js"><link rel="prefetch" href="/assets/js/146.cce44648.js"><link rel="prefetch" href="/assets/js/147.d698b1a3.js"><link rel="prefetch" href="/assets/js/148.e6dc8c8f.js"><link rel="prefetch" href="/assets/js/149.626c8fc9.js"><link rel="prefetch" href="/assets/js/15.de482045.js"><link rel="prefetch" href="/assets/js/150.1081c1df.js"><link rel="prefetch" href="/assets/js/151.c1066d26.js"><link rel="prefetch" href="/assets/js/152.f21c79f5.js"><link rel="prefetch" href="/assets/js/153.3aecb4c5.js"><link rel="prefetch" href="/assets/js/154.0ad8aabe.js"><link rel="prefetch" href="/assets/js/155.a6d436db.js"><link rel="prefetch" href="/assets/js/157.c2e7cc99.js"><link rel="prefetch" href="/assets/js/158.94a83037.js"><link rel="prefetch" href="/assets/js/159.35c80517.js"><link rel="prefetch" href="/assets/js/16.4a61aaa5.js"><link rel="prefetch" href="/assets/js/160.f0dde746.js"><link rel="prefetch" href="/assets/js/161.fd1960eb.js"><link rel="prefetch" href="/assets/js/162.48c43e18.js"><link rel="prefetch" href="/assets/js/163.ac4c1c77.js"><link rel="prefetch" href="/assets/js/164.2ba45738.js"><link rel="prefetch" href="/assets/js/165.99ec3fcd.js"><link rel="prefetch" href="/assets/js/166.0d0bb46a.js"><link rel="prefetch" href="/assets/js/167.d65ca4e0.js"><link rel="prefetch" href="/assets/js/168.90170b1b.js"><link rel="prefetch" href="/assets/js/169.4f0fdc6d.js"><link rel="prefetch" href="/assets/js/17.47feb5b2.js"><link rel="prefetch" href="/assets/js/170.b4c1b1fa.js"><link rel="prefetch" href="/assets/js/171.f940dbf0.js"><link rel="prefetch" href="/assets/js/172.85a1846c.js"><link rel="prefetch" href="/assets/js/173.e94da458.js"><link rel="prefetch" href="/assets/js/174.b6c38684.js"><link rel="prefetch" href="/assets/js/175.904e3d63.js"><link rel="prefetch" href="/assets/js/176.17e5bbe2.js"><link rel="prefetch" href="/assets/js/177.fce6d338.js"><link rel="prefetch" href="/assets/js/178.56d7e412.js"><link rel="prefetch" href="/assets/js/179.e396556f.js"><link rel="prefetch" href="/assets/js/18.84fcede2.js"><link rel="prefetch" href="/assets/js/180.2723edde.js"><link rel="prefetch" href="/assets/js/181.4ade7a10.js"><link rel="prefetch" href="/assets/js/182.52ff1fb1.js"><link rel="prefetch" href="/assets/js/183.1936260f.js"><link rel="prefetch" href="/assets/js/184.a57b186a.js"><link rel="prefetch" href="/assets/js/185.6c38f1ff.js"><link rel="prefetch" href="/assets/js/186.f93dfad6.js"><link rel="prefetch" href="/assets/js/187.0ece9a85.js"><link rel="prefetch" href="/assets/js/188.914b5ccd.js"><link rel="prefetch" href="/assets/js/189.36406932.js"><link rel="prefetch" href="/assets/js/19.94c6633c.js"><link rel="prefetch" href="/assets/js/190.df0eff6a.js"><link rel="prefetch" href="/assets/js/191.7b418d1b.js"><link rel="prefetch" href="/assets/js/192.a2889015.js"><link rel="prefetch" href="/assets/js/193.59d9f023.js"><link rel="prefetch" href="/assets/js/194.9d2cf696.js"><link rel="prefetch" href="/assets/js/20.b361c982.js"><link rel="prefetch" href="/assets/js/21.fbeb5e4e.js"><link rel="prefetch" href="/assets/js/22.035ed34b.js"><link rel="prefetch" href="/assets/js/23.8e154398.js"><link rel="prefetch" href="/assets/js/24.dd8c2e89.js"><link rel="prefetch" href="/assets/js/25.fc4923f8.js"><link rel="prefetch" href="/assets/js/26.a051961d.js"><link rel="prefetch" href="/assets/js/27.b16b7222.js"><link rel="prefetch" href="/assets/js/28.010479cf.js"><link rel="prefetch" href="/assets/js/29.4bc7729a.js"><link rel="prefetch" href="/assets/js/30.410b24cb.js"><link rel="prefetch" href="/assets/js/31.1abb1e1f.js"><link rel="prefetch" href="/assets/js/32.d1755f23.js"><link rel="prefetch" href="/assets/js/33.cbe2bf9d.js"><link rel="prefetch" href="/assets/js/34.44d85336.js"><link rel="prefetch" href="/assets/js/35.bb079774.js"><link rel="prefetch" href="/assets/js/36.6230ee26.js"><link rel="prefetch" href="/assets/js/37.95eb1651.js"><link rel="prefetch" href="/assets/js/38.04f5ff22.js"><link rel="prefetch" href="/assets/js/39.38371b0a.js"><link rel="prefetch" href="/assets/js/4.d5ff7d0b.js"><link rel="prefetch" href="/assets/js/40.ed81c668.js"><link rel="prefetch" href="/assets/js/41.e9153ab9.js"><link rel="prefetch" href="/assets/js/42.142a5474.js"><link rel="prefetch" href="/assets/js/43.e3a084ff.js"><link rel="prefetch" href="/assets/js/44.aaff5b82.js"><link rel="prefetch" href="/assets/js/45.bffb1bc5.js"><link rel="prefetch" href="/assets/js/46.a66a4ccd.js"><link rel="prefetch" href="/assets/js/47.37305927.js"><link rel="prefetch" href="/assets/js/48.38e51140.js"><link rel="prefetch" href="/assets/js/49.3f4b4630.js"><link rel="prefetch" href="/assets/js/5.cc4f52e2.js"><link rel="prefetch" href="/assets/js/50.2bf7d76c.js"><link rel="prefetch" href="/assets/js/51.08e255f2.js"><link rel="prefetch" href="/assets/js/52.2f825b99.js"><link rel="prefetch" href="/assets/js/53.6a5dc2fe.js"><link rel="prefetch" href="/assets/js/54.2dc58e9d.js"><link rel="prefetch" href="/assets/js/55.a651187d.js"><link rel="prefetch" href="/assets/js/56.179f3458.js"><link rel="prefetch" href="/assets/js/57.91ea4a4b.js"><link rel="prefetch" href="/assets/js/58.2e2c62e2.js"><link rel="prefetch" href="/assets/js/59.01cf7af1.js"><link rel="prefetch" href="/assets/js/6.489b006c.js"><link rel="prefetch" href="/assets/js/60.d296c4fc.js"><link rel="prefetch" href="/assets/js/61.39781dbb.js"><link rel="prefetch" href="/assets/js/62.bc6bc6e3.js"><link rel="prefetch" href="/assets/js/63.a6aa9d74.js"><link rel="prefetch" href="/assets/js/64.6d9071a1.js"><link rel="prefetch" href="/assets/js/65.1dca386a.js"><link rel="prefetch" href="/assets/js/66.f4bc0f8e.js"><link rel="prefetch" href="/assets/js/67.cc916dec.js"><link rel="prefetch" href="/assets/js/68.27ef429f.js"><link rel="prefetch" href="/assets/js/69.dc351f8f.js"><link rel="prefetch" href="/assets/js/7.fa0f1f92.js"><link rel="prefetch" href="/assets/js/70.96c733de.js"><link rel="prefetch" href="/assets/js/71.e43f4331.js"><link rel="prefetch" href="/assets/js/72.92345389.js"><link rel="prefetch" href="/assets/js/73.6ac6a7a5.js"><link rel="prefetch" href="/assets/js/74.f522ba33.js"><link rel="prefetch" href="/assets/js/75.01680947.js"><link rel="prefetch" href="/assets/js/76.7c8e6a97.js"><link rel="prefetch" href="/assets/js/77.3e704644.js"><link rel="prefetch" href="/assets/js/78.31c3ed37.js"><link rel="prefetch" href="/assets/js/79.86d30626.js"><link rel="prefetch" href="/assets/js/8.8c48d0ee.js"><link rel="prefetch" href="/assets/js/80.bd9861bb.js"><link rel="prefetch" href="/assets/js/81.86b09c72.js"><link rel="prefetch" href="/assets/js/82.4ed5a55d.js"><link rel="prefetch" href="/assets/js/83.f3d8eb1b.js"><link rel="prefetch" href="/assets/js/84.f07238a3.js"><link rel="prefetch" href="/assets/js/85.98270c0d.js"><link rel="prefetch" href="/assets/js/86.aceb70a8.js"><link rel="prefetch" href="/assets/js/87.45c2a264.js"><link rel="prefetch" href="/assets/js/88.006c5bd4.js"><link rel="prefetch" href="/assets/js/89.c31cab13.js"><link rel="prefetch" href="/assets/js/9.8b634c4a.js"><link rel="prefetch" href="/assets/js/90.7b4b1937.js"><link rel="prefetch" href="/assets/js/91.53dda924.js"><link rel="prefetch" href="/assets/js/92.994aabbf.js"><link rel="prefetch" href="/assets/js/93.4d07d347.js"><link rel="prefetch" href="/assets/js/94.a0d7901e.js"><link rel="prefetch" href="/assets/js/95.495740f2.js"><link rel="prefetch" href="/assets/js/96.dbb7e8d8.js"><link rel="prefetch" href="/assets/js/97.3484eb66.js"><link rel="prefetch" href="/assets/js/98.7bee7fab.js"><link rel="prefetch" href="/assets/js/99.2918c452.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.72c12505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49cf1a7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://naninovel.com"><!----> <span class="site-name">Naninovel</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/zh/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link">
  指令
</a></div><div class="nav-item"><a href="/zh/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="語言" class="dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/characters.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/characters.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/characters.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/characters.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/zh/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/zh/api/" class="nav-link">
  指令
</a></div><div class="nav-item"><a href="/zh/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="語言" class="dropdown-title"><span class="title">語言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/characters.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/characters.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/characters.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/characters.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>指南</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/guide/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/zh/guide/compatibility.html" class="sidebar-link">兼容性</a></li><li><a href="/zh/guide/getting-started.html" class="sidebar-link">开始指南</a></li><li><a href="/zh/guide/configuration.html" class="sidebar-link">属性配置</a></li><li><a href="/zh/guide/naninovel-scripts.html" class="sidebar-link">Naninovel 脚本</a></li><li><a href="/zh/guide/ide-extension.html" class="sidebar-link">IDE支持</a></li><li><a href="/zh/guide/text-printers.html" class="sidebar-link">文本打字机</a></li><li><a href="/zh/guide/characters.html" aria-current="page" class="active sidebar-link">人物</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#姿势" class="sidebar-link">姿势</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#显示姓名" class="sidebar-link">显示姓名</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#文本颜色" class="sidebar-link">文本颜色</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#头像贴图" class="sidebar-link">头像贴图</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#说话人高亮" class="sidebar-link">说话人高亮</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#嘴唇同步" class="sidebar-link">嘴唇同步</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#关联打字机" class="sidebar-link">关联打字机</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#图像精灵人物" class="sidebar-link">图像精灵人物</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#切片精灵人物" class="sidebar-link">切片精灵人物</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#分层式人物" class="sidebar-link">分层式人物</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#传统人物" class="sidebar-link">传统人物</a></li><li class="sidebar-sub-header"><a href="/zh/guide/characters.html#live2d人物" class="sidebar-link">Live2D人物</a></li></ul></li><li><a href="/zh/guide/backgrounds.html" class="sidebar-link">背景</a></li><li><a href="/zh/guide/transition-effects.html" class="sidebar-link">过渡效果</a></li><li><a href="/zh/guide/special-effects.html" class="sidebar-link">特殊效果</a></li><li><a href="/zh/guide/audio.html" class="sidebar-link">音频</a></li><li><a href="/zh/guide/voicing.html" class="sidebar-link">语音</a></li><li><a href="/zh/guide/movies.html" class="sidebar-link">影片</a></li><li><a href="/zh/guide/choices.html" class="sidebar-link">选择</a></li><li><a href="/zh/guide/user-interface.html" class="sidebar-link">用户界面UI</a></li><li><a href="/zh/guide/save-load-system.html" class="sidebar-link">读取保存系统</a></li><li><a href="/zh/guide/game-settings.html" class="sidebar-link">游戏设置</a></li><li><a href="/zh/guide/input-processing.html" class="sidebar-link">输入处理</a></li><li><a href="/zh/guide/unlockable-items.html" class="sidebar-link">可解锁物件</a></li><li><a href="/zh/guide/custom-variables.html" class="sidebar-link">自定义变量</a></li><li><a href="/zh/guide/script-expressions.html" class="sidebar-link">脚本表达式</a></li><li><a href="/zh/guide/managed-text.html" class="sidebar-link">托管文本</a></li><li><a href="/zh/guide/localization.html" class="sidebar-link">本地化</a></li><li><a href="/zh/guide/resource-providers.html" class="sidebar-link">资源加载器</a></li><li><a href="/zh/guide/community-modding.html" class="sidebar-link">玩家自定义修改</a></li><li><a href="/zh/guide/development-console.html" class="sidebar-link">开发控制台</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>高級</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>擴展</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="人物"><a href="#人物" class="header-anchor">#</a> 人物</h1> <p>人物时用于表现独立场景的演出元素，置于<a href="/zh/guide/backgrounds.html">背景</a> 之上。</p> <p>一个角色元素由名字，外观，可见度，位置，旋转，缩放，朝向定义组成。在运行中，上述属性可改变。</p> <p>角色配置可以通过<code>Naninovel -&gt; Configuration -&gt; Characters</code>菜单来配置。其他可选配置参考<a href="/zh/guide/configuration.html#人物">属性配置</a> 。角色资源管理通过<code>Naninovel -&gt; Resources -&gt; Characters</code>管理。</p> <p><img src="https://i.gyazo.com/c8a4f7f987621831b4a2ecb3145a4a07.png" alt="Add Character"></p> <p>如果你有大量角色需要配置，通过菜单添加会很不便你可以在<code>Resources/Naninovel/Characters</code>目录下通过拖拽至此，添加相应ID的资源。比如，你想添加ID为&quot;Kohaku&quot;角色的资源，
在上述目录中直接放入Texture图片精灵，它们就会被自动配置，在脚本中就能获取到了。</p> <p>另外你可以通过子文件夹管理相应资源。该情况下，你可以用正斜杠 (<code>/</code>)在Naninovel脚本中调用。比如，资源路径为<code>Resources/Naninovel/Characters/Kohaku/Casual/Angry</code> 的资源，调用时为<code>Casual/Angry</code>。</p> <p>你也可使用<a href="/zh/guide/resource-providers.html#寻址资源系统">可寻址资源系统</a> 手动调用资源。你可以通过省略上述的&quot;Resources/&quot;部分的路径来直接调用相应资源。
比如，如果你想使用&quot;Kohaku&quot;的&quot;Happy&quot;外观，绑定资源地址为<code>Naninovel/Characters/Kohaku/Happy</code>。注意该调用系统默认关闭，打开资源提供配置菜单的<code>Enable Addressable In Editor</code>属性来启用。</p> <p>在Naninovel脚本中，人物大多数由<a href="/zh/api/#char" target="_blank"><code>@char</code></a>命令控制：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 显示Sora的默认外观</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora</span></span></span>

<span class="token comment">; 显示Sora 的“Happy”外观</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span></span></span>

<span class="token comment">; 同上，显示距离距左边框45%</span>
<span class="token comment">; 距下边框10%，并使其看向左</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span><span class="token command-param-id property"> look:</span><span class="token command-param-value operator">left</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">45,10</span></span></span>
</code></pre></div><h2 id="姿势"><a href="#姿势" class="header-anchor">#</a> 姿势</h2> <p>每个角色都有一个名为<code>Poses</code>的属性，允许定制特定状态（姿势）。
Each character has <code>Poses</code> property allowing to specify named states (poses).</p> <p><img src="https://i.gyazo.com/5b022d32eddb3e721ed036c96f662f5d.png" alt=""></p> <p>已经配置好的姿势名可被像外观名字一样用<a href="/zh/api/#char" target="_blank"><code>@char</code></a>命令来调用预设，而不是每次通过脚本命令参数来达到效果。</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 名为`SuperAngry` 的预设姿势，用于 `Kohaku` 角色，</span>
<span class="token comment">; 将所有的预设参数应用于该角色，</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span></span></span>

<span class="token comment">; 同上，但是同时使用`DropFade`过渡效果，持续3秒。</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span><span class="token command-param-id property"> transition:</span><span class="token command-param-value operator">DropFade</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3</span></span></span>
</code></pre></div><p>注意，当姿势像外观一样被调用的时候，你仍然可以单独对某个参数进行重定义修改，比如：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 名为`SuperAngry` 的预设姿势，用于 `Kohaku` 角色，</span>
<span class="token comment">; 将所有的预设参数应用于该角色，</span>
<span class="token comment">; 除色调Tint参数外, 使用如下命令重新定义。</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span><span class="token command-param-id property"> tint:</span><span class="token command-param-value operator">#ff45cb</span></span></span>
</code></pre></div><h2 id="显示姓名"><a href="#显示姓名" class="header-anchor">#</a> 显示姓名</h2> <p>在角色配置菜单，你可以为特定角色设置<code>Display Name</code>即显示姓名。当设置以后，在姓名区位置显示名字就会显示该配置的名字，而不是角色的ID。该设置可以允许名字使用特殊字符和空格（ID则不行）。</p> <p>做本地化时，使用<a href="/zh/guide/managed-text">托管文本</a> 中的&quot;CharacterNames&quot;来配置。该文本文件，会在使用生成托管文本资源功能时创建。该配置，在相应语言内不会覆盖原本的角色数据设置。</p> <p>你也可以将<code>Display Name</code>绑定为自定义变量，来在运行中通过Naninovel脚本动态改变这个值。按下图所示，用中括号括住相应变量名字写入配置菜单。</p> <p><img src="https://i.gyazo.com/9743061df462bd809afc45bff20bbb6d.png" alt=""></p> <p>你可以在Naninovel脚本中改变变量值，它也会随着同时改变显示姓名：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName=&quot;Mistery</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Man&quot;</span></span></span>
<span class="token generic-text punctuation">Player: ...</span>

<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName=&quot;Dr.</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Stein&quot;</span></span></span>
<span class="token generic-text punctuation">Player: You can call me Dr. Stein.</span>
</code></pre></div><p>你也可以姓名绑定功能使用<a href="/zh/api/#input" target="_blank"><code>@input</code></a>命令来让玩家自己输入其姓名，如下：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@input</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName</span><span class="token command-param-id property"> summary:</span><span class="token quoted-string operator">&quot;Choose your name.&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>
<span class="token generic-text punctuation">Player: You can call me <span class="token expression selector">{PlayerName}</span>.</span>
</code></pre></div><h2 id="文本颜色"><a href="#文本颜色" class="header-anchor">#</a> 文本颜色</h2> <p>当角色配置菜单中 <code>Use Character Color</code> 属性打开，打字机文本和角色姓名，会在使用<a href="/zh/api/#print" target="_blank"><code>@print</code></a> 命令或普通内容文本行的时候根据特定角色ID，被着色为对应的颜色。</p> <p>以下视频为显示姓名功能和文本颜色的演示：</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/u5B5s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="头像贴图"><a href="#头像贴图" class="header-anchor">#</a> 头像贴图</h2> <p>你可以使用<a href="/zh/api/#char" target="_blank"><code>@char</code></a> 命令的<code>avatar</code>参数来使用头像。在可用头像功能的打字机显示角色的时候，就会显示头像。目前，仅<code>宽屏打字机</code>和<code>对话打字机</code>支持头像显示功能。</p> <p><img src="https://i.gyazo.com/83c091c08846fa1cab8764a8d4dddeda.png" alt=""></p> <p>要使用头像，你首先需要在资源里配置相应资源并设置名字。在角色配置菜单中的<code>Avatar Resources</code>属性中完成相应配置。</p> <p><img src="https://i.gyazo.com/5a0f10d174aa75ed87da1b472567e40b.png" alt=""></p> <div class="custom-block note"><p class="custom-block-title">注意</p> <p>头像名字可以说随意取，也并不需要和已有的角色或外观姓名有关联。除了当你像想让他们自动关联显示的时候。</p></div> <p>在脚本中显示特定头像方法，如下：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharacaterId</span><span class="token command-param-id property"> avatar:</span><span class="token command-param-value operator">AvatarName</span></span></span>
</code></pre></div><p>要为一个角色设置默认头像，将该头像贴图资源的名字按<code>角色ID/Default</code>格式命名；比如，你要为<code>Kohaku</code>角色设置默认头像，头像贴图就命名为<code>Kohaku/Default</code>。如此操作，即使脚本里<a href="/zh/api/#char" target="_blank"><code>@char</code></a>命令里没有定义<code>avatar</code>参数，头像也会随人物自动显示。</p> <p>参照如上方法，可以为特定角色立绘来匹配头像，格式为<code>角色ID/立绘ID</code>，<code>立绘ID</code>为匹配立绘的ID名。</p> <p>请注意，<strong>头像显示和角色立绘显示无关</strong>，不应当将此功能用作立绘显示。立绘显示时绘制于场景之上，而头像仅仅将任意图像“注入”到打字机的图像匹配区域。</p> <p>通过设置<a href="/zh/api/#char" target="_blank"><code>@char</code></a>命令的 <code>visible</code> 参数值为 <code>false</code>，可以隐藏角色，而只显示头像，如下：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharacaterId</span><span class="token command-param-id property"> visible:</span><span class="token command-param-value operator">false</span></span></span>
</code></pre></div><p>万一你需要频繁改变头像，而不显示角色。可以将角色配置菜单中的 <code>Auto Show On Modify</code> 关闭。如此你就不需要每次都取修改<code>visible:false</code> 了。</p> <h2 id="说话人高亮"><a href="#说话人高亮" class="header-anchor">#</a> 说话人高亮</h2> <p>当在角色配置菜单中打开时，将为说话的角色加高亮效果提示。参考如下视频：</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/gobowgagdyE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="嘴唇同步"><a href="#嘴唇同步" class="header-anchor">#</a> 嘴唇同步</h2> <p><a href="/zh/guide/characters.html#传统人物">传统立绘</a> and <a href="/zh/guide/characters.html#Live2D人物">Live2D</a> 人物支持名为“嘴唇同步”的特性，允许通过合适的事件通知，来在显示文字的时候，控制角色的嘴唇动画。</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <p>当<a href="/zh/guide/voicing.html#自动语音">自动语音</a> 功能开启时，嘴唇同步会由语音控制。另外，文字打印时也会激活该事件，在这种情况下，如果你想开始或停止该功能，（比如：在显示文字符号的时候停止嘴唇同步），使用<a href="/zh/api/#lipsync" target="_blank"><code>@lipSync</code></a>命令。</p> <p>参考 <a href="/zh/guide/characters.html#传统人物">传统立绘</a> and <a href="/zh/guide/characters.html#Live2D人物">Live2D</a> 人物的实现部分来使用此功能。</p> <h2 id="关联打字机"><a href="#关联打字机" class="header-anchor">#</a> 关联打字机</h2> <p>用户可以使用<code>关联打字机</code>属性，将<a href="/zh/guide/text-printers.html">文本打字机</a>和人物相关联。</p> <p><img src="https://i.gyazo.com/50ca6b39cd7f708158678339244b1dc4.png" alt=""></p> <p>关联之后，程序就会自动根据人物来使用相应的打字机预设。</p> <p>注意，<a href="/zh/api/#print" target="_blank"><code>@print</code></a>命令（在处理普通内容文本行时程序也会使用该命令），会默认将关联的打字机设为默认，并隐藏其他打字机。在关联时，<a href="/zh/api/#print" target="_blank"><code>@print</code></a>命令会自动改变其他打字机的可见，改变为相应打字机，将其设为默认。你可以通过关闭打字机元素配置菜单内的<code>Auto Default</code>属性停用该效果。停用之后，你必须手动通过<a href="/zh/api/#printer" target="_blank"><code>@printer</code></a>来切换默认打字机以及显示隐藏相应打字机。</p> <h2 id="图像精灵人物"><a href="#图像精灵人物" class="header-anchor">#</a> 图像精灵人物</h2> <p>图像精灵人物，是用于人物元素的最通用最简单的一种资源格式。<a href="https://docs.unity3d.com/Manual/Sprites" target="_blank" rel="noopener noreferrer">图像精灵<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。 用于表现人物的外观。精灵可以是贴图或其他<a href="https://docs.unity3d.com/Manual/ImportingTextures" target="_blank" rel="noopener noreferrer">Unity支持的格式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <h2 id="切片精灵人物"><a href="#切片精灵人物" class="header-anchor">#</a> 切片精灵人物</h2> <p>通过开源资源<a href="https://github.com/Elringus/SpriteDicing" target="_blank" rel="noopener noreferrer">SpriteDicing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>创建 。
<code>切片精灵人物</code>特性能够通过复用相同图像部分，来显著减少图像文件大小。</p> <p><img src="https://i.gyazo.com/af08d141e7a08b6a8e2ef60c07332bbf.png" alt="Sprite Dicing"></p> <p>通过unity内置的<a href="https://docs.unity3d.com/Manual/upm-ui.html" target="_blank" rel="noopener noreferrer">Unity package manager<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来安装该资源包。打开该窗口，(Window -&gt; Package Manager)点击“+”按钮，选择&quot;Add package from git URL&quot;，输入地址：<code>https://github.com/Elringus/SpriteDicing.git#package</code>点击“Add”导入。参考下图来安装：</p> <p><video loop="loop" autoplay="autoplay" muted="muted" class="video"><source src="https://i.gyazo.com/b54e9daa9a483d9bf7f74f0e94b2d38a.mp4" type="video/mp4"></video></p> <p><code>切片精灵人物</code>资源包含用于人物表现的切片精灵，每个外观都由名字来切分出其包含在图集中的精灵。</p> <p>注意，部分切片人物数据参数（单位像素pixels per unit，锚点pivot）由图集资源控制。人物配置的数值，适用于渲染实际显示的图像。当图集参数改变的时候，记得重构该图集以保证设置参数生效。</p> <p><img src="https://i.gyazo.com/3765726bd326bb7a8a03a653f458cd3d.png" alt=""></p> <p>以下视频内容为：创建和配置切分精灵图集；在已创建图集中添加新切分人物；使用Naninovel脚本控制其中人物。</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/6PdOAOsnhio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="分层式人物"><a href="#分层式人物" class="header-anchor">#</a> 分层式人物</h2> <p>分层式人物特性，允许使用多个精灵（图层）来组合人物，并可以使用Naninovel脚本在运行时，单独或是成组切换其中的图层。</p> <p>要创建分层式人物预制体，打开菜单<code>Create -&gt; Naninovel -&gt; Character -&gt; Layered</code>。进入<a href="https://docs.unity3d.com/Manual/EditingInPrefabMode.html" target="_blank" rel="noopener noreferrer">预制体编辑模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，来制作图层。有多个图层或组会被自动创建，你可以直接使用，删除或添加你自己的资源。</p> <p>每个预制体下的子物体上都有<a href="https://docs.unity3d.com/Manual/class-SpriteRenderer.html" target="_blank" rel="noopener noreferrer">sprite renderer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件的，视为一个图层，其他的物体一组。除了规划和变换的目的意外，将图层置于组内，可以让你通过Naninovel脚本来对其中单个的图层或是打开关闭一个组内的所有图层。（稍后详细说明）</p> <p>要隐藏部分默认显示的图层，可以通过关闭<code>sprite renderer</code>组件（非该游戏物体）实现。</p> <p>下图所示白框线为运行时所渲染的区域大小，确保调整为合适大小来减少内存占用以及锚点的正常工作。</p> <p><img src="https://i.gyazo.com/4ff103c27858ac9671ba3b94ab1ade20.png" alt=""></p> <p>可是适当微调相应演出元素的游戏物体的尺寸。</p> <p>在使用PS编辑美术素材时，考虑使用<a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@3.0/manual/index.html" target="_blank" rel="noopener noreferrer">PSD Importer package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来导入相应资源为预制体来保留图层和位置信息。记得导入的时候勾选上<code>Use Layer Grouping</code>来保留图层属性。</p> <p>不要忘记添加在 (<code>Naninovel -&gt; Resources -&gt; Characters</code>)创建好的预制体，选择&quot;Naninovel.LayeredCharacter&quot;并把预制体拖拽到&quot;Resource&quot;栏。</p> <p>要在Naninovel脚本控制分层式人物元素，像其他人物类型一样使用<a href="/zh/api/#char" target="_blank"><code>@char</code></a> 命令。唯一区别是设置不同外观时，使用的是<em>图层组合表达式</em>而非ID，有以下三种表达式：</p> <ul><li>打开一组中的单个图层: <code>group&gt;layer</code></li> <li>打开一个图层: <code>group+layer</code></li> <li>关闭一个图层: <code>group-layer</code></li></ul> <p>比如，“Miho”有一个包含三个图层的身体组，&quot;Uniform&quot;， &quot;SportSuit&quot; 和 &quot;Pajama&quot;。
要开启其中的“Uniform”层关闭另外两层，使用如下命令：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.Body&gt;Uniform</span></span></span>
</code></pre></div><p>要开启关闭一个图层而不影响同组其他层，依序使用“+”和“-”而不是“&gt;”。你可以使用这些符号定义多个表达组合：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 打开glasses,关闭hat,选择 &quot;Cool&quot; 表情。</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Head/Accessories+BlackGlasses,Head-Hat,Head/Emotions&gt;Cool</span></span></span>
</code></pre></div><p>要选择不属于任何组的属于根预制体的层，省略组别，如下：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; &quot;Halo&quot; 层位于根预制体，将其关闭。</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.-Halo</span></span></span>
</code></pre></div><p>也可以通过在合成表达式中省略图层名称来影响组中的所有图层（以及使用选择表达式时，还会影响其相邻图层）：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 关闭 &quot;Body/Decoration&quot; 组中所有层</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Body/Decoration-</span></span></span>

<span class="token comment">; 打开所有存在的图层</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.+</span></span></span>

<span class="token comment">; 假定`Poses/Light` 和 `Poses/Dark` 组 (每个都有多个图层), </span>
<span class="token comment">; 打开所有 `Light` 组内的精灵，而关闭所有 `Dark` 组内的图层。</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Poses/Light&gt;</span></span></span>
</code></pre></div><p>以上表达式式，不仅会影响有明确写出来的子组别，而是会依次改变所有其目录下的图层。</p> <p>当一个外观并未专门定义时（如<code>@char CharId</code>，预先没定义时），则会使用默认的外观。默认外观图层的启用状态会和预制体保持一直。</p> <p>以下视频内容时演示如何设置分层式人物，以及如何通过naninovel脚本来控制。</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/Bl3kXrg8tiI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <div class="custom-block note"><p class="custom-block-title">注意</p> <p><code>@char Miho.Shoes&gt;</code>命令在视频中实际上时选中的&quot;Shoes&quot;组（关闭所有相邻组），而不是隐藏。正确的隐藏命令为<code>@char Miho.Shoes-</code>，</p></div> <p>可以通过<code>Layered Actor Behaviour</code>组件的<code>Composition Map</code>属性，来为构成分层人物的部件进行组别统筹，使用设定表达形的key值来调用：</p> <p><img src="https://i.gyazo.com/ede5cde3548a3187aa714d3e140750ba.png" alt=""></p> <p>— 定义好的key值可以用来直接调用显示相应外观：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; 等效于同时使用 `Body&gt;Uniform,Hair/Back&gt;Straight,Hair/Front&gt;Straight,Shoes&gt;Grey`.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.Uniform</span></span></span>
<span class="token comment">; 等效于同时使用 `Hair/Back&gt;Straight,Hair/Front&gt;Straight`.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.StraightHair</span></span></span>
</code></pre></div><p>可以参照下图操作，在相应条目位置右键选择&quot;Preview Composition&quot;，在编辑时对编辑的表现外观进行预览。</p> <p><img src="https://i.gyazo.com/9fb0aeccf4f33245d9f975592ee86dbc.gif" alt=""></p> <p>注意，所有分层部件，运行时并不直接由Unity相机渲染，而是在渲染完成后填充至缓存的渲染贴图上，之后由Naninovel的相机显示出来。这样的流程能够避免深度冲突问题，并以此来支持动画的渐变特效。</p> <h2 id="传统人物"><a href="#传统人物" class="header-anchor">#</a> 传统人物</h2> <p>传统的人物模型应该时最被广泛使用的人物元素模板了。该类型人物基于有<code>CharacterActorBehaviour</code>组件的预制体。外观更改和其他人物参数修改，都基于<a href="https://docs.unity3d.com/Manual/UnityEvents.html" target="_blank" rel="noopener noreferrer">Unity事件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来进行通信，以便开发时能够让你应用并实现任何你想要的修改效果。</p> <p><img src="https://i.gyazo.com/9f799f4152782afb6ab86d3c494f4cc4.png" alt=""></p> <p>要通过模板创建通用人物预制体，请使用Create -&gt; Naninovel -&gt; Character -&gt; Generic菜单。</p> <p>要为通用人物模型设置嘴型同步特性，使用<code>CharacterActorBehaviour</code>组件上的<code>On Started Speaking</code>和<code>On Finished Speaking</code>的unity事件。当角色成为或不再是任何已打印消息的作者时（或者当消息完全显示时），将调用事件来触发任何自定义逻辑实现，例如开始或停止受控角色的嘴部动画。这类似于UI的<code>On Show</code> 和<code>On Hide</code>事件。参考<a href="/zh/guide/user-interface.html#添加自定义UI">自定义UI引导</a> 来了解其工作机制。</p> <p>参考以下视频来了解如何设置3D骨骼模型为传统模型，并通过<a href="https://docs.unity3d.com/Manual/class-AnimatorController.html" target="_blank" rel="noopener noreferrer">Animator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 组件来调用外观改变。</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <p>注意，unity的<code>Animator</code>组件如果在游戏物体同一帧进行开启/关闭触发时调用<code>SetTrigger</code> 可能会失败。因此，你可以使用<code>GameObject.SetActive</code>方法解决可见度的修改（参考上述教程），考虑使用渲染器来开启/关闭子物体。</p> <h2 id="live2d人物"><a href="#live2d人物" class="header-anchor">#</a> Live2D人物</h2> <p>Live2D人物模型使用的是通过<a href="https://www.live2d.com" target="_blank" rel="noopener noreferrer">Live2D Cubism<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 2D模型动画软件创建的。</p> <p>要是live2D模型，你需要先导入<a href="https://live2d.github.io/#unity" target="_blank" rel="noopener noreferrer">Unity Live2D Cubism 开发SDK<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，参阅官方说明文档。</p> <p>然后下载导入<a href="https://github.com/Naninovel/Live2D/raw/master/NaninovelLive2D.unitypackage" target="_blank" rel="noopener noreferrer">Live2D扩展支持包<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <p>Live2D模型预制体使用时，都必须有<code>Live2DController</code>组件。外观动作调用使用的是Animator组件的<a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" target="_blank" rel="noopener noreferrer">SetTrigger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 命令触发。相应外观为触发名。比如，如果你想调用“Kaori”的live2D模型预制体，并想调用其名为“surprise”的触发器，使用以下命令：</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kaori.Surprise</span></span></span>
</code></pre></div><p>注意，以上命令只是试图去调用预制体上位于animator控制器内的<a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" target="_blank" rel="noopener noreferrer">SetTrigger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 内“surprise”的参数。你必须去自己手动设置好<a href="https://docs.unity3d.com/Manual/Animator" target="_blank" rel="noopener noreferrer">animator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 其中要使用的调用参数。</p> <div class="custom-block warn"><p class="custom-block-title">警告</p> <p>最新版本的Cubism-SDk是直接和<code>Animator</code>组件一起工作的。Cubism 2.x版本的表情和动作（分别导出为expression.json和pose.json文件），现在已经被<a href="https://docs.live2d.com/cubism-sdk-tutorials/blendexpression" target="_blank" rel="noopener noreferrer">弃用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，也不被Naninovel的live2D扩展支持了。</p></div> <p>当<code>CubismLookController</code> 和 <code>CubismMouthController</code>组件存在在于预制体时，<code>Live2DController</code>组件就能够控制人物的朝向以及嘴唇动画（即是嘴型同步特性）。</p> <p><img src="https://i.gyazo.com/498fe948bc5cbdb4dfc5ebc5437ae6b4.png" alt=""></p> <p>参考Live2D的说明文档获取更多细节设置：
<a href="https://docs.live2d.com/cubism-sdk-tutorials/lookat" target="_blank" rel="noopener noreferrer">眼部追踪<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 以及 <a href="https://docs.live2d.com/cubism-sdk-tutorials/lipsync" target="_blank" rel="noopener noreferrer">嘴型同步<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <p>请注意，Live2DController在Live2D模型预制体（将Live2D模型导入Unity时会自动创建）中需要一个“可绘制”的游戏对象。控制器将在运行时根据@char命令的“ scale”参数缩放此游戏对象。因此，将忽略在编辑器中设置的任何本地缩放值。要设置Live2D预制体的初始缩放，请设置父游戏对象的缩放值<a href="https://youtu.be/rw_Z69z0pAg?t=353" target="_blank" rel="noopener noreferrer">参考该视频指引<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <p>在Live2D扩展导入后，“Live2D”条目会出现在Naninovel的配置菜单上，如下图：</p> <p><img src="https://i.gyazo.com/435a4824f0ce0dd8c9c3f29d457bab24.png" alt=""></p> <p>上图中render layer设置用于摄像机渲染预制体以及其遮挡剔除。render camera参数允许使用自定义相机（默认相机预制体位于“Prefabs”文件夹）。Camera offset（相机偏移）设置，用于设置渲染相机和预制体之间的偏移量，使用该设置来控制预制体在相机上的位置分布。</p> <p>以下视频引导，包含内容为：从Cubism编辑器导出Live2D人物；配置预制体；创建简单动画状态机；通过Naninovel脚本控制人物。</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/rw_Z69z0pAg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <div class="custom-block example"><p class="custom-block-title">例</p> <p>参考 <a href="https://github.com/Naninovel/Live2D" target="_blank" rel="noopener noreferrer">GitHub的Live2D示例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来了解使用。注意其中不包含Live2D的SDK以及Naninovel相关资源。直接打开会有报错，再导入后解决报错。</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新時間:</span> <span class="time">October 28, 2020</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/guide/text-printers.html" class="prev">
        文本打字机
      </a></span> <span class="next"><a href="/zh/guide/backgrounds.html">
        背景
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7081dc02.js" defer></script><script src="/assets/js/3.edd03593.js" defer></script><script src="/assets/js/156.bd838af2.js" defer></script>
  </body>
</html>
