<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Справочник по API | Naninovel</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Расширение игрового движка Unity для создания визуальных новелл.">
    <meta name="theme-color" content="#4985c2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:image" content="/assets/img/og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="msapplication-TileImage" content="/assets/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="google-site-verification" content="cdvgJ2XFFbaGErDKJtTbFj9u9frfReZ9rzUnsf9F6nI">
    <link rel="preload" href="/assets/css/0.styles.49cf1a7f.css" as="style"><link rel="preload" href="/assets/js/app.7081dc02.js" as="script"><link rel="preload" href="/assets/js/3.edd03593.js" as="script"><link rel="preload" href="/assets/js/98.7bee7fab.js" as="script"><link rel="prefetch" href="/assets/js/10.cd95fe25.js"><link rel="prefetch" href="/assets/js/100.2c7ddd2f.js"><link rel="prefetch" href="/assets/js/101.a4db67f4.js"><link rel="prefetch" href="/assets/js/102.4166bf91.js"><link rel="prefetch" href="/assets/js/103.21881421.js"><link rel="prefetch" href="/assets/js/104.b75a1973.js"><link rel="prefetch" href="/assets/js/105.26100b1a.js"><link rel="prefetch" href="/assets/js/106.09f179d4.js"><link rel="prefetch" href="/assets/js/107.86ac9447.js"><link rel="prefetch" href="/assets/js/108.e7e03b77.js"><link rel="prefetch" href="/assets/js/109.0bd5d496.js"><link rel="prefetch" href="/assets/js/11.d37f9cee.js"><link rel="prefetch" href="/assets/js/110.297115e6.js"><link rel="prefetch" href="/assets/js/111.6067a1c5.js"><link rel="prefetch" href="/assets/js/112.82c7c323.js"><link rel="prefetch" href="/assets/js/113.42ab0da7.js"><link rel="prefetch" href="/assets/js/114.30db486d.js"><link rel="prefetch" href="/assets/js/115.e8a87ca4.js"><link rel="prefetch" href="/assets/js/116.8b36f9d7.js"><link rel="prefetch" href="/assets/js/117.4b8466ef.js"><link rel="prefetch" href="/assets/js/118.2c320ad9.js"><link rel="prefetch" href="/assets/js/119.5feee4d4.js"><link rel="prefetch" href="/assets/js/12.f4e7502c.js"><link rel="prefetch" href="/assets/js/120.aec27d48.js"><link rel="prefetch" href="/assets/js/121.f36d5945.js"><link rel="prefetch" href="/assets/js/122.bfe5fa18.js"><link rel="prefetch" href="/assets/js/123.9a1f01db.js"><link rel="prefetch" href="/assets/js/124.93b8b504.js"><link rel="prefetch" href="/assets/js/125.1a24c7f7.js"><link rel="prefetch" href="/assets/js/126.3df14633.js"><link rel="prefetch" href="/assets/js/127.88a85fdb.js"><link rel="prefetch" href="/assets/js/128.f24e1a5a.js"><link rel="prefetch" href="/assets/js/129.1704f1e4.js"><link rel="prefetch" href="/assets/js/13.f171e693.js"><link rel="prefetch" href="/assets/js/130.e723fa19.js"><link rel="prefetch" href="/assets/js/131.a74e5213.js"><link rel="prefetch" href="/assets/js/132.58b3c0d0.js"><link rel="prefetch" href="/assets/js/133.70140be2.js"><link rel="prefetch" href="/assets/js/134.42d0e126.js"><link rel="prefetch" href="/assets/js/135.56c60d02.js"><link rel="prefetch" href="/assets/js/136.566c686a.js"><link rel="prefetch" href="/assets/js/137.de72f242.js"><link rel="prefetch" href="/assets/js/138.f571a3db.js"><link rel="prefetch" href="/assets/js/139.1ef15cda.js"><link rel="prefetch" href="/assets/js/14.f931064a.js"><link rel="prefetch" href="/assets/js/140.d157478e.js"><link rel="prefetch" href="/assets/js/141.4c8d9a78.js"><link rel="prefetch" href="/assets/js/142.b395f23f.js"><link rel="prefetch" href="/assets/js/143.57253da4.js"><link rel="prefetch" href="/assets/js/144.a79f669d.js"><link rel="prefetch" href="/assets/js/145.c98bb948.js"><link rel="prefetch" href="/assets/js/146.cce44648.js"><link rel="prefetch" href="/assets/js/147.d698b1a3.js"><link rel="prefetch" href="/assets/js/148.e6dc8c8f.js"><link rel="prefetch" href="/assets/js/149.626c8fc9.js"><link rel="prefetch" href="/assets/js/15.de482045.js"><link rel="prefetch" href="/assets/js/150.1081c1df.js"><link rel="prefetch" href="/assets/js/151.c1066d26.js"><link rel="prefetch" href="/assets/js/152.f21c79f5.js"><link rel="prefetch" href="/assets/js/153.3aecb4c5.js"><link rel="prefetch" href="/assets/js/154.0ad8aabe.js"><link rel="prefetch" href="/assets/js/155.a6d436db.js"><link rel="prefetch" href="/assets/js/156.bd838af2.js"><link rel="prefetch" href="/assets/js/157.c2e7cc99.js"><link rel="prefetch" href="/assets/js/158.94a83037.js"><link rel="prefetch" href="/assets/js/159.35c80517.js"><link rel="prefetch" href="/assets/js/16.4a61aaa5.js"><link rel="prefetch" href="/assets/js/160.f0dde746.js"><link rel="prefetch" href="/assets/js/161.fd1960eb.js"><link rel="prefetch" href="/assets/js/162.48c43e18.js"><link rel="prefetch" href="/assets/js/163.ac4c1c77.js"><link rel="prefetch" href="/assets/js/164.2ba45738.js"><link rel="prefetch" href="/assets/js/165.99ec3fcd.js"><link rel="prefetch" href="/assets/js/166.0d0bb46a.js"><link rel="prefetch" href="/assets/js/167.d65ca4e0.js"><link rel="prefetch" href="/assets/js/168.90170b1b.js"><link rel="prefetch" href="/assets/js/169.4f0fdc6d.js"><link rel="prefetch" href="/assets/js/17.47feb5b2.js"><link rel="prefetch" href="/assets/js/170.b4c1b1fa.js"><link rel="prefetch" href="/assets/js/171.f940dbf0.js"><link rel="prefetch" href="/assets/js/172.85a1846c.js"><link rel="prefetch" href="/assets/js/173.e94da458.js"><link rel="prefetch" href="/assets/js/174.b6c38684.js"><link rel="prefetch" href="/assets/js/175.904e3d63.js"><link rel="prefetch" href="/assets/js/176.17e5bbe2.js"><link rel="prefetch" href="/assets/js/177.fce6d338.js"><link rel="prefetch" href="/assets/js/178.56d7e412.js"><link rel="prefetch" href="/assets/js/179.e396556f.js"><link rel="prefetch" href="/assets/js/18.84fcede2.js"><link rel="prefetch" href="/assets/js/180.2723edde.js"><link rel="prefetch" href="/assets/js/181.4ade7a10.js"><link rel="prefetch" href="/assets/js/182.52ff1fb1.js"><link rel="prefetch" href="/assets/js/183.1936260f.js"><link rel="prefetch" href="/assets/js/184.a57b186a.js"><link rel="prefetch" href="/assets/js/185.6c38f1ff.js"><link rel="prefetch" href="/assets/js/186.f93dfad6.js"><link rel="prefetch" href="/assets/js/187.0ece9a85.js"><link rel="prefetch" href="/assets/js/188.914b5ccd.js"><link rel="prefetch" href="/assets/js/189.36406932.js"><link rel="prefetch" href="/assets/js/19.94c6633c.js"><link rel="prefetch" href="/assets/js/190.df0eff6a.js"><link rel="prefetch" href="/assets/js/191.7b418d1b.js"><link rel="prefetch" href="/assets/js/192.a2889015.js"><link rel="prefetch" href="/assets/js/193.59d9f023.js"><link rel="prefetch" href="/assets/js/194.9d2cf696.js"><link rel="prefetch" href="/assets/js/20.b361c982.js"><link rel="prefetch" href="/assets/js/21.fbeb5e4e.js"><link rel="prefetch" href="/assets/js/22.035ed34b.js"><link rel="prefetch" href="/assets/js/23.8e154398.js"><link rel="prefetch" href="/assets/js/24.dd8c2e89.js"><link rel="prefetch" href="/assets/js/25.fc4923f8.js"><link rel="prefetch" href="/assets/js/26.a051961d.js"><link rel="prefetch" href="/assets/js/27.b16b7222.js"><link rel="prefetch" href="/assets/js/28.010479cf.js"><link rel="prefetch" href="/assets/js/29.4bc7729a.js"><link rel="prefetch" href="/assets/js/30.410b24cb.js"><link rel="prefetch" href="/assets/js/31.1abb1e1f.js"><link rel="prefetch" href="/assets/js/32.d1755f23.js"><link rel="prefetch" href="/assets/js/33.cbe2bf9d.js"><link rel="prefetch" href="/assets/js/34.44d85336.js"><link rel="prefetch" href="/assets/js/35.bb079774.js"><link rel="prefetch" href="/assets/js/36.6230ee26.js"><link rel="prefetch" href="/assets/js/37.95eb1651.js"><link rel="prefetch" href="/assets/js/38.04f5ff22.js"><link rel="prefetch" href="/assets/js/39.38371b0a.js"><link rel="prefetch" href="/assets/js/4.d5ff7d0b.js"><link rel="prefetch" href="/assets/js/40.ed81c668.js"><link rel="prefetch" href="/assets/js/41.e9153ab9.js"><link rel="prefetch" href="/assets/js/42.142a5474.js"><link rel="prefetch" href="/assets/js/43.e3a084ff.js"><link rel="prefetch" href="/assets/js/44.aaff5b82.js"><link rel="prefetch" href="/assets/js/45.bffb1bc5.js"><link rel="prefetch" href="/assets/js/46.a66a4ccd.js"><link rel="prefetch" href="/assets/js/47.37305927.js"><link rel="prefetch" href="/assets/js/48.38e51140.js"><link rel="prefetch" href="/assets/js/49.3f4b4630.js"><link rel="prefetch" href="/assets/js/5.cc4f52e2.js"><link rel="prefetch" href="/assets/js/50.2bf7d76c.js"><link rel="prefetch" href="/assets/js/51.08e255f2.js"><link rel="prefetch" href="/assets/js/52.2f825b99.js"><link rel="prefetch" href="/assets/js/53.6a5dc2fe.js"><link rel="prefetch" href="/assets/js/54.2dc58e9d.js"><link rel="prefetch" href="/assets/js/55.a651187d.js"><link rel="prefetch" href="/assets/js/56.179f3458.js"><link rel="prefetch" href="/assets/js/57.91ea4a4b.js"><link rel="prefetch" href="/assets/js/58.2e2c62e2.js"><link rel="prefetch" href="/assets/js/59.01cf7af1.js"><link rel="prefetch" href="/assets/js/6.489b006c.js"><link rel="prefetch" href="/assets/js/60.d296c4fc.js"><link rel="prefetch" href="/assets/js/61.39781dbb.js"><link rel="prefetch" href="/assets/js/62.bc6bc6e3.js"><link rel="prefetch" href="/assets/js/63.a6aa9d74.js"><link rel="prefetch" href="/assets/js/64.6d9071a1.js"><link rel="prefetch" href="/assets/js/65.1dca386a.js"><link rel="prefetch" href="/assets/js/66.f4bc0f8e.js"><link rel="prefetch" href="/assets/js/67.cc916dec.js"><link rel="prefetch" href="/assets/js/68.27ef429f.js"><link rel="prefetch" href="/assets/js/69.dc351f8f.js"><link rel="prefetch" href="/assets/js/7.fa0f1f92.js"><link rel="prefetch" href="/assets/js/70.96c733de.js"><link rel="prefetch" href="/assets/js/71.e43f4331.js"><link rel="prefetch" href="/assets/js/72.92345389.js"><link rel="prefetch" href="/assets/js/73.6ac6a7a5.js"><link rel="prefetch" href="/assets/js/74.f522ba33.js"><link rel="prefetch" href="/assets/js/75.01680947.js"><link rel="prefetch" href="/assets/js/76.7c8e6a97.js"><link rel="prefetch" href="/assets/js/77.3e704644.js"><link rel="prefetch" href="/assets/js/78.31c3ed37.js"><link rel="prefetch" href="/assets/js/79.86d30626.js"><link rel="prefetch" href="/assets/js/8.8c48d0ee.js"><link rel="prefetch" href="/assets/js/80.bd9861bb.js"><link rel="prefetch" href="/assets/js/81.86b09c72.js"><link rel="prefetch" href="/assets/js/82.4ed5a55d.js"><link rel="prefetch" href="/assets/js/83.f3d8eb1b.js"><link rel="prefetch" href="/assets/js/84.f07238a3.js"><link rel="prefetch" href="/assets/js/85.98270c0d.js"><link rel="prefetch" href="/assets/js/86.aceb70a8.js"><link rel="prefetch" href="/assets/js/87.45c2a264.js"><link rel="prefetch" href="/assets/js/88.006c5bd4.js"><link rel="prefetch" href="/assets/js/89.c31cab13.js"><link rel="prefetch" href="/assets/js/9.8b634c4a.js"><link rel="prefetch" href="/assets/js/90.7b4b1937.js"><link rel="prefetch" href="/assets/js/91.53dda924.js"><link rel="prefetch" href="/assets/js/92.994aabbf.js"><link rel="prefetch" href="/assets/js/93.4d07d347.js"><link rel="prefetch" href="/assets/js/94.a0d7901e.js"><link rel="prefetch" href="/assets/js/95.495740f2.js"><link rel="prefetch" href="/assets/js/96.dbb7e8d8.js"><link rel="prefetch" href="/assets/js/97.3484eb66.js"><link rel="prefetch" href="/assets/js/99.2918c452.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.72c12505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.49cf1a7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://naninovel.com"><!----> <span class="site-name">Naninovel</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ru/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/ru/guide/" class="nav-link">
  Руководство
</a></div><div class="nav-item"><a href="/ru/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Команды
</a></div><div class="nav-item"><a href="/ru/support/" class="nav-link">
  Поддержка
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Язык" class="dropdown-title"><span class="title">Язык</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/api/" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ru/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/ru/guide/" class="nav-link">
  Руководство
</a></div><div class="nav-item"><a href="/ru/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Команды
</a></div><div class="nav-item"><a href="/ru/support/" class="nav-link">
  Поддержка
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Язык" class="dropdown-title"><span class="title">Язык</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/api/" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/api/" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/api/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Справочник по API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ru/api/#animate" class="sidebar-link">animate</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#append" class="sidebar-link">append</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#arrange" class="sidebar-link">arrange</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#back" class="sidebar-link">back</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#bgm" class="sidebar-link">bgm</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#br" class="sidebar-link">br</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#camera" class="sidebar-link">camera</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#char" class="sidebar-link">char</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#choice" class="sidebar-link">choice</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#clearbacklog" class="sidebar-link">clearBacklog</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#clearchoice" class="sidebar-link">clearChoice</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#despawn" class="sidebar-link">despawn</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#else" class="sidebar-link">else</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#elseif" class="sidebar-link">elseIf</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#endif" class="sidebar-link">endIf</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#finishtrans" class="sidebar-link">finishTrans</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#gosub" class="sidebar-link">gosub</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#goto" class="sidebar-link">goto</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#hide" class="sidebar-link">hide</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#hideall" class="sidebar-link">hideAll</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#hidechars" class="sidebar-link">hideChars</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#hideprinter" class="sidebar-link">hidePrinter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#hideui" class="sidebar-link">hideUI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#i" class="sidebar-link">i</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#if" class="sidebar-link">if</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#input" class="sidebar-link">input</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#lipsync" class="sidebar-link">lipSync</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#loadscene" class="sidebar-link">loadScene</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#lock" class="sidebar-link">lock</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#look" class="sidebar-link">look</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#movie" class="sidebar-link">movie</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#print" class="sidebar-link">print</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#printer" class="sidebar-link">printer</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#processinput" class="sidebar-link">processInput</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#purgerollback" class="sidebar-link">purgeRollback</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#resetstate" class="sidebar-link">resetState</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#resettext" class="sidebar-link">resetText</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#return" class="sidebar-link">return</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#save" class="sidebar-link">save</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#set" class="sidebar-link">set</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#sfx" class="sidebar-link">sfx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#show" class="sidebar-link">show</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#showprinter" class="sidebar-link">showPrinter</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#showui" class="sidebar-link">showUI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#skip" class="sidebar-link">skip</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#skipinput" class="sidebar-link">skipInput</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#slide" class="sidebar-link">slide</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#spawn" class="sidebar-link">spawn</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#starttrans" class="sidebar-link">startTrans</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#stop" class="sidebar-link">stop</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#stopbgm" class="sidebar-link">stopBgm</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#stopsfx" class="sidebar-link">stopSfx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#stopvoice" class="sidebar-link">stopVoice</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#style" class="sidebar-link">style</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#title" class="sidebar-link">title</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#unlock" class="sidebar-link">unlock</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#voice" class="sidebar-link">voice</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/ru/api/#wait" class="sidebar-link">wait</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="справочник-по-api"><a href="#справочник-по-api" class="header-anchor">#</a> Справочник по API</h1> <p>Справочник по API командам сценария. Используйте боковую панель для быстрой навигации между доступными командами.</p> <p><s>Зачеркивание</s> обозначает безымянный параметр, а <strong>жирный</strong> – обязательный параметр; остальные параметры следует считать необязательными. Обратитесь к <a href="/ru/guide/naninovel-scripts.html">руководству по скриптам Naninovel</a> если вы не знаете, что это такое.</p> <p>Следующие параметры поддерживаются всеми командами сценария:</p> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>if</td> <td>Строка</td> <td>Логическое <a href="/ru/guide/script-expressions.html">выражение сценария</a>, контролирующее, должна ли команда выполняться.</td></tr> <tr><td>wait</td> <td>Boolean</td> <td>Должен ли проигрыватель сценариев дождаться завершения асинхронной команды перед выполнением следующей. Не действует, когда команда выполняется мгновенно.</td></tr></tbody></table></div> <div class="custom-block note"><p class="custom-block-title">ПРИМЕЧАНИЕ</p> <p>Эта ссылка API действительна для <a href="https://github.com/Naninovel/Documentation/releases" target="_blank" rel="noopener noreferrer">Naninovel v1.10<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h2 id="animate"><a href="#animate" class="header-anchor">#</a> animate</h2> <h4 id="краткое-описание"><a href="#краткое-описание" class="header-anchor">#</a> Краткое описание</h4> <p>Команда анимации акторов с указанными ID с помощью ключевых кадров. Ключевые кадры для параметры анимации отделяются литералами <code>|</code>.</p> <h4 id="примечание"><a href="#примечание" class="header-anchor">#</a> Примечание</h4> <p>Помните, что эта команда ищет акторов с предоставленными ID по всем менеджерам акторов, и в случае, если существует несколько акторов с одинаковым ID (например, персонаж и текстовый принтер), это повлияет только на первый найденный. <br><br>
При параллельном запуске команд animate (значение «wait» установлено в false) состояние затронутых акторов может изменяться непредсказуемо. Это может привести к неожиданным результатам при откате или выполнении других команд, которые влияют на состояние актора. Обязательно сбрасывайте затронутые свойства анимированных акторов (положение, оттенок, внешний вид и т.д.) после завершения команды или используйте <code>@animate CharacterId</code> (без каких-либо аргументов), чтобы преждевременно остановить анимацию.</p> <h4 id="параметры"><a href="#параметры" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">ActorIds</span></td> <td>List&lt;String&gt;</td> <td>ID акторов для анимации.</td></tr> <tr><td>loop</td> <td>Boolean</td> <td>Следует ли зацикливать анимацию; убедитесь, что для <code>wait</code> установлено значение false, когда включен цикл, в противном случае воспроизведение сценария будет повторяться бесконечно.</td></tr> <tr><td>appearance</td> <td>Строка</td> <td>Установка внешности для анимированных акторов.</td></tr> <tr><td>transition</td> <td>Строка</td> <td>Тип <a href="/ru/guide/transition-effects.html">эффекта перехода</a> который будет использоваться при изменении внешнего вида (по умолчанию используется кроссфейд).</td></tr> <tr><td>visibility</td> <td>Строка</td> <td>Статус видимости для анимированных акторов.</td></tr> <tr><td>posX</td> <td>Строка</td> <td>Значения позиции анимированного актора, по оси Х (в диапазоне от 0 до 100, в процентах от левой границы экрана).</td></tr> <tr><td>posY</td> <td>Строка</td> <td>Значения позиции анимированного актора, по оси Y (в диапазоне от 0 до 100, в процентах от нижней границы экрана).</td></tr> <tr><td>posZ</td> <td>Строка</td> <td>Значения позиции анимированного актора, по оси Z (в мировом пространстве); В орто-режиме, ожно использовать только для сортировки.</td></tr> <tr><td>rotation</td> <td>Строка</td> <td>Значения поворота (по оси Z) для анимированных акторов.</td></tr> <tr><td>scale</td> <td>Строка</td> <td>Значения шкалы (единообразные) для анимированных акторов.</td></tr> <tr><td>tint</td> <td>Строка</td> <td>Оттенок цвета для анимированных акторов. <br><br> Строки, начинающиеся с <code>#</code> будет проанализирован как шестнадцатеричный следующим образом: <code>#RGB</code> (становится RRGGBB), <code>#RRGGBB</code>, <code>#RGBA</code> (становится RRGGBBAA), <code>#RRGGBBAA</code>; Если альфа не указана, по значение по умолчанию будет FF. <br><br> Строки, которые не начинаются с <code>#</code>, будут анализироваться как цвета, поддерживаются: red, cyan, blue, darkblue, lightblue, purple, yellow, lime, fuchsia, white, silver, grey, black, orange, brown, maroon, green, olive, navy, teal, aqua, magenta.</td></tr> <tr><td>easing</td> <td>Строка</td> <td>Названия функций замедления, используемых для анимации. <br><br> Доступные варианты: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указан, будет использоваться функция замедления по умолчанию, установленная в настройках конфигурации менеджера актора.</td></tr> <tr><td>time</td> <td>Строка</td> <td>Продолжительность ключа анимации в секундах. Если значение ключа отсутствует, будет использоваться значение из предыдущего ключа. Если значение не установлено, будет использовать задержка 0.35 секунд для всех ключей.</td></tr></tbody></table></div> <h4 id="примеры"><a href="#примеры" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Анимировать актора &quot;Kohaku&quot; за три шага анимации (ключевые кадры),</span>
<span class="token comment">; смена позиций: первый шаг займет 1, второй - 0.5 и третий - 3 секунды.</span>
<span class="token command function"><span class="token command-name">@animate</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku</span><span class="token command-param-id property"> posX:</span><span class="token command-param-value operator">50|0|85</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">1|0.5|3</span></span></span>

<span class="token comment">; Запустить цикл анимации акторов &quot;Yuko&quot; и &quot;Kohaku&quot;; обратите внимание, что вы можете пропустить</span>
<span class="token comment">; ключевые значения, указывающие, что параметр не должен изменяться на этапе анимации.</span>
<span class="token command function"><span class="token command-name">@animate</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku,Yuko</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">true</span><span class="token command-param-id property"> appearance:</span><span class="token command-param-value operator">Surprise|Sad|Default|Angry</span><span class="token command-param-id property"> transition:</span><span class="token command-param-value operator">DropFade|Ripple|Pixelate</span><span class="token command-param-id property"> posX:</span><span class="token command-param-value operator">15|85|50</span><span class="token command-param-id property"> posY:</span><span class="token command-param-value operator">0|-25|-85</span><span class="token command-param-id property"> scale:</span><span class="token command-param-value operator">1|1.25|1.85</span><span class="token command-param-id property"> tint:</span><span class="token command-param-value operator">#25f1f8|lightblue|#ffffff|olive</span><span class="token command-param-id property"> easing:</span><span class="token command-param-value operator">EaseInBounce|EaseInQuad</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3|2|1|0.5</span><span class="token command-param-id property"> wait:</span><span class="token command-param-value operator">false</span></span></span>
<span class="token generic-text punctuation">...</span>
<span class="token comment">; Остановить анимации.</span>
<span class="token command function"><span class="token command-name">@animate</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Yuko,Kohaku</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">false</span></span></span>

<span class="token comment">; Запустить длинную фоновую анимацию для `Kohaku`.</span>
<span class="token command function"><span class="token command-name">@animate</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku</span><span class="token command-param-id property"> posX:</span><span class="token command-param-value operator">90|0|90</span><span class="token command-param-id property"> scale:</span><span class="token command-param-value operator">1|2|1</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">10</span><span class="token command-param-id property"> wait:</span><span class="token command-param-value operator">false</span></span></span>
<span class="token comment">; Вы можете сделать что-нибудь еще, пока анимация запущена.</span>
<span class="token generic-text punctuation">...</span>
<span class="token comment">; Здесь мы собираемся установить конкретную позицию для персонажа,</span>
<span class="token comment">; но анимация все еще может работать в фоновом режиме, поэтому сначала сбросьте ее.</span>
<span class="token command function"><span class="token command-name">@animate</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku</span></span></span>
<span class="token comment">; Теперь можно безопасно менять свойства, которые ранее были анимированны</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">50</span><span class="token command-param-id property"> scale:</span><span class="token command-param-value operator">1</span></span></span>
</code></pre></div><h2 id="append"><a href="#append" class="header-anchor">#</a> append</h2> <h4 id="краткое-описание-2"><a href="#краткое-описание-2" class="header-anchor">#</a> Краткое описание</h4> <p>Добавляет предоставленный текст к текстовому принтеру.</p> <h4 id="примечание-2"><a href="#примечание-2" class="header-anchor">#</a> Примечание</h4> <p>Весь текст будет добавлен немедленно, без эффекта постепенного проявления и прочих эффектов.</p> <h4 id="параметры-2"><a href="#параметры-2" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение следует указывать после ID команды без указания ID параметра. Обязательный параметр: параметр должен всегда указываться" class="command-param-nameless command-param-required">Text</span></td> <td>Строка</td> <td>Текст для добавления.</td></tr> <tr><td>printer</td> <td>Строка</td> <td>ID актора принтера, который будет использован. Если параметр не указан, будет использован принтер по умолчанию.</td></tr> <tr><td>author</td> <td>Строка</td> <td>ID актора, который должен быть связан с добавленым текстом.</td></tr></tbody></table></div> <h4 id="примеры-2"><a href="#примеры-2" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Напечатать первую часть предложения как обычно (постепенно проявляя сообщение)</span>
<span class="token comment">; затем сразу добавить конец предложения.</span>
<span class="token generic-text punctuation">Lorem ipsum</span>
<span class="token command function"><span class="token command-name">@append</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot; dolor sit amet.&quot;</span></span></span>
</code></pre></div><h2 id="arrange"><a href="#arrange" class="header-anchor">#</a> arrange</h2> <h4 id="краткое-описание-3"><a href="#краткое-описание-3" class="header-anchor">#</a> Краткое описание</h4> <p>Упорядочивает указанных персонажей по оси X. Если параметры не указаны, будет выполнено автоматическое выравнивание, равномерно распределяющее видимых персонажей по оси X.</p> <h4 id="параметры-3"><a href="#параметры-3" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">CharacterPositions</span></td> <td>List&lt;Named&lt;Decimal&gt;&gt;</td> <td>Коллекция ID персонажей по оси Х на сцене (относительно левой границы экрана, в процентах) с именованными значениями. Позиция 0 относится к левой границе, а 100 к правой границе экрана; 50 это центр.</td></tr> <tr><td>look</td> <td>Boolean</td> <td>При выполнении автоматической аранжировки определяет, следует ли также заставлять персонажей смотреть в начало сцены (по умолчанию включено).</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации аранжировки. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-3"><a href="#примеры-3" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Равномерно распределить всех видимых персонажей </span>
<span class="token command function"><span class="token command-name">@arrange</span></span>

<span class="token comment">; Переместить персонажей с идентификаторами `Jenna` в 15%,` Felix` в 50% и `Mia` в 85%</span>
<span class="token comment">; от левой границы экрана.</span>
<span class="token command function"><span class="token command-name">@arrange</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Jenna.15,Felix.50,Mia.85</span></span></span>
</code></pre></div><h2 id="back"><a href="#back" class="header-anchor">#</a> back</h2> <h4 id="краткое-описание-4"><a href="#краткое-описание-4" class="header-anchor">#</a> Краткое описание</h4> <p>Изменяет <a href="/ru/guide/backgrounds.html">актор фона</a>.</p> <h4 id="примечание-3"><a href="#примечание-3" class="header-anchor">#</a> Примечание</h4> <p>Фоны обрабатываются немного иначе, нежели персонажи, чтобы лучше приспособиться к традиционному течению визуальных новелл. Большую часть времени вы, вероятно, будете иметь одного фонового актора в сцене, который будет постоянно менять внешности. Чтобы избавиться от лишнего повторения одного и того же ID актора в сценариях, можно предоставить только внешность фона и тип перехода (необязательно) в качестве безымянного параметра, что автоматически преобразует актора &quot;MainBackground&quot;. Если это не так, ID фонового актора может быть конкретно указан с помощью параметра <code>id</code>:</p> <h4 id="параметры-4"><a href="#параметры-4" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">AppearanceAndTransition</span></td> <td>Named&lt;String&gt;</td> <td>Внешний вид (или <a href="/ru/guide/backgrounds.html#позы">поза</a>) для фона и типа использованного <a href="/ru/guide/transition-effects.html">эффекта перехода</a>. Если переход не предусмотрен, по умолчанию будет использоваться эффект перекрестного затухания.</td></tr> <tr><td>pos</td> <td>List&lt;Decimal&gt;</td> <td>Положение (относительно границ экрана, в процентах) актора. Позиция описывается следующим образом: «0.0» - левый нижний угол, «50.50» - центр, а «100.100» - верхний правый угол экрана. Используйте Z-компонент (третий параметр, например, <code>,,10</code>) для перемещения (сортировки) по глубине в режиме орто.</td></tr> <tr><td>id</td> <td>Строка</td> <td>Идентификатор актора для изменения; укажите <code>*</code>, чтобы повлиять на всех видимых акторов.</td></tr> <tr><td>appearance</td> <td>Строка</td> <td>Устанавливает внешний вид или позу изменяемого актора.</td></tr> <tr><td>transition</td> <td>Строка</td> <td>Тип используемого <a href="/ru/guide/transition-effects.html">эффекта перехода</a> (по умолчанию используется кроссфейд).</td></tr> <tr><td>params</td> <td>List&lt;Decimal&gt;</td> <td>Параметры эффекта перехода.</td></tr> <tr><td>dissolve</td> <td>String</td> <td>Путь к текстуре <a href="/ru/guide/transition-effects.html#пользовательские-эффекты-перехода">нестандартное растворение</a> (путь должен указываться относительно папки <code>Resources</code>). Действует только когда переход установлен в режим «Пользовательский».</td></tr> <tr><td>visible</td> <td>Boolean</td> <td>Статус видимости для изменяемого актора.</td></tr> <tr><td>position</td> <td>List&lt;Decimal&gt;</td> <td>Положение (в мировом пространстве) для изменяемого актора. Используйте Z-компонент (третий параметр) для перемещения (сортировки) по глубине в режиме орто.</td></tr> <tr><td>rotation</td> <td>List&lt;Decimal&gt;</td> <td>Вращение для изменяемого актора.</td></tr> <tr><td>scale</td> <td>List&lt;Decimal&gt;</td> <td>Масштаб для изменяемого актора.</td></tr> <tr><td>tint</td> <td>String</td> <td>Цвет оттенка для изменяемого актора. <br><br> Строки, начинающиеся с <code>#</code>, будут анализироваться как шестнадцатеричные следующим образом: <code>#RGB</code> (становится RRGGBB), <code>#RRGGBB</code>, <code>#RGBA</code> (становится RRGGBBAA), <code>#RRGGBBAA</code>; если альфа не указана, по умолчанию будет FF. <br><br> Строки, которые не начинаются с <code>#</code>, будут анализироваться как буквенные цвета, поддерживаются следующие параметры: красный, голубой, синий, темно-синий, светло-синий, фиолетовый, желтый, салатовый, фуксия, белый, серебристый, серый, черный, оранжевый, коричневый, темно-бордовый, зеленый, оливковый, темно-синий, бирюзовый, аква, пурпурный.</td></tr> <tr><td>easing</td> <td>String</td> <td>Имя функции замедления, используемой для модификации. <br><br> Доступные Варианты: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указан, будет использоваться функция замедления по умолчанию, установленная в настройках конфигурации менеджера актора.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) модификации. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-4"><a href="#примеры-4" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Установить `River` в качестве внешности основного фона</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">River</span></span></span>

<span class="token comment">; То же, что и выше, но также используется эффект перехода `RadialBlur`</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">River.RadialBlur</span></span></span>

<span class="token comment">; Подкрасить все видимые фоны на сцене.</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-id property"> id:</span><span class="token command-param-value operator">*</span><span class="token command-param-id property"> tint:</span><span class="token command-param-value operator">#ffdc22</span></span></span>

<span class="token comment">; С учетом SFX `ExplosionSound` и фона` ExplosionSprite` следующая последовательность команд будет имитировать два взрыва, появляющихся далеко и близко к камере.</span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ExplosionSound</span><span class="token command-param-id property"> volume:</span><span class="token command-param-value operator">0.1</span></span></span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-id property"> id:</span><span class="token command-param-value operator">ExplosionSprite</span><span class="token command-param-id property"> scale:</span><span class="token command-param-value operator">0.3</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">55,60</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">0</span><span class="token command-param-id property"> isVisible:</span><span class="token command-param-value operator">false</span></span></span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-id property"> id:</span><span class="token command-param-value operator">ExplosionSprite</span></span></span>
<span class="token command function"><span class="token command-name">@fx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ShakeBackground</span><span class="token command-param-id property"> params:</span><span class="token command-param-value operator">,1</span></span></span>
<span class="token command function"><span class="token command-name">@hide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ExplosionSprite</span></span></span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ExplosionSound</span><span class="token command-param-id property"> volume:</span><span class="token command-param-value operator">1.5</span></span></span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-id property"> id:</span><span class="token command-param-value operator">ExplosionSprite</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">65</span><span class="token command-param-id property"> scale:</span><span class="token command-param-value operator">1</span></span></span>
<span class="token command function"><span class="token command-name">@fx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ShakeBackground</span><span class="token command-param-id property"> params:</span><span class="token command-param-value operator">,3</span></span></span>
<span class="token command function"><span class="token command-name">@hide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ExplosionSprite</span></span></span>
</code></pre></div><h2 id="bgm"><a href="#bgm" class="header-anchor">#</a> bgm</h2> <h4 id="краткое-описание-5"><a href="#краткое-описание-5" class="header-anchor">#</a> Краткое описание</h4> <p>Воспроизведение или изменение текущей воспроизводимой дорожки <a href="/ru/guide/audio.html#фоновая-музыка">BGM (фоновой музыки)</a> с указанным именем.</p> <h4 id="примечание-4"><a href="#примечание-4" class="header-anchor">#</a> Примечание</h4> <p>Музыкальные треки зациклены по умолчанию. Если название музыкальной дорожки (BgmPath) не указано, будут затронуты все воспроизводимые в данный момент дорожки. При вызове для дорожки, которая уже воспроизводится, воспроизведение не будет затронуто (дорожка не начнет воспроизводиться с самого начала), но будут применены указанные параметры (громкость и зацикленность дорожки).</p> <h4 id="параметры-5"><a href="#параметры-5" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">BgmPath</span></td> <td>String</td> <td>Путь к музыкальной дорожке для воспроизведения.</td></tr> <tr><td>intro</td> <td>String</td> <td>Путь к вступительной музыкальной дорожке, которую нужно воспроизвести один раз перед основной дорожкой (не зависит от параметра цикла).</td></tr> <tr><td>volume</td> <td>Decimal</td> <td>Громкость музыкальной дорожки.</td></tr> <tr><td>loop</td> <td>Boolean</td> <td>Играть ли дорожку с начала, когда она заканчивается.</td></tr> <tr><td>fade</td> <td>Decimal</td> <td>Длительность постепенного увеличения громкости при запуске воспроизведения и затухания при остановке, в секундах (по умолчанию 0.0); не действует при изменении воспроизводимой дорожки.</td></tr> <tr><td>group</td> <td>String</td> <td><a href="https://docs.unity3d.comScriptReferenceAudio.AudioMixer.FindMatchingGroups" target="_blank" rel="noopener noreferrer">Группа<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> в аудиомикшере, используемая при воспроизведении аудио.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) модификации. Значение по умолчанию 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-5"><a href="#примеры-5" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Начать воспроизведение музыкальной дорожки с названием `Sanctuary` в цикле</span>
<span class="token command function"><span class="token command-name">@bgm</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sanctuary</span></span></span>

<span class="token comment">; То же, что и выше, но затухание громкости более 10 секунд и еденичным воспроизведеним</span>
<span class="token command function"><span class="token command-name">@bgm</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sanctuary</span><span class="token command-param-id property"> fade:</span><span class="token command-param-value operator">10</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">false</span></span></span>

<span class="token comment">; Изменить громкость всех воспроизводимых музыкальных треков до 50% в течение 2,5 секунд и заставить их воспроизводиться в цикле</span>
<span class="token command function"><span class="token command-name">@bgm</span><span class="token command-params"><span class="token command-param-id property"> volume:</span><span class="token command-param-value operator">0.5</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">true</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">2.5</span></span></span>

<span class="token comment">; Разово сыграть BattleThemeIntro, а затем сразу BattleThemeMain.</span>
<span class="token command function"><span class="token command-name">@bgm</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">BattleThemeMain</span><span class="token command-param-id property"> intro:</span><span class="token command-param-value operator">BattleThemeIntro</span></span></span>
</code></pre></div><h2 id="br"><a href="#br" class="header-anchor">#</a> br</h2> <h4 id="краткое-описание-6"><a href="#краткое-описание-6" class="header-anchor">#</a> Краткое описание</h4> <p>Добавляет разрыв строки в текстовый принтер.</p> <h4 id="параметры-6"><a href="#параметры-6" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">Count</span></td> <td>Integer</td> <td>Число добавляемых разрывов.</td></tr> <tr><td>printer</td> <td>String</td> <td>ID актора принтера. Если параметр не задан, будет использовать значение по умолчанию.</td></tr> <tr><td>author</td> <td>String</td> <td>ID актора, который должен быть связан с добавленным разрывом строки.</td></tr></tbody></table></div> <h4 id="примеры-6"><a href="#примеры-6" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Второе предложение будет напечатано с новой строки</span>
<span class="token generic-text punctuation">Lorem ipsum dolor sit amet.<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">br</span><span class="token start-stop-char">]</span></span>Consectetur adipiscing elit.</span>

<span class="token comment">; Второе предложение будет печататься через две строчки после первого</span>
<span class="token generic-text punctuation">Lorem ipsum dolor sit amet.<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">br</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">2</span><span class="token start-stop-char">]</span></span>Consectetur adipiscing elit.</span>
</code></pre></div><h2 id="camera"><a href="#camera" class="header-anchor">#</a> camera</h2> <h4 id="краткое-описание-7"><a href="#краткое-описание-7" class="header-anchor">#</a> Краткое описание</h4> <p>Модифицирует основную камеру, изменяя смещение, уровень масштабирования и вращение во времени. См. <a href="https://youtu.be/zy28jaMss8w" target="_blank" rel="noopener noreferrer">это видео<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> для быстрой демонстрации результата команды.</p> <h4 id="параметры-7"><a href="#параметры-7" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>offset</td> <td>List&lt;Decimal&gt;</td> <td>Локальное смещение положения камеры в единицах по осям X, Y, Z.</td></tr> <tr><td>roll</td> <td>Decimal</td> <td>Локальное вращение камеры по оси Z в градусах (от 0.0 до 360.0 или от -180.0 до 180.0). То же, что и третий компонент параметра вращение; игнорируется, когда указано <code>rotation</code>.</td></tr> <tr><td>rotation</td> <td>List&lt;Decimal&gt;</td> <td>Локальное вращение камеры по осям X, Y, Z в градусах (от 0.0 до 360.0 или от -180.0 до 180.0).</td></tr> <tr><td>zoom</td> <td>Decimal</td> <td>Установите масштаб камеры (ортогональный размер или поле зрения, в зависимости от режима рендеринга) в диапазоне от 0.0 (без увеличения) до 1.0 (при полном увеличении).</td></tr> <tr><td>ortho</td> <td>Boolean</td> <td>Должна ли камера отображаться в орфографическом (истинном) или перспективном (ложном) режиме.</td></tr> <tr><td>toggle</td> <td>List&lt;String&gt;</td> <td>Имена компонентов для переключения (включить, если отключено, и наоборот). Компоненты должны быть прикреплены к тому же игровому объекту, что и камера. Это можно использовать для переключения <a href="/ru/guide/special-effects.html#эффекты_камеры">пользовательские эффекты пост-обработки</a>.</td></tr> <tr><td>set</td> <td>List&lt;Named&lt;Boolean&gt;&gt;</td> <td>Имена включаемых/выключаемых компонентов. Компоненты должны быть прикреплены к тому же игровому объекту, что и камера. Это можно использовать для явного включения или отключения <a href="/ru/guide/special-effects.html#эффекты_камеры">пользовательских эффектов пост-обработки</a>. Указанное состояние компонентов перекроет эффект от параметра <code>toggle</code>.</td></tr> <tr><td>easing</td> <td>String</td> <td>Имя функции замедления, используемой для модификации. <br><br> Доступные Варианты: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указан, будет использоваться функция замедления по умолчанию, установленная в настройках конфигурации камеры.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность модификации (в секундах). Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-7"><a href="#примеры-7" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Сместить камеру на -3 единицы по оси X (панорамирование) и на 1.5 единицы по оси Y </span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> offset:</span><span class="token command-param-value operator">-3,1.5</span></span></span>

<span class="token comment">; Установить камеру в режим перспективы, увеличив на 50% и сдвинув на 5 единиц по оси Z.</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> ortho:</span><span class="token command-param-value operator">false</span><span class="token command-param-id property"> offset:</span><span class="token command-param-value operator">,,-5</span><span class="token command-param-id property"> zoom:</span><span class="token command-param-value operator">0.5</span></span></span>

<span class="token comment">; Установить камеру в орфографический режим и повернуть на 10 градусов по часовой стрелке.</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> ortho:</span><span class="token command-param-value operator">true</span><span class="token command-param-id property"> roll:</span><span class="token command-param-value operator">10</span></span></span>

<span class="token comment">; Сместить, смасштабировать и одновременно анимировать угол в течение 5 секунд</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> offset:</span><span class="token command-param-value operator">-3,1.5</span><span class="token command-param-id property"> zoom:</span><span class="token command-param-value operator">0.5</span><span class="token command-param-id property"> roll:</span><span class="token command-param-value operator">10</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">5</span></span></span>

<span class="token comment">; Мгновенно сбросить камеру в состояние по умолчанию</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> offset:</span><span class="token command-param-value operator">0,0</span><span class="token command-param-id property"> zoom:</span><span class="token command-param-value operator">0</span><span class="token command-param-id property"> rotation:</span><span class="token command-param-value operator">0,0,0</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">0</span></span></span>

<span class="token comment">; Переключить компоненты `FancyCameraFilter` и `Bloom`, прикрепленные к камере</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> toggle:</span><span class="token command-param-value operator">FancyCameraFilter,Bloom</span></span></span>

<span class="token comment">; Включить компонент `FancyCameraFilter` и отключить `Bloom`</span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">FancyCameraFilter.true,Bloom.false</span></span></span>
</code></pre></div><h2 id="char"><a href="#char" class="header-anchor">#</a> char</h2> <h4 id="краткое-описание-8"><a href="#краткое-описание-8" class="header-anchor">#</a> Краткое описание</h4> <p>Модифицирует <a href="/ru/guide/characters.html">актор персонажа</a>.</p> <h4 id="параметры-8"><a href="#параметры-8" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">IdAndAppearance</span></td> <td>Named&lt;String&gt;</td> <td>ID, который нужно изменить (укажите <code>*</code>, чтобы затронуть все видимые символы), и внешний вид (или <a href="/ru/guide/characters.html#позы">поза</a>), который нужно установить. Если внешний вид не указан, будет использоваться либо вариант «по умолчанию» (Если он сущетвует), либо случайный.</td></tr> <tr><td>look</td> <td>String</td> <td>Направоление, куда смотрит актор; поддерживаемые значения: слева, справа, по центру.</td></tr> <tr><td>avatar</td> <td>String</td> <td>Имя (путь) <a href="/ru/guide/characters.html#текстуры_аватаров">текстуры аватара</a> для назначения персонажу. Используйте <code>none</code>, чтобы удалить (сбросить) текстуру аватара у персонажа.</td></tr> <tr><td>pos</td> <td>List&lt;Decimal&gt;</td> <td>Установка положения (относительно границ экрана, в процентах), для измененного актора. Положение описывается следующим образом: «0.0» - левый нижний угол, «50.50» - центр, а «100.100» - верхний правый угол экрана. Используйте Z-компонент (третий параметр, например, <code>,, 10</code>) для перемещения (сортировки) по глубине в режиме орто.</td></tr> <tr><td>id</td> <td>String</td> <td>ID актора для изменения; укажите <code>*</code>, чтобы повлиять на всех видимых акторов.</td></tr> <tr><td>appearance</td> <td>String</td> <td>Внешний вид (или поза), изменяемого актора.</td></tr> <tr><td>transition</td> <td>String</td> <td>Тип используемого <a href="/ru/guide/transition-effects.html">эффекта перехода</a> (по умолчанию используется перекрестное затухание).</td></tr> <tr><td>params</td> <td>List&lt;Decimal&gt;</td> <td>Параметры эффекта перехода.</td></tr> <tr><td>dissolve</td> <td>String</td> <td>Путь к текстуре <a href="/ru/guide/transition-effects.html#пользовательские-эффекты-перехода">custom disolve</a> путь должен указываться относительно папки <code>Resources</code>). Действует только когда переход установлен в режим «Пользовательский».</td></tr> <tr><td>visible</td> <td>Boolean</td> <td>Статус видимости, изменяемого актора.</td></tr> <tr><td>position</td> <td>List&lt;Decimal&gt;</td> <td>Положение (в мировом пространстве) изменяемого актора. Используйте Z-компонент (третий параметр) для перемещения (сортировки) по глубине в режиме орто.</td></tr> <tr><td>rotation</td> <td>List&lt;Decimal&gt;</td> <td>Вращение для изменяемого актора.</td></tr> <tr><td>scale</td> <td>List&lt;Decimal&gt;</td> <td>Масштаб, для изменяемого актора</td></tr> <tr><td>tint</td> <td>String</td> <td>Цвет оттенка изменяемого актора. <br><br> Строки, начинающиеся с <code>#</code>, будут анализироваться как шестнадцатеричные следующим образом: <code>#RGB</code> (becomes RRGGBB), <code>#RRGGBB</code>, <code>#RGBA</code> (becomes RRGGBBAA), <code>#RRGGBBAA</code>; если альфа не указана, по умолчанию будет FF. <br><br> Строки, которые не начинаются с <code>#</code>, будут анализироваться как буквенные цвета, поддерживаются следующие значения: красный, голубой, синий, темно-синий, светло-синий, фиолетовый, желтый, салатовый, фуксия, белый, серебристый, серый, черный, оранжевый, коричневый , бордовый, зеленый, оливковый, темно-синий, чирок, аква, пурпурный.</td></tr> <tr><td>easing</td> <td>String</td> <td>Имя функции замедления, используемой для модификации. <br><br> Доступные Варианты: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указан, будет использоваться функция замедления по умолчанию, установленная в настройках конфигурации менеджера актора.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность модификации (в секундах). Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-8"><a href="#примеры-8" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Показать персонажа с идентификатором `Sora` с эффектом появления по умолчанию.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora</span></span></span>

<span class="token comment">; То же, что и выше, но устанавить внешний вид «Happy».</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span></span></span>

<span class="token comment">; То же, что и выше, но также располажить персонажа на 45% от левой границы экрана и на 10% от нижней границы; также указывает ему установить направления взгляда налево.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span><span class="token command-param-id property"> look:</span><span class="token command-param-value operator">left</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">45,10</span></span></span>

<span class="token comment">; Заставить Sora показаться по центру снизу, перед Феликсом</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">50,0,-1</span></span></span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Felix</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">,,0</span></span></span>

<span class="token comment">; Тонировать всех видимых персонажей на сцене.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">*</span><span class="token command-param-id property"> tint:</span><span class="token command-param-value operator">#ffdc22</span></span></span>
</code></pre></div><h2 id="choice"><a href="#choice" class="header-anchor">#</a> choice</h2> <h4 id="краткое-описание-9"><a href="#краткое-описание-9" class="header-anchor">#</a> Краткое описание</h4> <p>Добавляет параметр <a href="/ru/guide/choices.html">choice</a> в обработчик выбора с указанным идентификатором (или идентификатором по умолчанию).</p> <h4 id="примечание-5"><a href="#примечание-5" class="header-anchor">#</a> Примечание</h4> <p>Если параметры <code>goto</code>,<code>gosub</code> и <code>do</code> не указаны, выполнение сценария будет продолжено со следующей строки сценария.</p> <h4 id="параметры-9"><a href="#параметры-9" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">ChoiceSummary</span></td> <td>String</td> <td>Текст для отображения на кнопке выбора. Если текст содержит пробелы, заключите его в двойные кавычки (<code>&quot;</code>). Если вы хотите включить двойные кавычки в сам текст, экранируйте их.</td></tr> <tr><td>button</td> <td>String</td> <td>Путь (относительно папки <code>Resources</code>) к <a href="/ru/guide/choices.html#кнопки-выбора">кнопке prefab</a>, представляющей выбор. Префаб должен иметь компонент <code>ChoiceHandlerButton</code>, присоединенный к корневому объекту. Если параметр не указан, будет использоваться кнопка по умолчанию.</td></tr> <tr><td>pos</td> <td>List&lt;Decimal&gt;</td> <td>Локальное положение кнопки выбора внутри обработчика выбора (если поддерживается реализацией обработчика).</td></tr> <tr><td>handler</td> <td>String</td> <td>ID обработчика выбора, для которого нужно добавить выбор. Если параметр не укзаан, будет использовать обработчик по умолчанию.</td></tr> <tr><td>goto</td> <td>Named&lt;String&gt;</td> <td>Путь, по которому нужно идти, когда пользователь сделал выбор; см. команду <a href="/ru/api/#goto" target="_blank"><code>@goto</code></a> для справки по синтаксису.</td></tr> <tr><td>gosub</td> <td>Named&lt;String&gt;</td> <td>Путь к подпрограмме, которую нужно выбрать пользователем; см. команду <a href="/ru/api/#gosub" target="_blank"><code>@gosub</code></a> для справки по синтаксису. Когда назначено <code>goto</code>, этот параметр будет игнорироваться.</td></tr> <tr><td>set</td> <td>String</td> <td>Выражение для выполнения, которые выполняться, когда вариант ответа выбран пользователем; см. команду <a href="/ru/api/#set" target="_blank"><code>@set</code></a> для справки по синтаксису.</td></tr> <tr><td>do</td> <td>List&lt;String&gt;</td> <td>Команды скрипта для выполнения, когда вариант ответа выбран пользователем; не забывайте экранировать запятые внутри значений списка, чтобы они не рассматривались как разделители. Команды будут вызываться по порядку после обработки <code>set</code>,<code>goto</code> и <code>gosub</code> (если назначены).</td></tr> <tr><td>show</td> <td>Boolean</td> <td>Показывать ли также обработчик выбора, для которого добавлен выбор; включен по умолчанию.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации постепенного появления (раскрытия). Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-9"><a href="#примеры-9" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Напечатать текст, затем немедленно показать варианты ответа и остановить выполнение скрипта.</span>
<span class="token generic-text punctuation">Continue executing this script or ...?<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">skipInput</span><span class="token start-stop-char">]</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Continue&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Load another script from start&quot;</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">AnotherScript</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Load another script from \&quot;MyLabel\&quot; label&quot;</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">AnotherScript.MyLabel</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Goto to \&quot;MySub\&quot; subroutine in another script&quot;</span><span class="token command-param-id property"> gosub:</span><span class="token command-param-value operator">AnotherScript.MySub</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token comment">; Вы также можете установить пользовательские переменные в зависимости от выбора варианта ответа.</span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;I'm humble, one is enough...&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">score++</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Two, please.&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">score=score+2</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;I'll take the entire stock!&quot;</span><span class="token command-param-id property"> set:</span><span class="token command-param-value operator">karma--;score=999</span></span></span>

<span class="token comment">; Воспроизвести звуковой эффект и расставить персонажей, когда будет выбран вариант ответа</span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Arrange&quot;</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">.Continue</span><span class="token command-param-id property"> do:</span><span class="token quoted-string operator">&quot;@sfx Click, @arrange k.10\,y.55&quot;</span></span></span>

<span class="token comment">; В следующем примере показано, как создать интерактивную карту с помощью команд `@choice`.</span>
<span class="token comment">; В этом примере мы предполагаем, что внутри папки `Resources / MapButtons` вы сохранили префабы с компонентом` ChoiceHandlerButton`, прикрепленным к их корневым объектам.</span>
<span class="token label regex"># Map</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Map</span></span></span>
<span class="token command function"><span class="token command-name">@hidePrinter</span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-id property"> handler:</span><span class="token command-param-value operator">ButtonArea</span><span class="token command-param-id property"> button:</span><span class="token command-param-value operator">MapButtons/Home</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">-300,-300</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">.HomeScene</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-id property"> handler:</span><span class="token command-param-value operator">ButtonArea</span><span class="token command-param-id property"> button:</span><span class="token command-param-value operator">MapButtons/Shop</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">300,200</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">.ShopScene</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token label regex"># HomeScene</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Home</span></span></span>
<span class="token generic-text punctuation">Home, sweet home!</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.Map</span></span></span>

<span class="token label regex"># ShopScene</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Shop</span></span></span>
<span class="token generic-text punctuation">Don't forget about cucumbers!</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.Map</span></span></span>
</code></pre></div><h2 id="clearbacklog"><a href="#clearbacklog" class="header-anchor">#</a> clearBacklog</h2> <h4 id="краткое-описание-10"><a href="#краткое-описание-10" class="header-anchor">#</a> Краткое описание</h4> <p>Удаляет все сообщения из <a href="/ru/guide/printer-backlog.html">принтера бэклога</a>.</p> <h4 id="примеры-10"><a href="#примеры-10" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@clearBacklog</span></span>
</code></pre></div><h2 id="clearchoice"><a href="#clearchoice" class="header-anchor">#</a> clearChoice</h2> <h4 id="краткое-описание-11"><a href="#краткое-описание-11" class="header-anchor">#</a> Краткое описание</h4> <p>Удаляет все варианты ответа в обработчике выбора с предоставленным идентификатором (или по умолчанию, если идентификатор не указан; или во всех существующих обработчиках, если в качестве идентификатора указан <code>*</code>) и (необязательно) скрывает его (их).</p> <h4 id="параметры-10"><a href="#параметры-10" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">HandlerId</span></td> <td>String</td> <td>ID обработчика выбора очистить. Если он не указан, будет использоваться обработчик по умолчанию. Укажите <code>*</code>, чтобы очистить все существующие обработчики.</td></tr> <tr><td>hide</td> <td>Boolean</td> <td>Следует ли также скрывать затронутые принтеры.</td></tr></tbody></table></div> <h4 id="example"><a href="#example" class="header-anchor">#</a> Example</h4> <div class="language- extra-class"><pre class="language-text"><code>; Добавить варианты ответа и удалить их через установленное время (если игрок не выбрал один).
# Start
You have 2 seconds to respond![skipInput]
@choice &quot;Cats&quot; goto:.PickedChoice
@choice &quot;Dogs&quot; goto:.PickedChoice
@wait 2
@clearChoice
Too late!
@goto .Start
# PickedChoice
Good!
</code></pre></div><h2 id="despawn"><a href="#despawn" class="header-anchor">#</a> despawn</h2> <h4 id="краткое-описание-12"><a href="#краткое-описание-12" class="header-anchor">#</a> Краткое описание</h4> <p>Уничтожает объект, созданный командой <a href="/ru/api/#spawn" target="_blank"><code>@spawn</code></a>.</p> <h4 id="примечание-6"><a href="#примечание-6" class="header-anchor">#</a> Примечание</h4> <p>Если в префабе есть компонент <code>UnityEngine.MonoBehaviour</code>, прикрепленный к корневому объекту, и компонент реализует интерфейс<code>Naninovel.Commands.DestroySpawned.IParameterized</code>, перед уничтожением объекта будут переданы указанные значения <code>params</code>; если компонент реализует интерфейс <code>Naninovel.Commands.DestroySpawned.IAwaitable</code>, выполнение команды будет ждать выполнения задачи асинхронного завершения, возвращаемой реализацией, прежде чем уничтожить объект.</p> <h4 id="параметры-11"><a href="#параметры-11" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Path</span></td> <td>String</td> <td>Имя (путь) префаба, который нужно уничтожить. Ожидается, что команда <a href="/ru/api/#spawn" target="_blank"><code>@spawn</code></a> с тем же параметром будет выполнена раньше.</td></tr> <tr><td>params</td> <td>List&lt;String&gt;</td> <td>Параметры, которые нужно установить перед уничтожением префаба. Требуется, чтобы к префабу был прикреплен компонент <code>Naninovel.Commands.DestroySpawned.IParameterized</code> , связанный с корневым объектом.</td></tr></tbody></table></div> <h4 id="примеры-11"><a href="#примеры-11" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Учитывая, что команда &quot;@spawn Rainbow&quot; была выполнена раньше</span>
<span class="token command function"><span class="token command-name">@despawn</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rainbow</span></span></span>
</code></pre></div><h2 id="else"><a href="#else" class="header-anchor">#</a> else</h2> <h4 id="краткое-описание-13"><a href="#краткое-описание-13" class="header-anchor">#</a> Краткое описание</h4> <p>Отмечает ветвь блока условного выполнения, который всегда выполняется в случае, если не выполняются условия открывающей <a href="/ru/api/#if" target="_blank"><code>@if</code></a> и всех предшествующих <a href="/ru/api/#elseif" target="_blank"><code>@elseif</code></a> (если есть) команд. Примеры использования см. в руководстве <a href="/ru/guide/naninovel-scripts.html#условия-исполнения">условния выполнения</a>.</p> <h2 id="elseif"><a href="#elseif" class="header-anchor">#</a> elseIf</h2> <h4 id="краткое-описание-14"><a href="#краткое-описание-14" class="header-anchor">#</a> Краткое описание</h4> <p>Отмечает ветвь блока условного выполнения, которая выполняется в случае выполнения собственного условия (выражение оценивается как истинное), в то время как условия открытия <a href="/ru/api/#if" target="_blank"><code>@if</code></a> и всех предшествующих команд <a href="/ru/api/#elseif" target="_blank"><code>@elseif</code></a> (если есть) не выполняются. Примеры использования см. в руководстве <a href="/ru/guide/naninovel-scripts.html#условия-исполнения">условния исполнения</a>.</p> <h4 id="параметры-12"><a href="#параметры-12" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Expression</span></td> <td>String</td> <td><a href="/ru/guide/script-expressions.html">Выражение сценария</a>, которое должно возвращать логическое значение.</td></tr></tbody></table></div> <h2 id="endif"><a href="#endif" class="header-anchor">#</a> endIf</h2> <h4 id="краткое-описание-15"><a href="#краткое-описание-15" class="header-anchor">#</a> Краткое описание</h4> <p>Закрывает блок условного выполнения <a href="/ru/api/#if" target="_blank"><code>@if</code></a>. Примеры использования см. в руководстве <a href="/ru/guide/naninovel-scripts.html#условия-исполнения">условния выполнения</a>.</p> <h2 id="finishtrans"><a href="#finishtrans" class="header-anchor">#</a> finishTrans</h2> <h4 id="краткое-описание-16"><a href="#краткое-описание-16" class="header-anchor">#</a> Краткое описание</h4> <p>Завершает переход между сценами, начатый командой <a href="/ru/api/#starttrans" target="_blank"><code>@startTrans</code></a>; см. справку по команде запуска для получения дополнительной информации и примеров использования.</p> <h4 id="параметры-13"><a href="#параметры-13" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">Transition</span></td> <td>String</td> <td>Тип используемого <a href="/ru/guide/transition-effects.html">эффекта перехода</a> (по умолчанию используется кроссфейд).</td></tr> <tr><td>params</td> <td>List&lt;Decimal&gt;</td> <td>Параметры эффекта перехода.</td></tr> <tr><td>dissolve</td> <td>String</td> <td>Путь к <a href="/ru/guide/transition-effects.html#пользовательские-эффекты-перехода">кастомномной текстуре растворения</a> (путь должен быть относительно папки <code>Resources</code>). Действует, только если для перехода установлен Customрежим.</td></tr> <tr><td>easing</td> <td>String</td> <td>Имя функции замедления, используемой для модификации. <br><br> Доступные опции: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указано, будет использоваться функция ослабления по умолчанию, установленная в настройках конфигурации менеджера актора.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность перехода (в секундах). Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h2 id="gosub"><a href="#gosub" class="header-anchor">#</a> gosub</h2> <h4 id="краткое-описание-17"><a href="#краткое-описание-17" class="header-anchor">#</a> Краткое описание</h4> <p>Переходит при воспроизведении скрипта наниновелл по указанному пути и сохраняет этот путь в ?глобальном состоянии ? ; <a href="/ru/api/#return" target="_blank"><code>@return</code></a> команды используют эту информацию для перенаправления на команду после последней запущенной команды gosub. Предназначен для использования в качестве функции (подпрограммы) в языке программирования, позволяющей повторно использовать фрагмент сценария наниновелл. Полезно для многократного вызова повторяющегося набора команд.</p> <h4 id="примечание-7"><a href="#примечание-7" class="header-anchor">#</a> Примечание</h4> <p>Можно объявить gosub вне текущего воспроизводимого скрипта и использовать его из любых других скриптов; по умолчанию сброс состояния не происходит, когда вы загружаете другой скрипт для воспроизведения gosub или возвращаетесь назад, чтобы предотвратить задержки и загрузочные экраны. Однако имейте в виду, что все ресурсы, указанные в сценарии gosub, будут храниться до следующего сброса состояния.</p> <h4 id="параметры-14"><a href="#параметры-14" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Path</span></td> <td>Named&lt;String&gt;</td> <td>Путь для перехода в следующем формате: <code>ScriptName.LabelName</code>. Если имя метки опущено, скрипт будет воспроизводиться с самого начала. Если имя сценария опущено, попытается найти метку в текущем воспроизводимом сценарии.</td></tr> <tr><td>reset</td> <td>List&lt;String&gt;</td> <td>Если указано, сбрасывает состояние служб ядра перед загрузкой сценария (если путь ведет к другому сценарию). Укажите <code>*</code>, чтобы сбросить все службы (кроме диспетчера переменных), или укажите имена служб, которые нужно исключить из сброса. По умолчанию состояние не сбрасывается.</td></tr></tbody></table></div> <h4 id="примеры-12"><a href="#примеры-12" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; При воспроизведении, переходит к метке `VictoryScene`, в воспроизводимом в данный момент скрипте, выполняет команды и переходит обратно к команде после `gosub`.</span>
<span class="token command function"><span class="token command-name">@gosub</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.VictoryScene</span></span></span>
<span class="token generic-text punctuation">...</span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token label regex"># VictoryScene</span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Victory</span></span></span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Fireworks</span></span></span>
<span class="token command function"><span class="token command-name">@bgm</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Fanfares</span></span></span>
<span class="token generic-text punctuation">You are victorious!</span>
<span class="token command function"><span class="token command-name">@return</span></span>

<span class="token comment">; Другой пример с некоторым ветвлением внутри подпрограммы.</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">time=10</span></span></span>
<span class="token comment">; Здесь мы получаем один результат</span>
<span class="token command function"><span class="token command-name">@gosub</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.Room</span></span></span>
<span class="token generic-text punctuation">...</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">time=3</span></span></span>
<span class="token comment">; И вот мы получаем еще один</span>
<span class="token command function"><span class="token command-name">@gosub</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.Room</span></span></span>
<span class="token generic-text punctuation">...</span>

<span class="token label regex"># Room</span>
<span class="token command function"><span class="token command-name">@print</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;It's too early, I should visit this place when it's dark.&quot;</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">time&lt;21&amp;&amp;time&gt;6</span></span></span>
<span class="token command function"><span class="token command-name">@print</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;I can sense an ominous presence here!&quot;</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">time&gt;21&amp;&amp;time&lt;6</span></span></span>
<span class="token command function"><span class="token command-name">@return</span></span>
</code></pre></div><h2 id="goto"><a href="#goto" class="header-anchor">#</a> goto</h2> <h4 id="краткое-описание-18"><a href="#краткое-описание-18" class="header-anchor">#</a> Краткое описание</h4> <p>Перемещает воспроизведение сценария наниновеллы по указанному пути. Когда путь ведет к другому (не воспроизводимому в данный момент) скрипту новеллы, он также <a href="/ru/api/#resetstate">сбросит состояние</a> перед загрузкой целевого скрипта, если <a href="/ru/guide/configuration.html#state">ResetStateOnLoad</a> не отключен в комплектации.</p> <h4 id="параметры-15"><a href="#параметры-15" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Path</span></td> <td>Named&lt;String&gt;</td> <td>Путь для перехода в следующем формате: <code>ScriptName.LabelName</code>. Если имя метки опущено, скрипт будет воспроизводиться с самого начала. Если имя сценария опущено, попытается найти метку в текущем воспроизводимом сценарии.</td></tr> <tr><td>reset</td> <td>List&lt;String&gt;</td> <td>Если указано, сбрасывает состояние служб ядра перед загрузкой сценария (если путь ведет к другому сценарию). Укажите <code>*</code>, чтобы сбросить все службы (кроме диспетчера переменных), или укажите имена служб, которые нужно исключить из сброса. Укажите <code>-</code>, чтобы не выполнять сброса (даже если он включен по умолчанию в конфигурации). Значение по умолчанию контролируется опцией <code>Reset State On Load</code> в меню конфигурации двигателя.</td></tr></tbody></table></div> <h4 id="примеры-13"><a href="#примеры-13" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Загружает и запускает воспроизведение сценария новеллы с именем `Script001` с самого начала.</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Script001</span></span></span>

<span class="token comment">; Тоже, что и выше, но начинает играть с метки `AfterStorm`.</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Script001.AfterStorm</span></span></span>

<span class="token comment">; Перемещает воспроизведение к метке `Epilogue` в воспроизводимом в данный момент скрипте.</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.Epilogue</span></span></span>

<span class="token comment">; Загрузите Script001, но не сбрасывайте аудио-менеджер (воспроизведение звука не прерывается). Имейте в виду, что исключение сброса состояния формы службы оставит связанные ресурсы в памяти.</span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Script001</span><span class="token command-param-id property"> reset:</span><span class="token command-param-value operator">IAudioManager</span></span></span>
</code></pre></div><h2 id="hide"><a href="#hide" class="header-anchor">#</a> hide</h2> <h4 id="краткое-описание-19"><a href="#краткое-описание-19" class="header-anchor">#</a> Краткое описание</h4> <p>Скрывает (делает невидимыми) акторов (персонаж, фон, текстовый принтер, обработчик выбора и т. д.) С указанными идентификаторами. В случае, если найдены несколько акторов с одним и тем же идентификатором (например, персонаж и принтер), это повлияет только на первый найденый актор.</p> <h4 id="параметры-16"><a href="#параметры-16" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">ActorIds</span></td> <td>List&lt;String&gt;</td> <td>ID акторов, которых нужно скрыть.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации затухания. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-14"><a href="#примеры-14" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Если актор с ID `SomeActor` виден, то скрыть его в течение 3 секунд.</span>
<span class="token command function"><span class="token command-name">@hide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">SomeActor</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3</span></span></span>

<span class="token comment">; Спрятать акторов `Kohaku` и `Yuko`.</span>
<span class="token command function"><span class="token command-name">@hide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku,Yuko</span></span></span>
</code></pre></div><h2 id="hideall"><a href="#hideall" class="header-anchor">#</a> hideAll</h2> <h4 id="краткое-описание-20"><a href="#краткое-описание-20" class="header-anchor">#</a> Краткое описание</h4> <p>Скрывает (удаляет) всех действующих лиц (например, персонажей, фоны, текстовые принтеры, обработчики выбора и т. Д.) на сцене.</p> <h4 id="параметры-17"><a href="#параметры-17" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации затухания. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-15"><a href="#примеры-15" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@hideAll</span></span>
</code></pre></div><h2 id="hidechars"><a href="#hidechars" class="header-anchor">#</a> hideChars</h2> <h4 id="краткое-описание-21"><a href="#краткое-описание-21" class="header-anchor">#</a> Краткое описание</h4> <p>Скрывает (удаляет) всех видимых персонажей на сцене.</p> <h4 id="параметры-18"><a href="#параметры-18" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации затухания. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-16"><a href="#примеры-16" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@hideChars</span></span>
</code></pre></div><h2 id="hideprinter"><a href="#hideprinter" class="header-anchor">#</a> hidePrinter</h2> <h4 id="краткое-описание-22"><a href="#краткое-описание-22" class="header-anchor">#</a> Краткое описание</h4> <p>Скрывает текстовый принтер.</p> <h4 id="параметры-19"><a href="#параметры-19" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">PrinterId</span></td> <td>String</td> <td>ID используемого принтера. Если не указано иное, будет использоваться значение по умолчанию.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации скрытия. Значение по умолчанию для каждого принтера устанавливается в конфигурации актора.</td></tr></tbody></table></div> <h4 id="примеры-17"><a href="#примеры-17" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Скрыть принтер по умолчанию.</span>
<span class="token command function"><span class="token command-name">@hidePrinter</span></span>
<span class="token comment">; Скрыть принтер с ID `Wide`.</span>
<span class="token command function"><span class="token command-name">@hidePrinter</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Wide</span></span></span>
</code></pre></div><h2 id="hideui"><a href="#hideui" class="header-anchor">#</a> hideUI</h2> <h4 id="краткое-описание-23"><a href="#краткое-описание-23" class="header-anchor">#</a> Краткое описание</h4> <p>Делает <a href="/ru/guide/user-interface.html#кастомизация-UI">элементы пользовательского интерфейса</a> с указанными именами невидимыми. Если имена не указаны, прекратит рендеринг (скроет) весь UI (включая все встроенные пользовательские интерфейсы).</p> <h4 id="примечание-8"><a href="#примечание-8" class="header-anchor">#</a> Примечание</h4> <p>Если скрыть весь UI с помощью этой команды и параметра <code>allowToggle</code>, который имеет значение false (по умолчанию), пользователь не сможет повторно отобразить UI с помощью горячих клавиш или щелкнув в любом месте экрана; используйте команду <a href="/ru/api/#showui" target="_blank"><code>@showUI</code></a>, чтобы снова сделать UI <s>великим</s> видимым.</p> <h4 id="параметры-20"><a href="#параметры-20" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">UINames</span></td> <td>List&lt;String&gt;</td> <td>Имя скрытых элементов пользовательского интерфейса.</td></tr> <tr><td>allowToggle</td> <td>Boolean</td> <td>При скрытии всего UI, определяет, разрешить ли пользователю повторно отображать UI с помощью горячих клавиш или щелчком в любом месте экрана (по умолчанию false). Не влияет на скрытие определенного UI.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации скрытия. Если не указано, будет использоваться продолжительность, зависящая от UI.</td></tr></tbody></table></div> <h4 id="примеры-18"><a href="#примеры-18" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; При наличии пользовательского UI `Calendar` следующая команда скроет его.</span>
<span class="token command function"><span class="token command-name">@hideUI</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Calendar</span></span></span>

<span class="token comment">; Скрыть весь UI, и не позволит пользователю повторно показать его</span>
<span class="token command function"><span class="token command-name">@hideUI</span></span>
<span class="token generic-text punctuation">...</span>
<span class="token comment">; Сделать UI снова видимым</span>
<span class="token command function"><span class="token command-name">@showUI</span></span>

<span class="token comment">; Скрыть весь UI, но разрешить пользователю переключать его обратно</span>
<span class="token command function"><span class="token command-name">@hideUI</span><span class="token command-params"><span class="token command-param-id property"> allowToggle:</span><span class="token command-param-value operator">true</span></span></span>

<span class="token comment">; Одновременно скрыть встроенный интерфейс `TipsUI` и интерфейс ` Calendar`.</span>
<span class="token command function"><span class="token command-name">@hideUI</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">TipsUI,Calendar</span></span></span>
</code></pre></div><h2 id="i"><a href="#i" class="header-anchor">#</a> i</h2> <h4 id="краткое-описание-24"><a href="#краткое-описание-24" class="header-anchor">#</a> Краткое описание</h4> <p>Удерживает выполнение скрипта до тех пор, пока пользователь не активирует вход <code>continue</code>. Ярлык для <code>@wait i</code>.</p> <h4 id="примеры-19"><a href="#примеры-19" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Пользователь должен будет активировать ввод `continue` после первого предложения, чтобы принтер продолжил печать следующий текст.</span>
<span class="token generic-text punctuation">Lorem ipsum dolor sit amet.<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">i</span><span class="token start-stop-char">]</span></span> Consectetur adipiscing elit.</span>
</code></pre></div><h2 id="if"><a href="#if" class="header-anchor">#</a> if</h2> <h4 id="краткое-описание-25"><a href="#краткое-описание-25" class="header-anchor">#</a> Краткое описание</h4> <p>Обозначает начало блока условного выполнения. Всегда должен закрываться командой <a href="/ru/api/#endif" target="_blank"><code>@endif</code></a>. Примеры использования см. в руководстве <a href="/ru/guide/naninovel-scripts.html#условия-исполнения">условия выполнения</a>.</p> <h4 id="параметры-21"><a href="#параметры-21" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Expression</span></td> <td>String</td> <td><a href="/ru/guide/script-expressions.html">Выражение сценария</a>, которое должно возвращать логическое значение.</td></tr></tbody></table></div> <h2 id="input"><a href="#input" class="header-anchor">#</a> input</h2> <h4 id="краткое-описание-26"><a href="#краткое-описание-26" class="header-anchor">#</a> Краткое описание</h4> <p>Показывает интерфейс (UI) поля ввода, где пользователь может ввести произвольный текст. После отправки введенный текст будет присвоен указанной пользовательской переменной.</p> <h4 id="примечание-9"><a href="#примечание-9" class="header-anchor">#</a> Примечание</h4> <p>Посмотрите этот <a href="https://youtu.be/F9meuMzvGJw" target="_blank" rel="noopener noreferrer">видеогид<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> на примере использования. <br><br> Чтобы назначить отображаемое имя для символа с помощью этой команды, рассмотрите возможность <a href="/ru/guide/characters.html#display-names">привязки имени к пользовательской переменной</a>.</p> <h4 id="параметры-22"><a href="#параметры-22" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">VariableName</span></td> <td>String</td> <td>Имя пользовательской переменной, которой будет назначен введенный текст.</td></tr> <tr><td>summary</td> <td>String</td> <td>Необязательный текст сводки для отображения вместе с полем ввода. Если текст содержит пробелы, заключите его в двойные кавычки (<code>&quot;</code>). Если вы хотите включить двойные кавычки в сам текст, не используйте их.</td></tr> <tr><td>value</td> <td>String</td> <td>Предопределенное значение для поля ввода.</td></tr> <tr><td>play</td> <td>Boolean</td> <td>Следует ли автоматически возобновлять воспроизведение скрипта, когда пользователь отправит форму ввода.</td></tr></tbody></table></div> <h4 id="примеры-20"><a href="#примеры-20" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Разрешить пользователю ввести произвольный текст и назначить его пользовательской переменной `name`</span>
<span class="token command function"><span class="token command-name">@input</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">name</span><span class="token command-param-id property"> summary:</span><span class="token quoted-string operator">&quot;Choose your name.&quot;</span></span></span>
<span class="token comment">; Команда Stop требуется для остановки выполнения скрипта до тех пор, пока пользователь не отправит ввод</span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token comment">; Затем вы можете ввести присвоенную переменную `name` в скрипте новеллы.</span>
<span class="token generic-text punctuation">Archibald: Greetings, <span class="token expression selector">{name}</span>!</span>
<span class="token generic-text punctuation"><span class="token expression selector">{name}</span>: Yo!</span>

<span class="token comment">; ...или используйте его внутри множественных и условных выражений</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">score=score+1</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">name==</span><span class="token quoted-string operator">&quot;Felix&quot;</span></span></span>
</code></pre></div><h2 id="lipsync"><a href="#lipsync" class="header-anchor">#</a> lipSync</h2> <h4 id="краткое-описание-27"><a href="#краткое-описание-27" class="header-anchor">#</a> Краткое описание</h4> <p>Позволяет принудительно остановить анимацию рта с синхронизацией губ для персонажа с предоставленным идентификатором; при остановке анимация не запустится снова, пока эта команда не будет разрешена снова. Персонаж должен иметь возможность получать события синхронизации губ (в настоящее время только общие реализации и реализации Live2D). См. <a href="/ru/guide/characters.html#синхронизация-движений-губ-со-звуком">Руководство персонажей</a> для получения дополнительной информации о функции синхронизации губ.</p> <h4 id="параметры-23"><a href="#параметры-23" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">CharIdAndAllow</span></td> <td>Named&lt;Boolean&gt;</td> <td>ID символа, за которым следует логическое значение (true или false), указывающее, следует ли остановить или разрешить анимацию синхронизации губ.</td></tr></tbody></table></div> <h4 id="примеры-21"><a href="#примеры-21" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Поскольку автоматическое озвучивание отключено, а синхронизация губ управляется текстовыми сообщениями, исключите знаки препинания из анимации рта.</span>
<span class="token generic-text punctuation">Kohaku: Lorem ipsum dolor sit amet<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">lipSync</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.false</span><span class="token start-stop-char">]</span></span>... <span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">lipSync</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.true</span><span class="token start-stop-char">]</span></span>Consectetur adipiscing elit.</span>
</code></pre></div><h2 id="loadscene"><a href="#loadscene" class="header-anchor">#</a> loadScene</h2> <h4 id="краткое-описание-28"><a href="#краткое-описание-28" class="header-anchor">#</a> Краткое описание</h4> <p>Загружает <a href="https://docs.unity3d.com/Manual/CreatingScenes.html" target="_blank" rel="noopener noreferrer">сцену Unity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> с указанным именем. Не забудьте добавить необходимые сцены в <a href="https://docs.unity3d.com/Manual/BuildSettings.html" target="_blank" rel="noopener noreferrer">настройки сборки<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, чтобы сделать их доступными для загрузки.</p> <h4 id="параметры-24"><a href="#параметры-24" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">SceneName</span></td> <td>String</td> <td>Имя загружаемой сцены.</td></tr> <tr><td>additive</td> <td>Boolean</td> <td>Следует ли загружать сцену аддитивно или выгружать текущие загруженные сцены перед загрузкой новой (по умолчанию). См. <a href="https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager.LoadScene.html" target="_blank" rel="noopener noreferrer">Документацию по загрузке сцены<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> для получения дополнительной информации.</td></tr></tbody></table></div> <h4 id="примеры-22"><a href="#примеры-22" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Загрузить сцену &quot;MyTestScene&quot; в одиночном режиме</span>
<span class="token command function"><span class="token command-name">@loadScene</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">MyTestScene</span></span></span>
<span class="token comment">; Загрузить сцену &quot;MyTestScene&quot; в аддитивном режиме</span>
<span class="token command function"><span class="token command-name">@loadScene</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">MyTestScene</span><span class="token command-param-id property"> additive:</span><span class="token command-param-value operator">true</span></span></span>
</code></pre></div><h2 id="lock"><a href="#lock" class="header-anchor">#</a> lock</h2> <h4 id="краткое-описание-29"><a href="#краткое-описание-29" class="header-anchor">#</a> Краткое описание</h4> <p>Устанавливает <a href="/ru/guide/unlockable-items.html">разблокируемый элемент</a> с предоставленным идентификатором в состояние <code>locked</code> .</p> <h4 id="примечание-10"><a href="#примечание-10" class="header-anchor">#</a> Примечание</h4> <p>Разблокированное состояние элементов сохраняется в <a href="/ru/guide/state-management.html#глобальное-состояние">global scope</a>.<br> Если элемент с предоставленным идентификатором не зарегистрирован в карте глобального состояния, соответствующая запись будет добавлена автоматически.</p> <h4 id="параметры-25"><a href="#параметры-25" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Id</span></td> <td>String</td> <td>ID разблокируемого предмета. Используйте <code>*</code>, чтобы заблокировать все зарегистрированные разблокируемые элементы.</td></tr></tbody></table></div> <h4 id="примеры-23"><a href="#примеры-23" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@lock</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CG/FightScene1</span></span></span>
</code></pre></div><h2 id="look"><a href="#look" class="header-anchor">#</a> look</h2> <h4 id="краткое-описание-30"><a href="#краткое-описание-30" class="header-anchor">#</a> Краткое описание</h4> <p>Включает / выключает режим обзора камеры, когда игрок может смещать основную камеру с помощью устройств ввода (например, перемещая мышь или используя аналоговый джойстик геймпада). Посмотрите <a href="https://youtu.be/rC6C9mA7Szw" target="_blank" rel="noopener noreferrer">это видео<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> для быстрой демонстрации команды.</p> <h4 id="параметры-26"><a href="#параметры-26" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>enable</td> <td>Boolean</td> <td>Включить или отключить режим просмотра камерой. По умолчанию: true.</td></tr> <tr><td>zone</td> <td>List&lt;Decimal&gt;</td> <td>Связанный прямоугольник с размерами X, Y в единицах от исходного положения камеры, описывающий, как далеко камера может быть перемещена. По умолчанию: 5,3.</td></tr> <tr><td>speed</td> <td>List&lt;Decimal&gt;</td> <td>Скорость движения (чувствительность) камеры по осям X, Y. По умолчанию: 1.5,1.</td></tr> <tr><td>gravity</td> <td>Boolean</td> <td>Следует ли автоматически перемещать камеру в исходное положение, когда вход просмотра не активен (например, мышь не двигается или аналоговый джойстик находится в положении по умолчанию). По умолчанию: false.</td></tr></tbody></table></div> <h4 id="примеры-24"><a href="#примеры-24" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Активировать режим просмотра камеры с параметрами по умолчанию</span>
<span class="token command function"><span class="token command-name">@look</span></span>

<span class="token comment">; Активировать режим просмотра камеры с пользовательскими параметрами</span>
<span class="token command function"><span class="token command-name">@look</span><span class="token command-params"><span class="token command-param-id property"> zone:</span><span class="token command-param-value operator">6.5,4</span><span class="token command-param-id property"> speed:</span><span class="token command-param-value operator">3,2.5</span><span class="token command-param-id property"> gravity:</span><span class="token command-param-value operator">true</span></span></span>

<span class="token comment">; Отключить режим обзора камеры и сбросить смещение камеры</span>
<span class="token command function"><span class="token command-name">@look</span><span class="token command-params"><span class="token command-param-id property"> enabled:</span><span class="token command-param-value operator">false</span></span></span>
<span class="token command function"><span class="token command-name">@camera</span><span class="token command-params"><span class="token command-param-id property"> offset:</span><span class="token command-param-value operator">0,0</span></span></span>
</code></pre></div><h2 id="movie"><a href="#movie" class="header-anchor">#</a> movie</h2> <h4 id="краткое-описание-31"><a href="#краткое-описание-31" class="header-anchor">#</a> Краткое описание</h4> <p>Воспроизводит фильм с указанным именем (путем).</p> <h4 id="примечание-11"><a href="#примечание-11" class="header-anchor">#</a> Примечание</h4> <p>Изображение на экране исчезнет перед воспроизведением фильма и снова исчезнет после воспроизведения. Воспроизведение можно отменить, активировав вход <code>cancel</code> (по умолчанию клавиша <code>Esc</code>).</p> <h4 id="параметры-27"><a href="#параметры-27" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">MovieName</span></td> <td>String</td> <td>Имя ресурса фильма для воспроизведения.</td></tr></tbody></table></div> <h4 id="примеры-25"><a href="#примеры-25" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Если видеоклип &quot;Opening&quot; добавлен в ресурсы, воспроизвести его.</span>
<span class="token command function"><span class="token command-name">@movie</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Opening</span></span></span>
</code></pre></div><h2 id="print"><a href="#print" class="header-anchor">#</a> print</h2> <h4 id="краткое-описание-32"><a href="#краткое-описание-32" class="header-anchor">#</a> Краткое описание</h4> <p>Печатает (показывает с течением времени) указанное текстовое сообщение с помощью актора текстового принтера.</p> <h4 id="примечание-12"><a href="#примечание-12" class="header-anchor">#</a> Примечание</h4> <p>Эта команда используется при обработке общих текстовых строк, например, общая строка <code>Kohaku: Hello World!</code> будет автоматически преобразована в <code>@print &quot;Hello World!&quot; author:Kohaku</code> при разборе скриптов новеллы. <br> По умолчанию сбросит (очистит) принтер перед печатью нового сообщения; установите для параметра <code>reset</code> значение <em>false</em> или отключите <code>Auto Reset</code> в конфигурации актора принтера, чтобы предотвратить это, и вместо этого добавьте текст. <br> ?Сделает принтер по умолчанию и скроет другие принтеры по умолчанию; установите для параметра <code>default</code> значение <em>false</em> или отключите <code>Auto Default</code> в конфигурации актора принтера, чтобы предотвратить это. <br> Будет ждать ввода данных пользователем перед завершением задачи по умолчанию; установите для параметра <code>waitInput</code> значение <em>false</em> или отключите <code>Auto Wait</code> в конфигурации актора принтера, чтобы он возвращался, как только текст полностью раскрывается. <br></p> <h4 id="параметры-28"><a href="#параметры-28" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Text</span></td> <td>String</td> <td>Текст сообщения для печати. Если текст содержит пробелы, заключите его в двойные кавычки (<code>&quot;</code>). Если вы хотите включить двойные кавычки в сам текст, экранируйте их.</td></tr> <tr><td>printer</td> <td>String</td> <td>ID используемого принтера. Если не указано иное, будет использоваться значение по умолчанию.</td></tr> <tr><td>author</td> <td>String</td> <td>ID актора, который должен быть связан с напечатанным сообщением.</td></tr> <tr><td>speed</td> <td>Decimal</td> <td>Множитель скорости отображения текста; должно быть положительным или нулевым. Установка на единицу даст скорость по умолчанию.</td></tr> <tr><td>reset</td> <td>Boolean</td> <td>Следует ли сбрасывать текст принтера перед выполнением задания печати. Значение по умолчанию контролируется с помощью свойства <code>Auto Reset</code> в меню конфигурации актора принтера.</td></tr> <tr><td>default</td> <td>Boolean</td> <td>Использовать ли принтер по умолчанию и скрывать другие принтеры перед выполнением задания печати. Значение по умолчанию контролируется с помощью свойства <code>Auto Default</code> в меню конфигурации актора принтера.</td></tr> <tr><td>waitInput</td> <td>Boolean</td> <td>Следует ли ждать ввода данных пользователем после завершения задания печати. Значение по умолчанию контролируется с помощью свойства <code>Auto Wait</code> в меню конфигурации актора принтера.</td></tr> <tr><td>br</td> <td>Integer</td> <td>Количество разрывов строки, добавляемых перед печатным текстом. Значение по умолчанию контролируется с помощью свойства <code>Auto Line Break</code> в меню конфигурации актора принтера.</td></tr> <tr><td>fadeTime</td> <td>Decimal</td> <td>Управляет продолжительностью (в секундах) отображения и скрытия принтеров анимации, связанной с этой командой. Значение по умолчанию для каждого принтера устанавливается в конфигурации актора.</td></tr></tbody></table></div> <h4 id="примеры-26"><a href="#примеры-26" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Распечатать фразу на принтере по умолчанию.</span>
<span class="token command function"><span class="token command-name">@print</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Lorem ipsum dolor sit amet.&quot;</span></span></span>

<span class="token comment">; Чтобы включить кавычки в сам текст, экранируйте их.</span>
<span class="token command function"><span class="token command-name">@print</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Saying \&quot;Stop the car\&quot; was a mistake.&quot;</span></span></span>

<span class="token comment">; Показывать сообщение с скоростью 0.5 и не ждать продолжения ввода пользователя.</span>
<span class="token command function"><span class="token command-name">@print</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Lorem ipsum dolor sit amet.&quot;</span><span class="token command-param-id property"> speed:</span><span class="token command-param-value operator">0.5</span><span class="token command-param-id property"> waitInput:</span><span class="token command-param-value operator">false</span></span></span>
</code></pre></div><h2 id="printer"><a href="#printer" class="header-anchor">#</a> printer</h2> <h4 id="краткое-описание-33"><a href="#краткое-описание-33" class="header-anchor">#</a> Краткое описание</h4> <p>Изменяет <a href="/ru/guide/text-printers.html">актора текстового принтера</a>.</p> <h4 id="параметры-29"><a href="#параметры-29" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">IdAndAppearance</span></td> <td>Named&lt;String&gt;</td> <td>ID принтера, который нужно изменить, и внешний вид, который нужно установить. Если идентификатор или внешний вид не указаны, будут использоваться значения по умолчанию.</td></tr> <tr><td>default</td> <td>Boolean</td> <td>Использовать ли этот принтер по умолчанию. Принтер по умолчанию будет подчиняться всем командам, связанным с принтером, если параметр <code>printer</code> не указан.</td></tr> <tr><td>hideOther</td> <td>Boolean</td> <td>Скрывать ли все остальные принтеры.</td></tr> <tr><td>pos</td> <td>List&lt;Decimal&gt;</td> <td>Положение (относительно границ экрана, в процентах), устанавливаемое для измененного принтера. Положение описывается следующим образом: «0,0» - это нижний левый угол, «50,50» - центр и «100,100» - это верхний правый угол экрана.</td></tr> <tr><td>visible</td> <td>Boolean</td> <td>Показывать или скрывать принтер.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) модификации. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-27"><a href="#примеры-27" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Сделать принтер `Wide` по умолчанию и скрыть все остальные видимые принтеры.</span>
<span class="token command function"><span class="token command-name">@printer</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Wide</span></span></span>

<span class="token comment">; Назначить внешний вид `Right` принтеру `Bubble`, по умолчанию он будет располагаться в центре экрана и не будет скрывать другие принтеры.</span>
<span class="token command function"><span class="token command-name">@printer</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Bubble.Right</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">50,50</span><span class="token command-param-id property"> hideOther:</span><span class="token command-param-value operator">false</span></span></span>
</code></pre></div><h2 id="processinput"><a href="#processinput" class="header-anchor">#</a> processInput</h2> <h4 id="краткое-описание-34"><a href="#краткое-описание-34" class="header-anchor">#</a> Краткое описание</h4> <p>Позволяет останавливать и возобновлять обработку пользовательского ввода (например, реагировать на нажатие клавиш клавиатуры). Эффект от действия постоянный и сохраняется вместе с игрой.</p> <h4 id="параметры-30"><a href="#параметры-30" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">InputEnabled</span></td> <td>Boolean</td> <td>Включить ли обработку ввода.</td></tr></tbody></table></div> <h4 id="примеры-28"><a href="#примеры-28" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Остановить обработку ввода</span>
<span class="token command function"><span class="token command-name">@processInput</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">false</span></span></span>
<span class="token comment">; Возобновить обработку ввода</span>
<span class="token command function"><span class="token command-name">@processInput</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">true</span></span></span>
</code></pre></div><h2 id="purgerollback"><a href="#purgerollback" class="header-anchor">#</a> purgeRollback</h2> <h4 id="краткое-описание-35"><a href="#краткое-описание-35" class="header-anchor">#</a> Краткое описание</h4> <p>Предотвращает откат игрока к предыдущим снимкам состояния.</p> <h4 id="примеры-29"><a href="#примеры-29" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Запретить игроку откат назад, чтобы бы он не мог выбрать другой вариант ответа.</span>

<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;One&quot;</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">.One</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Two&quot;</span><span class="token command-param-id property"> goto:</span><span class="token command-param-value operator">.Two</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>

<span class="token label regex"># One</span>
<span class="token command function"><span class="token command-name">@purgeRollback</span></span>
<span class="token generic-text punctuation">You've picked one.</span>

<span class="token label regex"># Two</span>
<span class="token command function"><span class="token command-name">@purgeRollback</span></span>
<span class="token generic-text punctuation">You've picked two.</span>
</code></pre></div><h2 id="resetstate"><a href="#resetstate" class="header-anchor">#</a> resetState</h2> <h4 id="краткое-описание-36"><a href="#краткое-описание-36" class="header-anchor">#</a> Краткое описание</h4> <p>Сбрасывает состояние <a href="https://naninovel.com/ru/guide/engine-services.html" target="_blank" rel="noopener noreferrer">сервисов движка<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> и выгружает (удаляет) все ресурсы, загруженные Naninovel (текстуры, аудио, видео и т.д.); в основном вернется к пустому начальному состоянию двигателя.</p> <h4 id="примечание-13"><a href="#примечание-13" class="header-anchor">#</a> Примечание</h4> <p>Процесс является асинхронным и маскируется экраном загрузки (<a href="https://naninovel.com/ru/guide/user-interface.html#ui-customization" target="_blank" rel="noopener noreferrer">ILoadingUI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>). <br><br> Когда <a href="https://naninovel.com/ru/guide/configuration.html#state" target="_blank" rel="noopener noreferrer">ResetStateOnLoad<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> отключен в конфигурации, вы можете использовать эту команду, чтобы вручную удалить неиспользуемые ресурсы, чтобы предотвратить проблемы с утечкой памяти. <br><br> Имейте в виду, что эту команду нельзя отменить (перемотать назад).</p> <h4 id="параметры-31"><a href="#параметры-31" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">Exclude</span></td> <td>List&lt;String&gt;</td> <td>Название <a href="https://naninovel.com/ru/guide/engine-services.html" target="_blank" rel="noopener noreferrer">сервисов движка<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (интерфейсов), которые нужно исключить из сброса. При указании параметра всегда учитывайте добавление <code>ICustomVariableManager</code> для сохранения локальных переменных.</td></tr></tbody></table></div> <h4 id="примеры-30"><a href="#примеры-30" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Сбросить все службы.</span>
<span class="token command function"><span class="token command-name">@resetState</span></span>

<span class="token comment">; Сбросьте все службы, кроме менеджеров переменных и аудио (текущий звук продолжит воспроизведение).</span>
<span class="token command function"><span class="token command-name">@resetState</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ICustomVariableManager,IAudioManager</span></span></span>
</code></pre></div><h2 id="resettext"><a href="#resettext" class="header-anchor">#</a> resetText</h2> <h4 id="краткое-описание-37"><a href="#краткое-описание-37" class="header-anchor">#</a> Краткое описание</h4> <p>Сбрасывает (очищает) содержимое текстового принтера.</p> <h4 id="параметры-32"><a href="#параметры-32" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">PrinterId</span></td> <td>String</td> <td>ID используемого принтера. Если не указано, будет использоваться значение по умолчанию.</td></tr></tbody></table></div> <h4 id="примеры-31"><a href="#примеры-31" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Очистить содержимое принтера по умолчанию.</span>
<span class="token command function"><span class="token command-name">@resetText</span></span>
<span class="token comment">; Очистить содержимое принтера с ID `Fullscreen`.</span>
<span class="token command function"><span class="token command-name">@resetText</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Fullscreen</span></span></span>
</code></pre></div><h2 id="return"><a href="#return" class="header-anchor">#</a> return</h2> <h4 id="краткое-описание-38"><a href="#краткое-описание-38" class="header-anchor">#</a> Краткое описание</h4> <p>Пытается перейти при воспроизведении сценария naninovel к команде после последней использованной <a href="/ru/api/#gosub" target="_blank"><code>@gosub</code></a>. См. Описание команды <a href="/ru/api/#gosub" target="_blank"><code>@gosub</code></a> для получения дополнительной информации и примеров использования.</p> <h4 id="параметры-33"><a href="#параметры-33" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td>reset</td> <td>List&lt;String&gt;</td> <td>Если указано, сбросит состояние сервисов движка перед возвратом к исходному сценарию, из которого был введен gosub (в случае, если это не текущий сценарий). Укажите <code>*</code>, чтобы сбросить все службы (кроме диспетчера переменных), или укажите имена служб, которые нужно исключить из сброса. По умолчанию состояние не сбрасывается.</td></tr></tbody></table></div> <h2 id="save"><a href="#save" class="header-anchor">#</a> save</h2> <h4 id="краткое-описание-39"><a href="#краткое-описание-39" class="header-anchor">#</a> Краткое описание</h4> <p>Автоматически сохраняет игру в слот для быстрого сохранения.</p> <h4 id="примеры-32"><a href="#примеры-32" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@save</span></span>
</code></pre></div><h2 id="set"><a href="#set" class="header-anchor">#</a> set</h2> <h4 id="краткое-описание-40"><a href="#краткое-описание-40" class="header-anchor">#</a> Краткое описание</h4> <p>Присваивает результат <a href="/ru/guide/script-expressions.html">выражения сценария</a> <a href="/ru/guide/custom-variables.html">пользовательской переменной</a>.</p> <h4 id="примечание-14"><a href="#примечание-14" class="header-anchor">#</a> Примечание</h4> <p>Имя переменной должно быть буквенно-цифровым (только латинские символы) и может содержать символы подчеркивания, например: <code>name</code>,<code>Char1Score</code>, <code>my_score</code>; имена регистронезависимы, например: <code>myscore</code> равно <code>MyScore</code>. Если переменной с указанным именем не существует, она будет создана автоматически. <br> <br> Можно определить несколько выражений набора в одной строке, разделив их символом <code>;</code>. Выражения будут выполняться последовательно в порядке объявления. <br> <br> Пользовательские переменные по умолчанию хранятся в <strong>local scope</strong>. Это означает, что если вы назначите какую-то переменную в процессе игры, и игрок начнет новую игру или загрузит другой сохраненный игровой слот, где эта переменная не была назначена, значение будет потеряно. Если вместо этого вы хотите сохранить переменную в <strong>global scope</strong>, добавьте к ее имени <code>G_</code> или<code>g_</code>, например: <code>G_FinishedMainRoute</code> или<code>g_total_score</code>. <br> <br> Если имя переменной начинается с <code>T_</code> или<code>t_</code>, это считается ссылкой на значение, хранящееся в документе 'Script' <a href="/ru/guide/managed-text.html">управляемый текст</a>. Такие переменные не могут быть назначены и в основном используются для ссылки на локализуемые текстовые значения. <br> <br> Вы можете получить и установить пользовательские переменные в сценариях C # с помощью <code>CustomVariableManager</code> <a href="/ru/guide/engine-services.html">служба движка</a>.</p> <h4 id="параметры-34"><a href="#параметры-34" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Expression</span></td> <td>String</td> <td>Установить выражение. <br><br> Выражение должно быть в следующем формате: <code>VariableName=ExpressionBody</code>, где <code>VariableName</code> - это имя настраиваемой переменной, которую нужно назначить, а <code>ExpressionBody</code> - это <a href="/ru/guide/script-expressions.html">выражение сценария</a>, результат которого следует присвоить переменной. <br><br> Также можно использовать унарные операторы увеличения и уменьшения, например: <code>@set foo++</code>, <code>@set foo--</code>.</td></tr></tbody></table></div> <h4 id="примеры-33"><a href="#примеры-33" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Присвоить переменной `foo` строковое значение` bar`</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo=&quot;bar&quot;</span></span></span>

<span class="token comment">; Присвоить переменной `foo` одно числовое значение</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo=1</span></span></span>

<span class="token comment">; Присвоить переменной `foo` логическое значение` true`</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo=true</span></span></span>

<span class="token comment">; Если `foo` - это число, добавить к его значению 0.5</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo=foo+0.5</span></span></span>

<span class="token comment">; Если `angle` - это число, присвоить его косинус переменной `result`.</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">result=Cos(angle)</span></span></span>

<span class="token comment">; Получить случайное целое число от -100 до 100, затем возвести в степень 4 и присвоить переменной `result`</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;result = Pow(Random(-100, 100), 4)&quot;</span></span></span>

<span class="token comment">; Если `foo` - это число, добавить к его значению 1</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo++</span></span></span>

<span class="token comment">; Если `foo` - число, вычесть 1 из его значения</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo--</span></span></span>

<span class="token comment">; Присвоить переменной `foo` значение переменной` bar`, то есть `Hello World!`. Обратите внимание, что переменная `bar` действительно должна существовать, в противном случае вместо этого будет присвоено значение обычного текста `bar`.</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">bar=&quot;Hello</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">World!&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">foo=bar</span></span></span>

<span class="token comment">; Определение нескольких выражений множества в одной строке (результат будет таким же, как указано выше)</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">bar=&quot;Hello</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">World!&quot;;foo=bar</span></span></span>

<span class="token comment">; Можно вводить переменные в параметры команды скрипта naninovel</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">scale=0</span></span></span>
<span class="token label regex"># EnlargeLoop</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Misaki.Default</span><span class="token command-param-id property"> scale:</span></span><span class="token expression selector">{scale}</span></span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">scale=scale+0.1</span></span></span>
<span class="token command function"><span class="token command-name">@goto</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">.EnlargeLoop</span><span class="token command-param-id property"> if:</span><span class="token command-param-value operator">scale&lt;1</span></span></span>

<span class="token comment">; ..и общие текстовые строки</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">name=&quot;Dr.</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Stein&quot;;drink=&quot;Dr.</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Pepper&quot;</span></span></span>
<span class="token generic-text punctuation"><span class="token expression selector">{name}</span>: My favourite drink is <span class="token expression selector">{drink}</span>!</span>

<span class="token comment">; При использовании двойных кавычек внутри самого выражения не забывайте экранировать их дважды.</span>
<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">remark=&quot;Saying</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">\\&quot;Stop</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">the</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">car\\&quot;</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">was</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">a</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">mistake.&quot;</span></span></span>
</code></pre></div><h2 id="sfx"><a href="#sfx" class="header-anchor">#</a> sfx</h2> <h4 id="краткое-описание-41"><a href="#краткое-описание-41" class="header-anchor">#</a> Краткое описание</h4> <p>Воспроизводит или изменяет воспроизводимую в данный момент <a href="/ru/guide/audio.html#звуковые-эффекты">SFX (звуковой эффект)</a> дорожку с указанным именем.</p> <h4 id="примечание-15"><a href="#примечание-15" class="header-anchor">#</a> Примечание</h4> <p>По умолчанию звуковые эффекты не зацикливаются. Если имя дорожки sfx (SfxPath) не указано, это повлияет на все воспроизводимые в данный момент дорожки. При вызове для дорожки, которая уже воспроизводится, воспроизведение не будет затронуто (дорожка не начнется с начала), но будут применены указанные параметры (громкость и зацикленность дорожки).</p> <h4 id="параметры-35"><a href="#параметры-35" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">SfxPath</span></td> <td>String</td> <td>Путь к объекту звукового эффекта для воспроизведения.</td></tr> <tr><td>volume</td> <td>Decimal</td> <td>Громкость SFX.</td></tr> <tr><td>loop</td> <td>Boolean</td> <td>Следует ли воспроизводить SFX в цикле.</td></tr> <tr><td>fade</td> <td>Decimal</td> <td>Длительность нарастания громкости при запуске воспроизведения в секундах (по умолчанию 0.0); не действует при изменении воспроизводимой дорожки.</td></tr> <tr><td>group</td> <td>String</td> <td>Аудиомикшер <a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixer.FindMatchingGroups" target="_blank" rel="noopener noreferrer">путь к группе<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, который следует использовать при воспроизведении звука.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) модификации. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-34"><a href="#примеры-34" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Один раз воспроизвести SFX с названием `Explosion`</span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Explosion</span></span></span>

<span class="token comment">; Воспроизвести SFX с названием `Rain` в цикле с плавным переходом в течение 30 секунд</span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rain</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">true</span><span class="token command-param-id property"> fade:</span><span class="token command-param-value operator">30</span></span></span>

<span class="token comment">; Изменить громкость всех воспроизводимых SFX на 75% за 2.5 секунды и отключить зацикливание для всех из них</span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-id property"> volume:</span><span class="token command-param-value operator">0.75</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">false</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">2.5</span></span></span>
</code></pre></div><h2 id="show"><a href="#show" class="header-anchor">#</a> show</h2> <h4 id="краткое-описание-42"><a href="#краткое-описание-42" class="header-anchor">#</a> Краткое описание</h4> <p>Показывает (делает видимыми) акторов (персонаж, фон, текстовый принтер, обработчик выбора и т.д.) с указанными идентификаторами. В случае, если найдены несколько акторов с одним и тем же идентификатором (например, персонаж и принтер), это повлияет только на первого найденного.</p> <h4 id="параметры-36"><a href="#параметры-36" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">ActorIds</span></td> <td>List&lt;String&gt;</td> <td>ID акторов, которых нужно показать.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации затухания. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-35"><a href="#примеры-35" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Если актор с ID `SomeActor` скрыт, проявить его (постепенно) в течение 3 секунд.</span>
<span class="token command function"><span class="token command-name">@show</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">SomeActor</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3</span></span></span>

<span class="token comment">; Показать акторов `Kohaku` и `Yuko`.</span>
<span class="token command function"><span class="token command-name">@show</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku,Yuko</span></span></span>
</code></pre></div><h2 id="showprinter"><a href="#showprinter" class="header-anchor">#</a> showPrinter</h2> <h4 id="краткое-описание-43"><a href="#краткое-описание-43" class="header-anchor">#</a> Краткое описание</h4> <p>Показывает текстовый принтер.</p> <h4 id="параметры-37"><a href="#параметры-37" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">PrinterId</span></td> <td>String</td> <td>ID спользуемого принтера. Если параметр не указан, будет использоваться значение по умолчанию.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации появления. Значение по умолчанию для каждого принтера устанавливается в конфигурации актора.</td></tr></tbody></table></div> <h4 id="примеры-36"><a href="#примеры-36" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Показать принтер по умолчанию.</span>
<span class="token command function"><span class="token command-name">@showPrinter</span></span>
<span class="token comment">; Показать принтер с ID `Wide`.</span>
<span class="token command function"><span class="token command-name">@showPrinter</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Wide</span></span></span>
</code></pre></div><h2 id="showui"><a href="#showui" class="header-anchor">#</a> showUI</h2> <h4 id="краткое-описание-44"><a href="#краткое-описание-44" class="header-anchor">#</a> Краткое описание</h4> <p>Делает видимыми <a href="/ru/guide/user-interface.html">элементы UI</a> с указанными префабами. Если имена не указаны, откроется весь пользовательский интерфейс (в случае, если он был скрыт с помощью <a href="/ru/api/#hideui" target="_blank"><code>@hideUI</code></a>).</p> <h4 id="параметры-38"><a href="#параметры-38" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">UINames</span></td> <td>List&lt;String&gt;</td> <td>Имя префаба UI, который нужно сделать видимым.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) анимации шоу. Если не указано, будет использоваться продолжительность, зависящая от UI.</td></tr></tbody></table></div> <h4 id="примеры-37"><a href="#примеры-37" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Если вы добавили настраиваемый UI с именем префаба `Calendar`, то показать его на сцене.</span>
<span class="token command function"><span class="token command-name">@showUI</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Calendar</span></span></span>

<span class="token comment">; Если вы скрыли весь UI с помощью @hideUI, то показать его</span>
<span class="token command function"><span class="token command-name">@showUI</span></span>

<span class="token comment">; Одновременно открыть встроенный UI `TipsUI` и UI `Calendar`.</span>
<span class="token command function"><span class="token command-name">@showUI</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">TipsUI,Calendar</span></span></span>
</code></pre></div><h2 id="skip"><a href="#skip" class="header-anchor">#</a> skip</h2> <h4 id="краткое-описание-45"><a href="#краткое-описание-45" class="header-anchor">#</a> Краткое описание</h4> <p>Позволяет включить или отключить режим «пропуска» скрипт-плеера.</p> <h4 id="параметры-39"><a href="#параметры-39" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">Enable</span></td> <td>Boolean</td> <td>Следует ли включить (по умолчанию) или отключить режим пропуска.</td></tr></tbody></table></div> <h4 id="примеры-38"><a href="#примеры-38" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Включить режим пропуска</span>
<span class="token command function"><span class="token command-name">@skip</span></span>
<span class="token comment">; ВЫключить режим пропуска</span>
<span class="token command function"><span class="token command-name">@skip</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">false</span></span></span>
</code></pre></div><h2 id="skipinput"><a href="#skipinput" class="header-anchor">#</a> skipInput</h2> <h4 id="краткое-описание-46"><a href="#краткое-описание-46" class="header-anchor">#</a> Краткое описание</h4> <p>Может использоваться в общих текстовых строках для предотвращения активации режима <code>wait for input</code> при печати текста.</p> <h4 id="примеры-39"><a href="#примеры-39" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Проигрыватель скриптов не будет ждать ввода `continue` перед выполнением команды `@sfx`.</span>
<span class="token generic-text punctuation">And the rain starts.<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">skipInput</span><span class="token start-stop-char">]</span></span></span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rain</span></span></span>
</code></pre></div><h2 id="slide"><a href="#slide" class="header-anchor">#</a> slide</h2> <h4 id="краткое-описание-47"><a href="#краткое-описание-47" class="header-anchor">#</a> Краткое описание</h4> <p>Сдвигает (перемещается по оси X) актора (персонаж, фон, текстовый принтер или обработчик выбора) с предоставленным идентификатором и, при необходимости, изменяет внешний вид актора.</p> <h4 id="примечание-16"><a href="#примечание-16" class="header-anchor">#</a> Примечание</h4> <p>Имейте в виду, что эта команда ищет актора с предоставленным идентификатором среди всех менеджеров акторов, и в случае, если существует несколько акторов с одним и тем же ID (например, персонаж и текстовый принтер), это повлияет только на первого найденного.</p> <h4 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">IdAndAppearance</span></td> <td>Named&lt;String&gt;</td> <td>ID актора для слайда и (необязательно) внешний вид, который нужно установить.</td></tr> <tr><td>from</td> <td>Decimal</td> <td>Позиционируйте по оси X (в диапазоне от 0 до 100, в процентах от левой границы экрана), от которой следует перемещать актора. Если не указан, будет использоваться текущая позиция актора, если она видна, и случайная позиция за кадром в противном случае.</td></tr> <tr><td><span title="Required parameter: parameter should always be specified" class="command-param-required">to</span></td> <td>Decimal</td> <td>Позиционируйте по оси X (в диапазоне от 0 до 100 в процентах от левого края экрана), куда нужно переместить актора.</td></tr> <tr><td>visible</td> <td>Boolean</td> <td>Изменить статус видимости актора (показать или скрыть). Если не установлен и целевой актор скрыт, он все равно будет автоматически отображаться.</td></tr> <tr><td>easing</td> <td>String</td> <td>Имя функции замедления, используемой для изменений. <br><br> Available options: Linear, SmoothStep, Spring, EaseInQuad, EaseOutQuad, EaseInOutQuad, EaseInCubic, EaseOutCubic, EaseInOutCubic, EaseInQuart, EaseOutQuart, EaseInOutQuart, EaseInQuint, EaseOutQuint, EaseInOutQuint, EaseInSine, EaseOutSine, EaseInOutSine, EaseInExpo, EaseOutExpo, EaseInOutExpo, EaseInCirc, EaseOutCirc, EaseInOutCirc, EaseInBounce, EaseOutBounce, EaseInOutBounce, EaseInBack, EaseOutBack, EaseInOutBack, EaseInElastic, EaseOutElastic, EaseInOutElastic. <br><br> Если не указано, будет использоваться функция ослабления по умолчанию, установленная в настройках конфигурации менеджера актора.</td></tr> <tr><td>time</td> <td>Decimal</td> <td>Продолжительность (в секундах) слайд-анимации. Значение по умолчанию: 0.35 секунды.</td></tr></tbody></table></div> <h4 id="примеры-40"><a href="#примеры-40" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Учитывая, что актор `Jenna` в настоящее время не виден, показать его с внешностью `Angry` и переместить в центр экрана.</span>
<span class="token command function"><span class="token command-name">@slide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Jenna.Angry</span><span class="token command-param-id property"> to:</span><span class="token command-param-value operator">50</span></span></span>

<span class="token comment">; Если актор `Sheba` в настоящее время виден, скрыть его и сдвинуть за левую границу экрана.</span>
<span class="token command function"><span class="token command-name">@slide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sheba</span><span class="token command-param-id property"> to:</span><span class="token command-param-value operator">-10</span><span class="token command-param-id property"> visible:</span><span class="token command-param-value operator">false</span></span></span>

<span class="token comment">; Переместить актор `Mia` из левой части экрана вправо в течение 5 секунд, используя замедление анимации `EaseOutBounce`.</span>
<span class="token command function"><span class="token command-name">@slide</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sheba</span><span class="token command-param-id property"> from:</span><span class="token command-param-value operator">15</span><span class="token command-param-id property"> to:</span><span class="token command-param-value operator">85</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">5</span><span class="token command-param-id property"> easing:</span><span class="token command-param-value operator">EaseOutBounce</span></span></span>
</code></pre></div><h2 id="spawn"><a href="#spawn" class="header-anchor">#</a> spawn</h2> <h4 id="краткое-описание-48"><a href="#краткое-описание-48" class="header-anchor">#</a> Краткое описание</h4> <p>Создает префаб или <a href="/ru/guide/special-effects.html">специальный эффект</a>; когда выполняется над уже созданным объектом, вместо этого обновляет параметры порождения.</p> <h4 id="примечание-17"><a href="#примечание-17" class="header-anchor">#</a> Примечание</h4> <p>Если в префабе есть компонент <code>UnityEngine.MonoBehaviour</code>, прикрепленный к корневому объекту, и компонент реализует интерфейс <code>Naninovel.Commands.Spawn.IParameterized</code>, то после порождения передаст указанные значения <code>params</code>; если компонент реализует интерфейс <code>Naninovel.Commands.Spawn.IAwaitable</code>, выполнение команды будет ожидать выполнения задачи асинхронного завершения, возвращаемой реализацией.</p> <h4 id="параметры-40"><a href="#параметры-40" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Path</span></td> <td>String</td> <td>Имя (путь) префаба для создания ресурса.</td></tr> <tr><td>params</td> <td>List&lt;String&gt;</td> <td>Параметры, устанавливаемые при порождении префаба. Требуется, чтобы в префабе к корневому объекту был прикреплен компонент <code>Naninovel.Commands.Spawn.IParameterized</code>.</td></tr></tbody></table></div> <h4 id="примеры-41"><a href="#примеры-41" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Если префаб `Rainbow` назначен в ресурсах спауна, создать его экземпляр.</span>
<span class="token command function"><span class="token command-name">@spawn</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rainbow</span></span></span>
</code></pre></div><h2 id="starttrans"><a href="#starttrans" class="header-anchor">#</a> startTrans</h2> <h4 id="краткое-описание-49"><a href="#краткое-описание-49" class="header-anchor">#</a> Краткое описание</h4> <p>Начинает переход сцены, маскируя реальное содержимое сцены всем, что видно в данный момент (кроме пользовательского интерфейса). Когда новая сцена будет готова, закончите командой <a href="/ru/api/#finishtrans" target="_blank"><code>@finishTrans</code></a>.</p> <h4 id="примечание-18"><a href="#примечание-18" class="header-anchor">#</a> Примечание</h4> <p>Во время перехода UI будет скрыт, а ввод данных пользователем заблокирован. Вы можете изменить это, переопределив <code>ISceneTransitionUI</code>, который обрабатывает процесс перехода. <br><br> Список доступных опций эффектов перехода см. в руководстве <a href="/ru/guide/transition-effects.html">transition effects</a>.</p> <h4 id="примеры-42"><a href="#примеры-42" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Переход Felix в SunnyDay с Jenna в RainyDay</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Felix</span></span></span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">SunnyDay</span></span></span>
<span class="token command function"><span class="token command-name">@fx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">SunShafts</span></span></span>
<span class="token command function"><span class="token command-name">@startTrans</span></span>
<span class="token comment">; Следующие изменения не будут видны, пока мы не завершится переход</span>
<span class="token command function"><span class="token command-name">@hideChars</span><span class="token command-params"><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">0</span></span></span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Jenna</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">0</span></span></span>
<span class="token command function"><span class="token command-name">@back</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">RainyDay</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">0</span></span></span>
<span class="token command function"><span class="token command-name">@stopFx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">SunShafts</span><span class="token command-param-id property"> params:</span><span class="token command-param-value operator">0</span></span></span>
<span class="token command function"><span class="token command-name">@fx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rain</span><span class="token command-param-id property"> params:</span><span class="token command-param-value operator">,0</span></span></span>
<span class="token comment">; Переход от первоначально захваченной сцены к новой с эффектом `DropFade` в течение 3 секунд.</span>
<span class="token command function"><span class="token command-name">@finishTrans</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">DropFade</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3</span></span></span>
</code></pre></div><h2 id="stop"><a href="#stop" class="header-anchor">#</a> stop</h2> <h4 id="краткое-описание-50"><a href="#краткое-описание-50" class="header-anchor">#</a> Краткое описание</h4> <p>Останавливает выполнение скрипта naninovel.</p> <h4 id="примеры-43"><a href="#примеры-43" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token generic-text punctuation">Show the choices and halt script execution until the player picks one.</span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Choice 1&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@choice</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token quoted-string operator">&quot;Choice 2&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>
<span class="token generic-text punctuation">We'll get here after player will make a choice.</span>
</code></pre></div><h2 id="stopbgm"><a href="#stopbgm" class="header-anchor">#</a> stopBgm</h2> <h4 id="кратое-описание"><a href="#кратое-описание" class="header-anchor">#</a> Кратое описание</h4> <p>Останавливает воспроизведение трека BGM (фоновой музыки) с указанным именем.</p> <h4 id="примечание-19"><a href="#примечание-19" class="header-anchor">#</a> Примечание</h4> <p>Если имя музыкальной дорожки (BgmPath) не указано, остановит все текущие воспроизводимые дорожки.</p> <h4 id="параметры-41"><a href="#параметры-41" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">BgmPath</span></td> <td>String</td> <td>Путь к музыкальной дорожке, котрую нужно остановить</td></tr> <tr><td>fade</td> <td>Decimal</td> <td>Продолжительность затухания громкости перед остановкой воспроизведения в секундах (по умолчанию 0.35).</td></tr></tbody></table></div> <h4 id="примеры-44"><a href="#примеры-44" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Заглушить музыкальный трек `Promenade` на 10 секунд и остановить воспроизведение</span>
<span class="token command function"><span class="token command-name">@stopBgm</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Promenade</span><span class="token command-param-id property"> fade:</span><span class="token command-param-value operator">10</span></span></span>

<span class="token comment">; Оставнавить все проигрываемые в данный момент музыкальные треки</span>
<span class="token command function"><span class="token command-name">@stopBgm</span></span>
</code></pre></div><h2 id="stopsfx"><a href="#stopsfx" class="header-anchor">#</a> stopSfx</h2> <h4 id="краткое-описание-51"><a href="#краткое-описание-51" class="header-anchor">#</a> Краткое описание</h4> <p>Останавливает воспроизведение дорожки SFX (звукового эффекта) с указанным именем.</p> <h4 id="примечание-20"><a href="#примечание-20" class="header-anchor">#</a> Примечание</h4> <p>Если имя дорожки звукового эффекта (SfxPath) не указано, все текущие воспроизводимые дорожки будут остановлены.</p> <h4 id="параметры-42"><a href="#параметры-42" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра" class="command-param-nameless">SfxPath</span></td> <td>String</td> <td>Путь к звуковому эффекту, который нужно остановить.</td></tr> <tr><td>fade</td> <td>Decimal</td> <td>Продолжительность затухания громкости перед остановкой воспроизведения в секундах (по умолчанию 0.35).</td></tr></tbody></table></div> <h4 id="примеры-45"><a href="#примеры-45" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Прекратить проигрывать звуковой эффект с названием `Rain`, с эффектом затухания в течении 15 секунд</span>
<span class="token command function"><span class="token command-name">@stopSfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Rain</span><span class="token command-param-id property"> fade:</span><span class="token command-param-value operator">15</span></span></span>

<span class="token comment">; Остановить все воспроизводимые в данный момент дорожки звуковых эффектов</span>
<span class="token command function"><span class="token command-name">@stopSfx</span></span>
</code></pre></div><h2 id="stopvoice"><a href="#stopvoice" class="header-anchor">#</a> stopVoice</h2> <h4 id="краткое-описание-52"><a href="#краткое-описание-52" class="header-anchor">#</a> Краткое описание</h4> <p>Останавливает воспроизведение проигрываемого в данный момент голосового клипа.</p> <h2 id="style"><a href="#style" class="header-anchor">#</a> style</h2> <h4 id="краткое-описание-53"><a href="#краткое-описание-53" class="header-anchor">#</a> Краткое описание</h4> <p>Постоянно применяемые <a href="/ru/guide/text-printers.html#стили-текста">стили текста</a> к содержимому текстового принтера.</p> <h4 id="примечание-21"><a href="#примечание-21" class="header-anchor">#</a> Примечание</h4> <p>Вы также можете использовать теги форматированного текста внутри текстовых сообщений для выборочного применения стилей.</p> <h4 id="параметры-43"><a href="#параметры-43" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">TextStyles</span></td> <td>List&lt;String&gt;</td> <td>Применяемые теги форматирования текста. Угловые скобки следует опустить, например, используйте <code>b</code> для &lt;b&gt; и <code>size=100</code> для &lt;size=100&gt;. Используйте ключевое слово <code>default</code></td></tr> <tr><td>printer</td> <td>String</td> <td>ID используемого принтера. Если не указано иное, будет использоваться значение по умолчанию.</td></tr></tbody></table></div> <h4 id="примеры-46"><a href="#примеры-46" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Напечатать первые два предложения жирным красным шрифтом размером 45 пикселей, затем сбросьте стиль и напечатайте последнее предложение, используя стиль по умолчанию.</span>
<span class="token command function"><span class="token command-name">@style</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">color=#ff0000,b,size=45</span></span></span>
<span class="token generic-text punctuation">Lorem ipsum dolor sit amet.</span>
<span class="token generic-text punctuation">Cras ut nisi eget ex viverra egestas in nec magna.</span>
<span class="token command function"><span class="token command-name">@style</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">default</span></span></span>
<span class="token generic-text punctuation">Consectetur adipiscing elit.</span>

<span class="token comment">; Начальную часть предложения вывести как обычно, а последнюю - жирным шрифтом.</span>
<span class="token generic-text punctuation">Lorem ipsum sit amet. &lt;b&gt;Consectetur adipiscing elit.&lt;/b&gt;</span>
</code></pre></div><h2 id="title"><a href="#title" class="header-anchor">#</a> title</h2> <h4 id="краткое-описание-54"><a href="#краткое-описание-54" class="header-anchor">#</a> Краткое описание</h4> <p>Сбросить движок и отобразить UI<code>ITitleUI</code> (главное меню).</p> <h4 id="примеры-47"><a href="#примеры-47" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@title</span></span>
</code></pre></div><h2 id="unlock"><a href="#unlock" class="header-anchor">#</a> unlock</h2> <h4 id="краткое-описание-55"><a href="#краткое-описание-55" class="header-anchor">#</a> Краткое описание</h4> <p>Устанавливает <a href="/ru/guide/unlockable-items.html">разблокируемый элемент</a> с предоставленным идентификатором в состояние <code>unlocked</code>.</p> <h4 id="примечание-22"><a href="#примечание-22" class="header-anchor">#</a> Примечание</h4> <p>Разблокированное состояние элементов сохраняется в <a href="/ru/guide/state-management.html#глобальное-состояние">global scope</a>.<br> Если элемент с предоставленным идентификатором не зарегистрирован в карте глобального состояния, соответствующий запись будет добавлена автоматически.</p> <h4 id="параметры-44"><a href="#параметры-44" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">Id</span></td> <td>String</td> <td>ID разблокируемого предмета. Используйте <code>*</code>, чтобы разблокировать все зарегистрированные разблокируемые предметы.</td></tr></tbody></table></div> <h4 id="примеры-48"><a href="#примеры-48" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@unlock</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CG/FightScene1</span></span></span>
</code></pre></div><h2 id="voice"><a href="#voice" class="header-anchor">#</a> voice</h2> <h4 id="краткое-описание-56"><a href="#краткое-описание-56" class="header-anchor">#</a> Краткое описание</h4> <p>Воспроизводит голосовой клип по указанному пути.</p> <h4 id="параметры-45"><a href="#параметры-45" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">VoicePath</span></td> <td>String</td> <td>Путь к голосовой записи для воспроизведения.</td></tr> <tr><td>volume</td> <td>Decimal</td> <td>Громкость воспроизведения.</td></tr> <tr><td>group</td> <td>String</td> <td>Аудиомикшер <a href="https://docs.unity3d.com/ScriptReference/Audio.AudioMixer.FindMatchingGroups" target="_blank" rel="noopener noreferrer">путь к группе<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, который следует использовать при воспроизведении звука.</td></tr></tbody></table></div> <h2 id="wait"><a href="#wait" class="header-anchor">#</a> wait</h2> <h4 id="краткое-описание-57"><a href="#краткое-описание-57" class="header-anchor">#</a> Краткое описание</h4> <p>Удерживает выполнение скрипта до указанного условия ожидания.</p> <h4 id="параметры-46"><a href="#параметры-46" class="header-anchor">#</a> Параметры</h4> <div class="config-table"><table><thead><tr><th>ID</th> <th>Тип</th> <th>Описание</th></tr></thead> <tbody><tr><td><span title="Безымянный параметр: значение должно быть указано после идентификатора команды без указания идентификатора параметра Обязательный параметр: параметр следует указывать всегда" class="command-param-nameless command-param-required">WaitMode</span></td> <td>String</td> <td>Условия ожидания:<br> - <code>i</code> пользователь нажимает кнопку продолжения или пропуска ввода;<br> - <code>0.0</code> таймер (секунды);<br> - <code>i0.0</code> таймер, который можно пропустить клавишами продолжения или пропуска ввода.</td></tr></tbody></table></div> <h4 id="примеры-49"><a href="#примеры-49" class="header-anchor">#</a> Примеры</h4> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Звуковой эффект &quot;ThunderSound&quot; будет воспроизводиться через 0.5 секунд после завершения фонового эффекта дрожания.</span>
<span class="token command function"><span class="token command-name">@fx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ShakeBackground</span></span></span>
<span class="token command function"><span class="token command-name">@wait</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">0.5</span></span></span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">ThunderSound</span></span></span>

<span class="token comment">; Напечатать первые два слова, затем дождитесь ввода пользователя, прежде чем печатать оставшуюся фразу.</span>
<span class="token generic-text punctuation">Lorem ipsum<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">wait</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">i</span><span class="token start-stop-char">]</span></span> dolor sit amet.</span>
<span class="token comment">; Вы также можете использовать следующий ярлык (@i command) для этого режима ожидания.</span>

<span class="token comment">; Запустить SFX, распечатать сообщение и подождите 5 секунд с возможностью пропуска, затем остановить SFX.</span>
<span class="token command function"><span class="token command-name">@sfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Noise</span><span class="token command-param-id property"> loop:</span><span class="token command-param-value operator">true</span></span></span>
<span class="token generic-text punctuation">Jeez, what a disgusting noise. Shut it down!<span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">wait</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">i5</span><span class="token start-stop-char">]</span></span><span class="token inline-command function"><span class="token start-stop-char">[</span><span class="token command-param-name name">skipInput</span><span class="token start-stop-char">]</span></span></span>
<span class="token command function"><span class="token command-name">@stopSfx</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Noise</span></span></span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Обновлено:</span> <span class="time">October 28, 2020</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7081dc02.js" defer></script><script src="/assets/js/3.edd03593.js" defer></script><script src="/assets/js/98.7bee7fab.js" defer></script>
  </body>
</html>
