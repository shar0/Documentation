(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{428:function(a,e,t){"use strict";t.r(e);var n=t(42),o=Object(n.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"choices"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#choices"}},[a._v("#")]),a._v(" Choices")]),a._v(" "),t("p",[a._v("The feature allows to present a number of choices to the user and re-route script execution depending on the choice the user makes.")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/023502e43b35caa706c88fd9ab32003d.png",alt:"Choices"}})]),a._v(" "),t("p",[a._v("Use "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" commands followed by the choice summary and (optional) "),t("code",[a._v("goto")]),a._v(" path to add choices from the naninovel scripts:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Print the text, then immediately show choices and stop script execution.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Continue executing this script or load another?"),t("span",{pre:!0,attrs:{class:"token inline-command function"}},[t("span",{pre:!0,attrs:{class:"token start-stop-char"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token command-param-name name"}},[a._v("skipInput")]),t("span",{pre:!0,attrs:{class:"token start-stop-char"}},[a._v("]")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Continue from the next line"')])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Continue from the specified label"')]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".Labelname")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Load another from start"')]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("AnotherScript")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Load another from label"')]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("AnotherScript.LabelName")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stop")])]),a._v("\n")])])]),t("p",[a._v("Value of the "),t("code",[a._v("goto")]),a._v(" parameter is the path to re-route into when users selects the corresponding choice. It's specified in the following format: "),t("em",[a._v("ScriptName")]),a._v("."),t("em",[a._v("LabelName")]),a._v(". When label name is omitted, provided script will be played from the start; when script name is omitted, a label in the currently played script will be referenced:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Loads and starts playing a naninovel script with the name `Script001` from the start")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("goto:Script001")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Save as above, but start playing from the label `AfterStorm`")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("goto:Script001.AfterStorm")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Jumps the playback to the label `Epilogue` in the currently played script")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("goto:.Epilogue")]),a._v("\n")])])]),t("p",[a._v("When "),t("code",[a._v("goto")]),a._v(" parameter is not specified, current script will continue executing from the next line.")]),a._v(" "),t("p",[a._v("Choice handler actors are used to process the "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" commands. You can add, edit and remove choice handlers using the choice manager accessible via "),t("code",[a._v("Naninovel -> Resources -> Choice Handlers")]),a._v(" context menu.")]),a._v(" "),t("p",[a._v("Choice handlers behavior can be configured using "),t("code",[a._v("Naninovel -> Configuration -> Choice Handlers")]),a._v(" context menu; for available options see "),t("RouterLink",{attrs:{to:"/guide/configuration.html#choice-handlers"}},[a._v("configuration guide")]),a._v(".")],1),a._v(" "),t("h2",{attrs:{id:"choice-button"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#choice-button"}},[a._v("#")]),a._v(" Choice Button")]),a._v(" "),t("p",[a._v("The "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" command accepts an optional "),t("code",[a._v("button")]),a._v(' parameter specifying a path (relative to a "Resources" folder) to custom prefab representing the choice option object.')]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" handler:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("ButtonArea")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" button:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("MapButtons/Home")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" pos:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("-300,-300")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".HomeScene")])])]),a._v("\n")])])]),t("p",[a._v("â€” here we use a choice handler supporting positioning to represent a point of interest on an improvised map, where the "),t("code",[a._v("button")]),a._v(" parameter is pointing to a prefab consisting of a button wrapped over an image. The prefab is stored at "),t("code",[a._v("Assets/Resources/MapButtons/Home.prefab")]),a._v(".")]),a._v(" "),t("p",[a._v("To create a choice button prefab from template, use "),t("code",[a._v("Create -> Naninovel -> Choice Button")]),a._v(" asset context menu.")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/c2bd4abaa0275f7cdd37c56fd2ff0dec.png",alt:""}})]),a._v(" "),t("p",[a._v("Remember to "),t("strong",[a._v('store the custom choice buttons is a "Resources" folder')]),a._v(", otherwise they won't be able to load when requested.")]),a._v(" "),t("p",[a._v("When "),t("code",[a._v("button")]),a._v(" parameter of the "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" command is not specified a default button prefab is used.")]),a._v(" "),t("p",[a._v("To use a different (eg, TMPro) text component for the choice text, use "),t("code",[a._v("On Summary Text Changed")]),a._v(" "),t("a",{attrs:{href:"https://docs.unity3d.com/Manual/UnityEvents",target:"_blank",rel:"noopener noreferrer"}},[a._v("Unity event"),t("OutboundLink")],1),a._v(" of the choice button component.")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/8810c51b336bfd653efcde591fe1c41f.png",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"buttonlist-choice-handler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#buttonlist-choice-handler"}},[a._v("#")]),a._v(" ButtonList Choice Handler")]),a._v(" "),t("p",[a._v("Button list handler is used by default. It stores the choice buttons inside a horizontal layout panel and ignores the "),t("code",[a._v("pos")]),a._v(" parameter of the "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" command.")]),a._v(" "),t("h2",{attrs:{id:"buttonarea-choice-handler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#buttonarea-choice-handler"}},[a._v("#")]),a._v(" ButtonArea Choice Handler")]),a._v(" "),t("p",[a._v("In contrast to button list, button area doesn't enforce any specific layout and allows manually setting positions of the added choice buttons via "),t("code",[a._v("pos")]),a._v(" parameter. For example, here is one way to make an interactive map with choice commands and button area handler:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token label regex"}},[a._v("# Map")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@back")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Map")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@hidePrinter")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" handler:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("ButtonArea")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" button:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("MapButtons/Home")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" pos:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("-300,-300")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".HomeScene")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" handler:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("ButtonArea")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" button:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("MapButtons/Shop")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" pos:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("300,200")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" goto:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".ShopScene")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stop")])]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token label regex"}},[a._v("# HomeScene")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@back")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Home")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Home, sweet home!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@goto")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".Map")])])]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token label regex"}},[a._v("# ShopScene")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@back")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Shop")])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Don't forget about cucumbers!")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@goto")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(".Map")])])]),a._v("\n")])])]),t("p"),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/cNRNgk5HhKQ",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),t("p"),a._v(" "),t("h2",{attrs:{id:"adding-custom-choice-handlers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#adding-custom-choice-handlers"}},[a._v("#")]),a._v(" Adding Custom Choice Handlers")]),a._v(" "),t("p",[a._v("You can add custom choice handlers based on the built-in templates or create new handlers from scratch. For example, let's customize the built-in "),t("code",[a._v("ButtonArea")]),a._v(" template.")]),a._v(" "),t("p",[a._v("Use "),t("code",[a._v("Create -> Naninovel -> Choice Handler -> ButtonArea")]),a._v(" asset context menu to create a button area handler prefab somewhere outside of the Naninovel package, e.g. at the "),t("code",[a._v("Assets/ChoiceHandlers")]),a._v(" folder.")]),a._v(" "),t("p",[a._v("Edit the handler: change font, textures, add animations, etc. For more information on the available UI building tools, check the "),t("a",{attrs:{href:"https://docs.unity3d.com/Packages/com.unity.ugui@latest",target:"_blank",rel:"noopener noreferrer"}},[a._v("Unity documentation"),t("OutboundLink")],1),a._v(".")]),a._v(" "),t("p",[a._v("Expose the handler to engine resources using choice handler manager GUI, which can be accessed with "),t("code",[a._v("Naninovel -> Resources -> Choice Handlers")]),a._v(" editor context menu. Add a new record using "),t("code",[a._v("+")]),a._v(" (plus) button, enter actor ID (can differ from the prefab name) and double click the record to open actor settings. Drag-drop handler prefab to the "),t("code",[a._v("Resource")]),a._v(" field.")]),a._v(" "),t("p",[t("video",{staticClass:"video",attrs:{loop:"",autoplay:"",muted:""},domProps:{muted:!0}},[t("source",{attrs:{src:"https://i.gyazo.com/cb3a0ff7f22b22cec6546acb388719fc.mp4",type:"video/mp4"}})])]),a._v(" "),t("p",[a._v("You can now use the new choice handler by specifying its ID in "),t("code",[a._v("handler")]),a._v(" parameter of the "),t("a",{attrs:{href:"/api/#choice",target:"_blank"}},[t("code",[a._v("@choice")])]),a._v(" commands.")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@choice")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Choice summary text."')]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" handler:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("MyNewHandler")])])]),a._v("\n")])])]),t("p",[a._v("It's also possible to create a choice handler from scratch by manually implementing "),t("code",[a._v("IChoiceHandlerActor")]),a._v(" interface. See the guide on "),t("RouterLink",{attrs:{to:"/guide/custom-actor-implementations.html"}},[a._v("custom actor implementations")]),a._v(" for more information.")],1)])}),[],!1,null,null,null);e.default=o.exports}}]);