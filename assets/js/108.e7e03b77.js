(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{381:function(a,t,e){"use strict";e.r(t);var r=e(42),s=Object(r.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"персонажи"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#персонажи"}},[a._v("#")]),a._v(" Персонажи")]),a._v(" "),e("p",[a._v("Персонажи – это акторы, используемые для показа элементов сцены, размещённых поверх "),e("RouterLink",{attrs:{to:"/ru/guide/backgrounds.html"}},[a._v("фонов")]),a._v(".")],1),a._v(" "),e("p",[a._v("Актор персонажа определяется именем, внешностью, видимостью, трансформацией (что включает в себя положение, поворот, масштаб) и направлением взгляда. Он может изменять внешность, видимость, трансформацию и направление взгляда с течением времени.")]),a._v(" "),e("p",[a._v("Поведение персонажей может быть настроено с помощью контекстного меню "),e("code",[a._v("Naninovel -> Configuration -> Characters")]),a._v("; доступные варианты см. в "),e("RouterLink",{attrs:{to:"/ru/guide/configuration.html#персонажи"}},[a._v("руководстве по конфигурации")]),a._v(". Доступ к менеджеру ресурсов персонажей можно получить с помощью контекстного меню "),e("code",[a._v("Naninovel -> Resources -> Characters")]),a._v(".")],1),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/c8a4f7f987621831b4a2ecb3145a4a07.png",alt:"Добавление персонажа"}})]),a._v(" "),e("p",[a._v("В случае, если у вас есть много персонажей и/или внешностей для каждого персонажа, и вам неудобно назначать их все через меню редактора, вы можете просто поместить их в папку "),e("code",[a._v("Resources/Naninovel/Characters")]),a._v(', сгруппированными в папки, соответствующие ID их акторов. Например, чтобы добавить внешнность для актора персонажа с ID "Kohaku", сохраните текстуры (спрайты) в папке '),e("code",[a._v("Resources/Naninovel/Characters/Kohaku")]),a._v(", и они автоматически будут доступны в сценариях.")]),a._v(" "),e("p",[a._v("Вы можете дополнительно организовать ресурсы внешностей с помощью подпапок, если хотите; в этом случае используйте прямой слеш ("),e("code",[a._v("/")]),a._v(") при ссылке на них в скриптах Naninovel. Например, текстура внешности, сохранённая как "),e("code",[a._v("Resources/Naninovel/Characters/Kohaku/Casual/Angry")]),a._v(", может быть объявлена в сценариях как "),e("code",[a._v("Casual/Angry")]),a._v(".")]),a._v(" "),e("p",[a._v("Также можно использовать "),e("RouterLink",{attrs:{to:"/ru/guide/resource-providers.html#адресация"}},[a._v("систему адресируемых ассетов")]),a._v(', чтобы вручную распределить ресурсы. Чтобы предоставить доступ к ассету, назначьте адрес, равный пути, который вы использовали бы для его объявления с помощью метода, описанного выше, за исключением опущенной части "Resources/". Например, для объявления внешности "Happy" для персонажа "Kohaku" назначьте ассету следующий адрес: '),e("code",[a._v("Naninovel/Characters/Kohaku/Happy")]),a._v(". Имейте в виду, что адресируемый провайдер по умолчанию не используется в редакторе; вы можете разрешить его, включив свойство "),e("code",[a._v("Enable Addressable In Editor")]),a._v(" в меню конфигурации провайдера ресурсов.")],1),a._v(" "),e("p",[a._v("В сценариях Naninovel персонажи в основном контролируются с помощью команды "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Вывод персонажа с именем `Sora` с внешностью по умолчанию.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Sora")])])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; То же, что и выше, но с применением внешности `Happy`.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Sora.Happy")])])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; То же, что и выше, но также размещая персонажа на расстоянии 45% от левой границы")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; экрана и на 10% от нижней границы; также заставляя его смотреть влево.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Sora.Happy")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" look:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("left")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" pos:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("45,10")])])]),a._v("\n")])])]),e("h2",{attrs:{id:"позы"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#позы"}},[a._v("#")]),a._v(" Позы")]),a._v(" "),e("p",[a._v("Каждый персонаж имеет свойство "),e("code",[a._v("Poses")]),a._v(', позволяющее задавать различные именованные состояния ("позы").')]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/5b022d32eddb3e721ed036c96f662f5d.png",alt:""}})]),a._v(" "),e("p",[a._v("Название позы может быть использовано в качестве внешности в команде "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(" для применения всех параметров, указанных в позе сразу, вместо того, чтобы указывать их по отдельности с помощью команд параметров.")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Данная поза `SuperAngry` определена для персонажа `Kohaku`,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; применяет все параметры, указанные в состоянии позы.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Kohaku.SuperAngry")])])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; То же, что и выше, но с использованием перехода `DropFade` длительностью в 3 секунды.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Kohaku.SuperAngry")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" transition:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("DropFade")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" time:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("3")])])]),a._v("\n")])])]),e("p",[a._v("Обратите внимание, что когда поза используется в качестве внешности, вы все еще можете переопределить отдельные параметры, например:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Данная поза `SuperAngry` определена для персонажа `Kohaku`,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; применяет все параметры, указанные в состоянии позы,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; за исключением оттенка, который переопределён отдельной командой.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Kohaku.SuperAngry")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" tint:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("#ff45cb")])])]),a._v("\n")])])]),e("h2",{attrs:{id:"отображаемые-имена"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#отображаемые-имена"}},[a._v("#")]),a._v(" Отображаемые имена")]),a._v(" "),e("p",[a._v("В конфигурации персонажей вы можете установить "),e("code",[a._v("Display Name")]),a._v(" для определенных персонажей. При установке отображаемое имя будет выводиться в метке имени в принтере вместо ID персонажа. Это позволяет использовать составные имена персонажей, содержащие пробелы и специальные символы (что не допускается для ID).")]),a._v(" "),e("p",[a._v("Для локализации используйте "),e("a",{attrs:{href:"/ru/guide/managed-text"}},[a._v("управляемый текстовый")]),a._v(' документ "CharacterNames", который автоматически создается при запуске задачи генерировать управляемые текстовые ресурсы. Значения из документа "CharacterNames" не будут переопределять значения, заданные в метаданных персонажей, пока они находятся в исходной локали.')]),a._v(" "),e("p",[a._v("Можно привязать отображаемое имя к пользовательской переменной, чтобы динамически изменять его на протяжении всей игры с помощью сценариев Naninovel. Чтобы связать отображаемое имя, укажите имя пользовательской переменной, заключенной в фигурные скобки, в меню конфигурации персонажей.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/9743061df462bd809afc45bff20bbb6d.png",alt:""}})]),a._v(" "),e("p",[a._v("После этого вы можете изменять значение переменной в сценариях, и это будет также изменять отображаемое имя:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@set")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v('PlayerName="Mistery')]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v('Man"')])])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Player: ...")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@set")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v('PlayerName="Dr.')]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v('Stein"')])])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Player: You can call me Dr. Stein.")]),a._v("\n")])])]),e("p",[a._v("Также можно использовать функцию привязки имени, чтобы позволить игроку выбрать свое отображаемое имя с помощью команды "),e("a",{attrs:{href:"/ru/api/#input",target:"_blank"}},[e("code",[a._v("@input")])]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@input")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("PlayerName")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" summary:")]),e("span",{pre:!0,attrs:{class:"token quoted-string operator"}},[a._v('"Choose your name."')])])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stop")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Player: You can call me "),e("span",{pre:!0,attrs:{class:"token expression selector"}},[a._v("{PlayerName}")]),a._v(".")]),a._v("\n")])])]),e("h2",{attrs:{id:"цвета-сообщений"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#цвета-сообщений"}},[a._v("#")]),a._v(" Цвета сообщений")]),a._v(" "),e("p",[a._v("Если в конфигурации персонажей включена функция "),e("code",[a._v("Use Character Color")]),a._v(", текстовые сообщения принтера и метки имен будут окрашены в указанные цвета, если соответствующий ID персонажа указан в команде "),e("a",{attrs:{href:"/ru/api/#print",target:"_blank"}},[e("code",[a._v("@print")])]),a._v(" или общей текстовой строке.")]),a._v(" "),e("p",[a._v("В этом видео показано, как использовать отображаемые имена и цвета персонажей.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/u5B5s-X2Bw0",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("h2",{attrs:{id:"текстуры-аватаров"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#текстуры-аватаров"}},[a._v("#")]),a._v(" Текстуры аватаров")]),a._v(" "),e("p",[a._v("Вы можете назначать текстуры аватаров персонажам, используя параметр "),e("code",[a._v("avatar")]),a._v(" команды "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(". Аватары будут отображаться совместимыми текстовыми принтерами, когда они выводят текстовое сообщение, связанное с этим персонажем. В настоящее время функцию аватаров поддерживают только текстовые принтеры "),e("code",[a._v("Wide")]),a._v(" и "),e("code",[a._v("Chat")]),a._v(".")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/83c091c08846fa1cab8764a8d4dddeda.png",alt:""}})]),a._v(" "),e("p",[a._v("Чтобы использовать любой заданный аватар, вы должны сначала добавить его в ресурсы аватара и дать ему имя. Вы можете сделать это с помощью свойства "),e("code",[a._v("Avatar Resources")]),a._v(" в меню конфигурации персонажей.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/5a0f10d174aa75ed87da1b472567e40b.png",alt:""}})]),a._v(" "),e("div",{staticClass:"custom-block note"},[e("p",{staticClass:"custom-block-title"},[a._v("ПРИМЕЧАНИЕ")]),a._v(" "),e("p",[a._v("Имена аватаров могут быть произвольными и не обязаны содержать существующий ID персонажа или внешность. Это требуется только в том случае, если вы хотите связать аватар с персонажем, чтобы он отображался автоматически.")])]),a._v(" "),e("p",[a._v("Теперь вы можете показать определенную текстуру аватара следующим образом:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharacterId")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" avatar:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("AvatarName")])])]),a._v("\n")])])]),e("p",[a._v("Чтобы установить аватар по умолчанию для персонажа, дайте имя ресурсу текстуры аватара, который равен "),e("code",[a._v("CharacterID/Default")]),a._v("; например, чтобы установить аватар по умолчанию для персонажа с ID "),e("code",[a._v("Kohaku")]),a._v(", дайте имя ресурсу аватара "),e("code",[a._v("Kohaku/Default")]),a._v(". Заданные аватары по умолчанию будут отображаться автоматически, даже если параметр "),e("code",[a._v("avatar")]),a._v(" не указан в командах "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(".")]),a._v(" "),e("p",[a._v("Кроме того, можно связать аватары с определенными внешностями персонажа, так что когда персонаж будет менять внешность, аватар также автоматически будет меняться. Для этого назовите ресурсы аватара в следующем формате: "),e("code",[a._v("CharacterID/CharacterAppearance")]),a._v(", где "),e("code",[a._v("CharacterAppearance")]),a._v(" – это имя внешности, которой сопоставляется ресурс аватара.")]),a._v(" "),e("p",[a._v("Обратите внимание, что "),e("strong",[a._v("аватары не связаны напрямую с внешностью персонажа")]),a._v(' и не должны рассматриваться как способ показать персонажа в сцене. Внешность, указанная в диспетчере ресурсов персонажа, является фактическим представлением персонажа в сцене. Аватары – это автономная функция, которая "вводит" произвольное изображение в совместимый текстовый принтер.')]),a._v(" "),e("p",[a._v("Можно показать только аватар персонажа внутри текстового принтера, но скрыть самого персонажа, установив параметр "),e("code",[a._v("visible")]),a._v(" команды "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(" в значение "),e("code",[a._v("false")]),a._v(", например:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharacaterId")]),e("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" visible:")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("false")])])]),a._v("\n")])])]),e("p",[a._v("Если вы постоянно меняете аватары, в то время как сам персонаж должен оставаться скрытым, вы можете отключить "),e("code",[a._v("Auto Show On Modify")]),a._v(" в меню конфигурации персонажей; когда он отключен, вам не нужно будет указывать "),e("code",[a._v("visible:false")]),a._v(", чтобы изменить какие-либо параметры персонажа, пока он скрыт.")]),a._v(" "),e("h2",{attrs:{id:"подсветка-говорящего"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#подсветка-говорящего"}},[a._v("#")]),a._v(" Подсветка говорящего")]),a._v(" "),e("p",[a._v("Если этот параметр включен в конфигурации персонажей, он будет окрашивать персонажа в зависимости от того, связано ли с тем последнее напечатанное сообщение.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/gobowgagdyE",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("h2",{attrs:{id:"синхронизация-движений-губ-со-звуком"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#синхронизация-движений-губ-со-звуком"}},[a._v("#")]),a._v(" Синхронизация движений губ со звуком")]),a._v(" "),e("p",[e("RouterLink",{attrs:{to:"/ru/guide/characters.html#универсальные-персонажи"}},[a._v("Универсальные")]),a._v(" и "),e("RouterLink",{attrs:{to:"/ru/guide/characters.html#персонажи-Live2D"}},[a._v("Live2D")]),a._v('-реализации персонажей поддерживают так называемую функцию "синхронизации движений губ со звуком", позволяя управлять анимацией рта персонажа, пока от его имени печатается сообщение, для чего отправляя соответствующие события.')],1),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("p",[a._v("Когда включена функция [автоозвучивания](/ru/guide/voicing.md#автоматическое озвучивание), события синхронизации губ будут управляться озвучкой; в противном случае печатные текстовые сообщения активируют события. В последнем случае вам, вероятно, иногда захочется вручную запустить или остановить синхронизацию губ (например, чтобы предотвратить движение рта при печати знаков препинания); в таких случаях используйте команду "),e("a",{attrs:{href:"/ru/api/#lipsync",target:"_blank"}},[e("code",[a._v("@lipSync")])]),a._v(".")]),a._v(" "),e("p",[a._v("См. документацию по реализации "),e("RouterLink",{attrs:{to:"/ru/guide/characters.html#универсальные-персонажи"}},[a._v("универсальных")]),a._v(" и "),e("RouterLink",{attrs:{to:"/ru/guide/characters.html#персонажи-Live2D"}},[a._v("Live2D-")]),a._v("персонажей ниже для получения подробной информации о том, как настроить функцию синхронизации губ.")],1),a._v(" "),e("h2",{attrs:{id:"привязанный-принтер"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#привязанный-принтер"}},[a._v("#")]),a._v(" Привязанный принтер")]),a._v(" "),e("p",[a._v("Существует возможность привязать "),e("RouterLink",{attrs:{to:"/ru/guide/text-printers.html"}},[a._v("текстоый принтер")]),a._v(" с персонажем, используя параметр "),e("code",[a._v("Linked Printer")]),a._v(".")],1),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/50ca6b39cd7f708158678339244b1dc4.png",alt:""}})]),a._v(" "),e("p",[a._v("При подключении принтер будет автоматически использоваться для обработки сообщений, выводимых от имени этого персонажа.")]),a._v(" "),e("p",[a._v("Имейте в виду, что команды "),e("a",{attrs:{href:"/ru/api/#print",target:"_blank"}},[e("code",[a._v("@print")])]),a._v(" (которые также используются при печати общих текстовых строк) по умолчанию используют привязанные принтеры по умолчанию и скрывают другие видимые принтеры. Когда принтеры привязаны к персонажам, команды печати автоматически изменят текущий видимый и стандартный текстовый принтер, одновременно печатая текст, связанный с соответствующим персонажем. Такое поведение можно предотвратить, отключив свойство "),e("code",[a._v("Auto Default")]),a._v(" в меню конфигурации принтера актора; если оно отключено, вам придется вручную показывать/скрывать и переключать принтеры по умолчанию с помощью команд "),e("a",{attrs:{href:"/ru/api/#printer",target:"_blank"}},[e("code",[a._v("@printer")])]),a._v(".")]),a._v(" "),e("h2",{attrs:{id:"спрайтовые-персонажи"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#спрайтовые-персонажи"}},[a._v("#")]),a._v(" Спрайтовые персонажи")]),a._v(" "),e("p",[a._v("Спрайтовая реализация акторов персонажей является наиболее распространенной и простой; она использует набор ассетов "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/Sprites",target:"_blank",rel:"noopener noreferrer"}},[a._v("спрайтов"),e("OutboundLink")],1),a._v(" для представления внешности персонажа. Источником спрайтов могут быть изображения (текстуры) любых форматов, "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/ImportingTextures",target:"_blank",rel:"noopener noreferrer"}},[a._v("поддерживаемых Unity"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("h2",{attrs:{id:"нарезанные-спрайты-персонажей"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#нарезанные-спрайты-персонажей"}},[a._v("#")]),a._v(" Нарезанные спрайты персонажей")]),a._v(" "),e("p",[a._v("Основанная на пакете "),e("a",{attrs:{href:"https://github.com/Elringus/SpriteDicing",target:"_blank",rel:"noopener noreferrer"}},[a._v("Sprite Dicing"),e("OutboundLink")],1),a._v(" с открытым исходным кодом реализация "),e("code",[a._v("DicedSpriteCharacter")]),a._v(" позволяет значительно уменьшить размер сборки и занимаемую текстурами память за счет повторного использования текстурных областей спрайтов персонажей.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/af08d141e7a08b6a8e2ef60c07332bbf.png",alt:"Нарезка спрайта"}})]),a._v(" "),e("p",[a._v("Установите пакет через "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/upm-ui.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("менеджер пакетов Unity"),e("OutboundLink")],1),a._v(': откройте окно менеджера пакетов (Window -> Package Manager), нажмите кнопку "+", выберите "Add package from git URL", введите '),e("code",[a._v("https://github.com/Elringus/SpriteDicing.git#package")]),a._v(' в поле ввода и нажмите кнопку "Add".')]),a._v(" "),e("p",[e("video",{staticClass:"video",attrs:{loop:"",autoplay:"",muted:""},domProps:{muted:!0}},[e("source",{attrs:{src:"https://i.gyazo.com/b54e9daa9a483d9bf7f74f0e94b2d38a.mp4",type:"video/mp4"}})])]),a._v(" "),e("p",[a._v("Ассеты "),e("code",[a._v("DicedSpriteAtlas")]),a._v(", содержащие внешности персонажей, используются в качестве ресурсов для нарезанных спрайтов персонажей. Каждая внешность сопоставляется по имени с нарезкой спрайтов, содержащихся в атласе.")]),a._v(" "),e("p",[a._v("Имейте в виду, что некоторые свойства метаданных нарезанных спрайтов (например, пиксели на единицу, pivot) управляются ассетом атласа, в то время как значения в конфигурации персонажей применяются к создаваемой текстуре, используемой для представления фактического спрайта. При изменении свойств атласа не забудьте перестроить его, чтобы изменения вступили в силу.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/3765726bd326bb7a8a03a653f458cd3d.png",alt:""}})]),a._v(" "),e("p",[a._v("Следующий видеогайд охватывает создание и настройку атласа нарезанного спрайта, добавление нового нарезанного персонажа на основе созданного атласа и управление персонажем из сценария Naninovel.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/6PdOAOsnhio",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("h2",{attrs:{id:"посnойные-персонажи"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#посnойные-персонажи"}},[a._v("#")]),a._v(" Послойные персонажи")]),a._v(" "),e("p",[a._v("Послойная реализация позволяет создавать персонажей из нескольких спрайтов (слоев), а затем переключать их по отдельности или группами с помощью сценариев Naninovel во время выполнения.")]),a._v(" "),e("p",[a._v("Чтобы создать префаб послойного персонажа, используйте контекстное меню "),e("code",[a._v("Create -> Naninovel -> Character -> Layered")]),a._v(". Войдите в "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/EditingInPrefabMode.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("режим редактирования префаба"),e("OutboundLink")],1),a._v(" для составления слоев. По умолчанию будет создано несколько слоев и групп. Вы можете использовать их или удалить и добавить свои собственные.")]),a._v(" "),e("p",[a._v("Каждый дочерний игровой объект корневого объекта префаба с компонентом "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/class-SpriteRenderer.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("спрайтового рендерера"),e("OutboundLink")],1),a._v(" считается "),e("em",[a._v("слоем")]),a._v("; другие объекты считаются "),e("em",[a._v("группами")]),a._v(". Помимо организации и трансформации, размещение слоев внутри групп позволит вам выбрать один слой или отключить/включить все слои внутри группы с помощью одного выражения в сценарии Naninovel (подробнее об этом позже).")]),a._v(" "),e("p",[a._v("Чтобы скрыть некоторые слои от просмотра по умолчанию, отключите компоненты рендерера спрайтов (а не игровые объекты).")]),a._v(" "),e("p",[a._v("Белая рамка поверх префаба используется для описания холста актера, который будет визуализирован в готовую текстуру во время выполнения. Убедитесь, что вы минимизировали пустые области внутри кадра, перемещая слои и группы, чтобы предотвратить потерю памяти на текстуры и обеспечить правильную работу якорей.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/4ff103c27858ac9671ba3b94ab1ade20.png",alt:""}})]),a._v(" "),e("p",[a._v("Вы можете масштабировать корневой игровой объект, чтобы точно настроить размер актора по умолчанию.")]),a._v(" "),e("p",[a._v("При создании послойных изображений персонажей в Photoshop вы можете использовать "),e("a",{attrs:{href:"https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@3.0/manual/index.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("пакет Unity для импорта PSD"),e("OutboundLink")],1),a._v(", чтобы автоматически генерировать префаб персонажа с сохранением всех слоев и их положений. Чтобы сохранить иерархию слоев, обязательно включите опцию "),e("code",[a._v("Use Layer Grouping")]),a._v(" в настройках импорта.")]),a._v(" "),e("p",[a._v("Не забудьте добавить созданный послойный префаб к ресурсам персонажей ("),e("code",[a._v("Naninovel -> Resources -> Characters")]),a._v('). Выберите "Naninovel.LayeredCharacter" и перетащите префаб в поле "Resource" при настройке записи ресурса.')]),a._v(" "),e("p",[a._v("Для управления послойными персонажами в сценариях Naninovel используйте команду "),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(" так же, как и в других реализациях персонажей. Единственное отличие заключается в том, как вы объявляете внешность: вместо одного ID используйте "),e("em",[a._v("выражение композиции слоёв")]),a._v(". Существует три типа выражений:")]),a._v(" "),e("ul",[e("li",[a._v("Включить один слой в группе: "),e("code",[a._v("group>layer")])]),a._v(" "),e("li",[a._v("Включить слой: "),e("code",[a._v("group+layer")])]),a._v(" "),e("li",[a._v("Отключить слой: "),e("code",[a._v("group-layer")])])]),a._v(" "),e("p",[a._v('Например, рассмотрим персонажа "Miho", который имеет группу "Body" с тремя слоями: "Uniform", "SportSuit" и "Pajama". Чтобы включить слой "Uniform" и отключить все остальные, используйте следующую команду:')]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Miho.Body>Uniform")])])]),a._v("\n")])])]),e("p",[a._v('Чтобы включить или отключить слой, не затрагивая другие слои в группе, используйте "+" и "-" соответственно вместо ">". Вы также можете указать несколько композиционных выражений, разделив их запятыми:')]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('; Добавить очки, убрать шляпу, выбрать эмоцию "Cool".')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharId.Head/Accessories+BlackGlasses,Head-Hat,Head/Emotions>Cool")])])]),a._v("\n")])])]),e("p",[a._v("Чтобы выбрать слой вне каких-либо групп (дочерний объект корневого объекта префаба), просто пропустите группу, например:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('; Дан слой "Halo" – дочерний объект корневого объекта префаба, убрать его')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharId.-Halo")])])]),a._v("\n")])])]),e("p",[a._v("Кроме того, можно воздействовать на все слои внутри группы (а также на ее соседей при использовании выборного выражения), опуская имя слоя в выражении композиции:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v('; Убрать все слои из группы "Body/Decoration".')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharId.Body/Decoration-")])])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Добавить все существующие слои.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharId.+")])])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Даны группы `Poses/Light` и `Poses/Dark` (each containing multiple layers), ")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; добавить все спрайты из группы `Light` и убрать все из группы `Dark`.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("CharId.Poses/Light>")])])]),a._v("\n")])])]),e("p",[a._v("Приведенные выше выражения будут рекурсивно воздействовать не только на прямых потомков выбранных групп, но и на все слои, содержащиеся в нижележащих группах.")]),a._v(" "),e("p",[a._v("Если внешность не задана (например, "),e("code",[a._v("@char CharId")]),a._v(" без предварительной настройки внешности), будет использоваться внешность умолчанию; внешность послойных персонажей по умолчанию равна тому, как выглядит послойный префаб в редакторе.")]),a._v(" "),e("p",[a._v("Видео ниже демонстрирует, как настраивать послойного персонажа и управлять им с помощью команд Naninovel.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/Bl3kXrg8tiI",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("div",{staticClass:"custom-block note"},[e("p",{staticClass:"custom-block-title"},[a._v("ПРИМЕЧАНИЕ")]),a._v(" "),e("p",[a._v("Команда "),e("code",[a._v("@char Miho.Shoes>")]),a._v(', показанная в видео, выбирает группу "Shoes" (отключая все соседние группы), но не скрывает её. Правильная команда для скрытия группы – '),e("code",[a._v("@char Miho.Shoes-")]),a._v(".")])]),a._v(" "),e("p",[a._v("Можно сопоставить композиционные выражения для ключей с помощью свойства "),e("code",[a._v("Composition Map")]),a._v(" компонента "),e("code",[a._v("Layered Actor Behaviour")]),a._v(":")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/ede5cde3548a3187aa714d3e140750ba.png",alt:""}})]),a._v(" "),e("p",[a._v("– после этого ключи могут быть использованы для определения внешности послойного персонажа:")]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Соответствует `Body>Uniform,Hair/Back>Straight,Hair/Front>Straight,Shoes>Grey`.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Miho.Uniform")])])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Соответствует `Hair/Back>Straight,Hair/Front>Straight`.")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Miho.StraightHair")])])]),a._v("\n")])])]),e("p",[a._v('При редактировании префаба послойного персонажа можно предварительно просмотреть заданные композиционные выражения, щелкнув правой кнопкой мыши по записи выражения и выбрав пункт "Preview Composition".')]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/9fb0aeccf4f33245d9f975592ee86dbc.gif",alt:""}})]),a._v(" "),e("p",[a._v("Имейте в виду, что объекты слоёв не визуализируются непосредственно камерами Unity во время выполнения; вместо этого они визуализируются один раз при каждом изменении композиции (внешности) во временную собранную текстуру, которая затем подается в сетку, видимую для камеры Naninovel. Эта настройка необходима для предотвращения проблем с прорисовкой полупрозрачных элементов и поддержки эффектов анимации перехода.")]),a._v(" "),e("h2",{attrs:{id:"универсаnьные-персонажи"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#универсаnьные-персонажи"}},[a._v("#")]),a._v(" Универсальные персонажи")]),a._v(" "),e("p",[a._v("Универсальный персонаж – это наиболее гибкая реализация актора персонажа. Он основан на сборке с компонентом "),e("code",[a._v("CharacterActorBehaviour")]),a._v(", прикрепленным к корневому объекту. Изменения внешности и все остальные параметры персонажей маршрутизируются как "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/UnityEvents.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("события Unity"),e("OutboundLink")],1),a._v(", позволяя реализовать поведение базового объекта любым удобным вам способом.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/9f799f4152782afb6ab86d3c494f4cc4.png",alt:""}})]),a._v(" "),e("p",[a._v("Чтобы создать префаб универсального персонажа по шаблону, используйте контекстное меню "),e("code",[a._v("Create -> Naninovel -> Character -> Generic")]),a._v(".")]),a._v(" "),e("p",[a._v("Для настройки функции синхронизации губ для универсальных персонажей, используйте события Unity "),e("code",[a._v("On Started Speaking")]),a._v(" и "),e("code",[a._v("On Finished Speaking")]),a._v(" компонента "),e("code",[a._v("CharacterActorBehaviour")]),a._v(". Когда персонаж становится или перестает быть автором любого печатного сообщения (или, скорее, когда сообщение полностью раскрывается), эти события будут вызваны, позволяя вам вызвать любую логику, такую как запуск или остановка анимации рта контролируемого персонажа. Это подобно тому, как работают события пользовательского интерфейса "),e("code",[a._v("On Show")]),a._v(" и "),e("code",[a._v("On Hide")]),a._v("; найти, как они могут быть использованы для управления анимацией, можно в "),e("RouterLink",{attrs:{to:"/ru/guide/user-interface.html#добавление-пользовательских-UI"}},[a._v("руководстве по настройке UI")]),a._v(".")],1),a._v(" "),e("p",[a._v("Ознакомьтесь со следующим видеоуроком как с примером по настройке 3D-модели в качестве универсального персонажа и внесению изменений внешности в анимацию модели с помощью компонента "),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/class-AnimatorController.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Animator"),e("OutboundLink")],1),a._v(" компонент.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("h2",{attrs:{id:"персонажи-live2d"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#персонажи-live2d"}},[a._v("#")]),a._v(" Персонажи Live2D")]),a._v(" "),e("p",[a._v("Реализация персонажей Live2D использует ассеты, созданные с помощью софта для 2D-моделирования и анимации "),e("a",{attrs:{href:"https://www.live2d.com",target:"_blank",rel:"noopener noreferrer"}},[a._v("Live2D Cubism"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v("Чтобы иметь возможность использовать эту реализацию, необходимо сначала установить "),e("a",{attrs:{href:"https://live2d.github.io/#unity",target:"_blank",rel:"noopener noreferrer"}},[a._v("Live2D Cubism SDK для Unity"),e("OutboundLink")],1),a._v(". Обратитесь к официальной документации Live2D для получения инструкций по установке и использованию.")]),a._v(" "),e("p",[a._v("После этого скачайте и импортируйте "),e("a",{attrs:{href:"https://github.com/Naninovel/Live2D/raw/master/NaninovelLive2D.unitypackage",target:"_blank",rel:"noopener noreferrer"}},[a._v("пакет расширения Live2D"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v("Префаб модели Live2D, используемый в качестве ресурса для реализации, должен иметь компонент "),e("code",[a._v("Live2DController")]),a._v(", прикрепленный к корневому объекту. Изменения внешности направляются в компонент аниматора как команды "),e("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("SetTrigger"),e("OutboundLink")],1),a._v(', используя внешность как имя триггера. Например, если у вас есть Live2D-префаб персонажа "Kaori", и вы хотите вызвать триггер с именем "Surprise", используйте следующую команду:')]),a._v(" "),e("div",{staticClass:"language-nani extra-class"},[e("pre",{pre:!0,attrs:{class:"language-nani"}},[e("code",[e("span",{pre:!0,attrs:{class:"token command function"}},[e("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@char")]),e("span",{pre:!0,attrs:{class:"token command-params"}},[e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),e("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Kaori.Surprise")])])]),a._v("\n")])])]),e("p",[a._v("Обратите внимание, что приведенная выше команда будет только пытаться вызвать "),e("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("SetTrigger"),e("OutboundLink")],1),a._v(' с аргументом "Surprise" на контроллере аниматора, прикрепленного к префабу; вы должны самостоятельно составить нижележащую систему '),e("a",{attrs:{href:"https://docs.unity3d.com/Manual/Animator",target:"_blank",rel:"noopener noreferrer"}},[a._v("аниматора"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("div",{staticClass:"custom-block warn"},[e("p",{staticClass:"custom-block-title"},[a._v("ВНИМАНИЕ")]),a._v(" "),e("p",[a._v("Последняя версия Cubism SDK для Unity работает непосредственно с компонентом "),e("code",[a._v("Animator")]),a._v("; выражения и позы (экспортированные как expression.json и pose.json), которые ранее использовались в Cubism 2.x, теперь "),e("a",{attrs:{href:"https://docs.live2d.com/cubism-sdk-tutorials/blendexpression",target:"_blank",rel:"noopener noreferrer"}},[a._v("устарели"),e("OutboundLink")],1),a._v(" и не поддерживаются расширением Naninovel для Live2D.")])]),a._v(" "),e("p",[a._v("Когда компоненты Live2D "),e("code",[a._v("CubismLookController")]),a._v(" и "),e("code",[a._v("CubismMouthController")]),a._v(" присутствуют и настроены на префаб модели Live2D, "),e("code",[a._v("Live2DController")]),a._v(" может дополнительно использовать их для управления направлением взгляда и анимацией рта (функцией синхронизации губ) персонажа.")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/498fe948bc5cbdb4dfc5ebc5437ae6b4.png",alt:""}})]),a._v(" "),e("p",[a._v("Обратитесь к документации Live2D по "),e("a",{attrs:{href:"https://docs.live2d.com/cubism-sdk-tutorials/lookat",target:"_blank",rel:"noopener noreferrer"}},[a._v("трекингу глаз"),e("OutboundLink")],1),a._v(" и "),e("a",{attrs:{href:"https://docs.live2d.com/cubism-sdk-tutorials/lipsync",target:"_blank",rel:"noopener noreferrer"}},[a._v("синхронизации губ"),e("OutboundLink")],1),a._v(" для получения подробной информации о настройке.")]),a._v(" "),e("p",[a._v("Имейте в виду, что "),e("code",[a._v("Live2DController")]),a._v(' ожидает игровой объект "Drawables" внутри префаба модели Live2D (создается автоматически при импорте моделей Live2D в Unity); контроллер будет масштабировать этот объект во время выполнения в соответствии с параметром "scale" команд '),e("a",{attrs:{href:"/ru/api/#char",target:"_blank"}},[e("code",[a._v("@char")])]),a._v(". Следовательно, любые локальные значения, заданные в редакторе, будут проигнорированы. Чтобы установить начальный масштаб для префабов Live2D, пожалуйста, используйте масштаб корневого игрового объекта, как "),e("a",{attrs:{href:"https://youtu.be/rw_Z69z0pAg?t=353",target:"_blank",rel:"noopener noreferrer"}},[a._v("показано в видеогайде"),e("OutboundLink")],1),a._v(".")]),a._v(" "),e("p",[a._v('При установке расширения Live2D в меню конфигурации Naninovel появится пункт "Live2D", содержащий следующие параметры:')]),a._v(" "),e("p",[e("img",{attrs:{src:"https://i.gyazo.com/435a4824f0ce0dd8c9c3f29d457bab24.png",alt:""}})]),a._v(" "),e("p",[a._v('Слой рендеринга задает слой, применяемый для префабов Live2D, и маску обрезки, используемую для камер, которые будут рендерить префабы. Поле рендеровой камеры позволяет использовать пользовательскую настройку для камеры рендеринга (камера рендеринга по умолчанию хранится в папке пакетов "Prefabs"). Смещение камеры позволяет смещать камеру рендеринга от рендерируемого префаба; вы можете использовать эти параметры для равномерного позиционирования всех префабов Live2D относительно камеры.')]),a._v(" "),e("p",[a._v("Следующий видеогайд охватывает экспорт персонажа Live2D из Cubism Editor, настройку префаба, создание простого аниматора и управление персонажем из сценария Naninovel.")]),a._v(" "),e("p"),e("div",{staticClass:"video-container"},[e("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/rw_Z69z0pAg",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),e("p"),a._v(" "),e("div",{staticClass:"custom-block example"},[e("p",{staticClass:"custom-block-title"},[a._v("ПРИМЕР")]),a._v(" "),e("p",[a._v("Ознакомьтесь с "),e("a",{attrs:{href:"https://github.com/Naninovel/Live2D",target:"_blank",rel:"noopener noreferrer"}},[a._v("примером проекта на GitHub"),e("OutboundLink")],1),a._v(", где персонаж Live2D используется в Naninovel. Имейте в виду, что ни пакеты Naninovel, ни пакеты Live2D SDK не поставляются вместе с проектом, поэтому после его первого открытия появятся ошибки компиляции; импортируйте Naninovel из Asset Store и Live2D Cubism SDK с их веб-сайта, чтобы решить эти проблемы.")])])])}),[],!1,null,null,null);t.default=s.exports}}]);