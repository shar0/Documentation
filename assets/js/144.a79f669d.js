(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{403:function(t,e,a){"use strict";a.r(e);var v=a(42),n=Object(v.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"поnьзоватеnьский-интерфейс"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#поnьзоватеnьский-интерфейс"}},[t._v("#")]),t._v(" Пользовательский интерфейс")]),t._v(" "),a("p",[t._v("Naninovel поставляется с несколькими встроенными UI: главное меню, настройки игры, меню сохранения-загрузки, панель бэклога, галерея CG, советы и многие другие.")]),t._v(" "),a("p",[t._v("Каждый из встроенных UI можно отключить или настроить; дополнительные сведения см. в руководстве по "),a("RouterLink",{attrs:{to:"/ru/guide/user-interface.html#кастомизация-UI"}},[t._v("кастомизации UI")]),t._v(".")],1),t._v(" "),a("h2",{attrs:{id:"адаптивная-вёрстка-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#адаптивная-вёрстка-ui"}},[t._v("#")]),t._v(" Адаптивная вёрстка UI")]),t._v(" "),a("p",[t._v("Все встроенные интерфейсы реализованы с адаптивной вёрсткой. Это позволяет UI оставаться пригодным для использования на всех платформах, независимо от разрешения экрана.")]),t._v(" "),a("p",[a("video",{staticClass:"video",attrs:{loop:"",autoplay:"",muted:""},domProps:{muted:!0}},[a("source",{attrs:{src:"https://i.gyazo.com/b6bddf8a0c6f2ba68dcdc1bc65db0c09.mp4",type:"video/mp4"}})])]),t._v(" "),a("h2",{attrs:{id:"перекnючение-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#перекnючение-ui"}},[t._v("#")]),t._v(" Переключение UI")]),t._v(" "),a("p",[t._v("Функция переключения пользовательского интерфейса позволяет пользователю скрывать/показывать UI целиком.")]),t._v(" "),a("p",[a("video",{staticClass:"video",attrs:{loop:"",autoplay:"",muted:""},domProps:{muted:!0}},[a("source",{attrs:{src:"https://i.gyazo.com/e267c4ab3654efbfaf611011502de79f.mp4",type:"video/mp4"}})])]),t._v(" "),a("p",[t._v("Активируйте ввод "),a("code",[t._v("ToggleUI")]),t._v(" (клавиша "),a("code",[t._v("Space")]),t._v(" по умолчанию для автономного модуля ввода) или используйте кнопку "),a("code",[t._v("HIDE")]),t._v(" на панели управления, чтобы скрыть/показать UI.")]),t._v(" "),a("p",[t._v("Когда пользовательский интерфейс скрыт, ввод "),a("code",[t._v("Continue")]),t._v(" или щелчок мыши (касание экрана) также вернёт UI.")]),t._v(" "),a("h2",{attrs:{id:"кастомизация-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#кастомизация-ui"}},[t._v("#")]),t._v(" Кастомизация UI")]),t._v(" "),a("p",[t._v("Функция настройки UI позволяет добавлять UI, изменить или полностью заменить любой из встроенных элементов UI, таких как меню заголовка, меню настроек, бэклог принтера и т.д.")]),t._v(" "),a("p",[t._v("Заметьте, что текстовые принтеры и обработчики выборов реализованы через акторов интерфейса и настраиваются по-другому; см. соответствующую документацию по ("),a("RouterLink",{attrs:{to:"/ru/guide/text-printers.html"}},[t._v("текстовым принтерам")]),t._v(", "),a("RouterLink",{attrs:{to:"/ru/guide/choices.html"}},[t._v("обработчикам выборов")]),t._v(") для получения дополнительной информации.")],1),t._v(" "),a("div",{staticClass:"custom-block warn"},[a("p",{staticClass:"custom-block-title"},[t._v("ВНИМАНИЕ")]),t._v(" "),a("p",[t._v("Прежде чем пытаться создавать пользовательские UI или изменять существующие, сначала убедитесь, что вы знакомы с "),a("a",{attrs:{href:"https://docs.unity3d.com/Packages/com.unity.ugui@latest",target:"_blank",rel:"noopener noreferrer"}},[t._v("системой UI Unity"),a("OutboundLink")],1),t._v(" (uGUI). Хотя ниже представлены видеоуроки и примеры проектов по настройке пользовательского интерфейса, пожалуйста, имейте в виду, что мы не предоставляем никаких дополнительных рекомендаций или поддержку встроенных инструментов Unity; обратитесь к странице "),a("RouterLink",{attrs:{to:"/ru/support/#unity-support"}},[t._v("поддержки")]),t._v(" для получения дополнительной информации.")],1)]),t._v(" "),a("p",[t._v("Для добавления пользовательского интерфейса или изменения (отключения) встроенного, используйте менеджер ресурсов UI, доступный через меню редактора "),a("code",[t._v("Naninovel -> Resources -> UI")]),t._v(".")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.gyazo.com/b0f00e8431e34e59249b3f59919e3b2c.png",alt:""}})]),t._v(" "),a("p",[t._v("Когда движок инициализируется, он создает экземпляры всех префабов UI, назначенных в диспетчере ресурсов.")]),t._v(" "),a("p",[t._v("Чтобы показать или скрыть любой из UI, перечисленных в диспетчере ресурсов, используйте команды "),a("a",{attrs:{href:"/ru/api/#showui",target:"_blank"}},[a("code",[t._v("@showUI")])]),t._v(" и "),a("a",{attrs:{href:"/ru/api/#hideui",target:"_blank"}},[a("code",[t._v("@hideUI")])]),t._v(" соответственно.")]),t._v(" "),a("h3",{attrs:{id:"добавnение-поnьзоватеnьских-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#добавnение-поnьзоватеnьских-ui"}},[t._v("#")]),t._v(" Добавление пользовательских UI")]),t._v(" "),a("p",[t._v("Чтобы добавить новый UI, создайте префаб через контекстное меню ассета "),a("code",[t._v("Create -> Naninovel -> Custom UI")]),t._v(" и добавьте его в список ресурсов UI. Затем он будет выведен вместе с другими префабами UI при инициализации движка.")]),t._v(" "),a("p",[t._v("В следующем видеоуроке показано, как добавить пользовательский интерфейс календаря со специальными анимациями раскрытия и скрытия. Календарь будет отображать дату на основе "),a("RouterLink",{attrs:{to:"/ru/guide/custom-variables.html"}},[t._v("пользовательской переменной")]),t._v(", которая может быть изменена с помощью сценариев Naninovel и сохранена вместе с игрой. Календарь будет автоматически обновляться при изменении переменной. Все это достигается без каких-либо сценариев C#.")],1),t._v(" "),a("p"),a("div",{staticClass:"video-container"},[a("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/wrAm-cwPXy4",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),a("p"),t._v(" "),a("div",{staticClass:"custom-block example"},[a("p",{staticClass:"custom-block-title"},[t._v("ПРИМЕР")]),t._v(" "),a("p",[t._v("Проект Unity, показанный в приведенном выше видеоуроке, доступен "),a("a",{attrs:{href:"https://github.com/Naninovel/CustomUIExample",target:"_blank",rel:"noopener noreferrer"}},[t._v("на GitHub"),a("OutboundLink")],1),t._v(". Вы можете "),a("a",{attrs:{href:"https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository",target:"_blank",rel:"noopener noreferrer"}},[t._v("клонировать репозиторий"),a("OutboundLink")],1),t._v(" с помощью Git-клиента или "),a("a",{attrs:{href:"https://github.com/Naninovel/CustomUIExample/archive/master.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("загрузить его в виде zip-архива"),a("OutboundLink")],1),t._v(". Имейте в виду, что пакет Naninovel не распространяется вместе с проектом, следовательно, ошибки компиляции будут возникать после его первого открытия; импортируйте Naninovel из хранилища ассетов, чтобы исправить эти ошибки.")])]),t._v(" "),a("div",{staticClass:"custom-block example"},[a("p",{staticClass:"custom-block-title"},[t._v("ПРИМЕР")]),t._v(" "),a("p",[t._v("Другой, более продвинутый пример добавления UI инвентаря с версткой сетки, разбиением на страницы и перетаскиваемым окном можно найти в проекте "),a("a",{attrs:{href:"https://github.com/Naninovel/Inventory",target:"_blank",rel:"noopener noreferrer"}},[t._v("примера инвентаря на GitHub"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("В частности, скрипты, связанные с UI, хранятся в директоряих "),a("a",{attrs:{href:"https://github.com/Naninovel/Inventory/tree/master/Assets/NaninovelInventory/Runtime/UI",target:"_blank",rel:"noopener noreferrer"}},[t._v("Runtime/UI"),a("OutboundLink")],1),t._v(", а префабы в "),a("a",{attrs:{href:"https://github.com/Naninovel/Inventory/tree/master/Assets/NaninovelInventory/Prefabs",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prefabs"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("p",[t._v("Когда вы создаете новый пользовательский префаб UI через контекстное меню, jy будет иметь компонент "),a("code",[t._v("Custom UI")]),t._v(", прикрепленный к корневому объекту. Этот компонент (или, скорее, тот факт, что компонент реализует интерфейс "),a("code",[t._v("IManagedUI")]),t._v(") необходим для того, чтобы префаб был принят движком в качестве UI.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.gyazo.com/9a4a38754ccf35e48b8bef2c3062ff02.png",alt:""}})]),t._v(" "),a("p",[t._v("Свойство "),a("code",[t._v("Disable Interaction")]),t._v(" позволяет навсегда отключить взаимодействие с UI, независимо от его видимости. Требует компонент "),a("code",[t._v("Canvas Group")]),t._v(" для того же игрового объекта.")]),t._v(" "),a("p",[t._v("Если включен параметр "),a("code",[t._v("Visible On Awake")]),t._v(", UI будет виден при его создании (сразу после инициализации движка), и наоборот.")]),t._v(" "),a("p",[t._v("Когда включена функция "),a("code",[t._v("Control Opacity")]),t._v(" и компонент "),a("code",[t._v("Canvas Group")]),t._v(" присоединен к тому же игровому объекту, свойство "),a("code",[t._v("Alpha")]),t._v(" компонента "),a("code",[t._v("Canvas Group")]),t._v(" будет изменено синхронно с текущим состоянием видимости элемента UI. Затем "),a("code",[t._v("Fade Duration")]),t._v(" будет управлять временем (длительностью в секундах) анимации затухания непрозрачности. Если вы хотите реализовать свой собственный эффект, для управления состоянием видимости элемента UI (например, анимация слайдов вместо затухания непрозрачности), отключите свойство "),a("code",[t._v("Control Opacity")]),t._v(" и используйте события Unity "),a("code",[t._v("On Show")]),t._v(" и "),a("code",[t._v("On Hide")]),t._v(" для реакции на изменения видимости.")]),t._v(" "),a("p",[t._v("Если вы хотите поддерживать навигацию по UI геймпадом или клавиатурой, назначьте игровой объект с взаимодействующим компонентом (например, "),a("code",[t._v("Button")]),t._v(") свойству "),a("code",[t._v("Focus Object")]),t._v(". Затем этот объект будет автоматически сфокусирован, когда UI станет видимым, что позволит перемещаться по другим взаимодействующим объектам с помощью геймпада и/или клавиатуры. См. "),a("a",{attrs:{href:"https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/script-SelectableNavigation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("руководство по навигации UI Unity"),a("OutboundLink")],1),t._v(" для получения дополнительной информации о том, как настроить поведение навигации.")]),t._v(" "),a("p",[t._v("Когда назначается"),a("code",[t._v("Focus Object")]),t._v(", свойство "),a("code",[t._v("Focus Mode")]),t._v(" позволяет выбрать, когда фокусировать объект: режим "),a("code",[t._v("Visibility")]),t._v(" фокусирует его сразу после того, как UI становится видимым, а "),a("code",[t._v("Navigation")]),t._v(" откладывает фокусировку до тех пор, пока игрок не активирует навигационную клавишу на геймпаде (левый джойстик или D-pad) или клавиатуре (клавиши со стрелками).")]),t._v(" "),a("p",[t._v("События Unity "),a("code",[t._v("On Show")]),t._v(" и "),a("code",[t._v("On Hide")]),t._v(" позволяют привязывать пользовательские обработчики реагировать на изменения в интерфейсе видимость. Например, вы можете подключить триггеры "),a("code",[t._v("Animator")]),t._v(" для запуска пользовательских анимаций, когда UI становится видимым, и наоборот.")]),t._v(" "),a("p",[t._v("Если включена функция "),a("code",[t._v("Hide On Load")]),t._v(", UI будет автоматически скрыт, когда движок начнет операцию загрузки. Обычно это происходит при загрузке другого сценария Naninovel или выходе из главного меню.")]),t._v(" "),a("p",[t._v("Включение функции "),a("code",[t._v("Save Visibility State")]),t._v(" сделает состояние видимости UI постоянным, так что когда игрок загружает сохраненную игру, UI будет находиться в том же состоянии (видимом или скрытом), что и при сохранении игры.")]),t._v(" "),a("p",[a("code",[t._v("Block Input When Visible")]),t._v(" позволяет отключить "),a("RouterLink",{attrs:{to:"/ru/guide/input-processing.html"}},[t._v("обработку вводных данных")]),t._v(", когда UI становится видимым. Это полезно для предотвращения использования игроком различных горячих клавиш (скрытие UI, продолжение чтения и т.д.) во время взаимодействия с UI. "),a("code",[t._v("Allowed Samplers")]),t._v(" позволяют добавлять исключения к заблокированным входам; например, вы можете добавить имя ввода "),a("code",[t._v("ToggleUI")]),t._v(" в список, позволяя игроку переключать UI, при этом предотвращая активацию любых других вводов.")],1),t._v(" "),a("p",[t._v("Включение "),a("code",[t._v("Modal UI")]),t._v(" заставляет все другие UI игнорировать взаимодействие, пока данный UI виден. Это похоже на "),a("code",[t._v("Block Input When Visible")]),t._v(", но влияет на взаимодействие на основе событий (щелчки мыши, прикосновения, навигация по UI) вместо прямой обработки ввода.")]),t._v(" "),a("p",[t._v("Несколько других компонентов также будут добавлены по умолчанию при создании UI:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Canvas Group")]),t._v(" позволяет скрывать UI, изменяя непрозрачность (контролируется с помощью "),a("code",[t._v("Fade Duration")]),t._v(") и позволяет UI игнорировать взаимодействие с пользователем, когда это необходимо.")]),t._v(" "),a("li",[a("code",[t._v("Canvas Scaler")]),t._v(" автоматически масштабирует вёрстку в соответствии с текущим разрешением дисплея.")]),t._v(" "),a("li",[a("code",[t._v("Graphic Raycaster")]),t._v(" позволяет игроку взаимодействовать с кнопками и другими взаимодействующими элементами внутри холста UI.")])]),t._v(" "),a("p",[t._v("Вы можете изменить или удалить любой из вышеперечисленных компонентов по своему усмотрению.")]),t._v(" "),a("h3",{attrs:{id:"откnючение-встроенных-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#откnючение-встроенных-ui"}},[t._v("#")]),t._v(" Отключение встроенных UI")]),t._v(" "),a("p",[t._v("Чтобы отключить встроенный элемент UI, удалите соответствующую запись из списка ресурсов UI, и префаб не будет использован при инициализации движка.")]),t._v(" "),a("h3",{attrs:{id:"модификация-встроенных-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#модификация-встроенных-ui"}},[t._v("#")]),t._v(" Модификация встроенных UI")]),t._v(" "),a("p",[t._v("Если вы хотите изменить существующий встроенный (базовый) префаб UI, вы можете найти его в папке пакета "),a("code",[t._v("Naninovel/Prefabs/DefaultUI")]),t._v(".")]),t._v(" "),a("p",[t._v("Если это возможно, "),a("strong",[t._v("пожалуйста, воздержитесь от непосредственного редактирования встроенных префабов")]),t._v(", чтобы предотвратить проблемы при обновлении пакета. Взамен этого, лучше создать новый префаб из шаблона в контекстном меню ассета "),a("code",[t._v("Create -> Naninovel -> Default UI -> ...")]),t._v(" или вручную дублировать префаб, который вы хотите изменить (Ctrl/Cmd+D), и переместите его из папки пакета. Затем назначьте созданный/измененный префаб существующей записи (поле ("),a("code",[t._v("Object")]),t._v(") в диспетчере ресурсов UI.")]),t._v(" "),a("p",[t._v("В следующем видеоуроке вы узнаете, как переопределить встроенное главное меню. Он также покажет, как использовать скрипт главного меню для добавления фона и специального эффекта при входе в главное меню; для этого не используется сценарий C#.")]),t._v(" "),a("p"),a("div",{staticClass:"video-container"},[a("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/hqhfhXzQkdk",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),a("p"),t._v(" "),a("div",{staticClass:"custom-block example"},[a("p",{staticClass:"custom-block-title"},[t._v("ПРИМЕР")]),t._v(" "),a("p",[t._v("Проект Unity, показанный в приведенном выше видеоуроке, доступен "),a("a",{attrs:{href:"https://github.com/Naninovel/CustomUIExample",target:"_blank",rel:"noopener noreferrer"}},[t._v("на GitHub"),a("OutboundLink")],1),t._v(". Вы можете "),a("a",{attrs:{href:"https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository",target:"_blank",rel:"noopener noreferrer"}},[t._v("клонировать репозиторий"),a("OutboundLink")],1),t._v(" с помощью Git-клиента или "),a("a",{attrs:{href:"https://github.com/Naninovel/CustomUIExample/archive/master.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("загрузить его в виде zip-архива"),a("OutboundLink")],1),t._v(". Имейте в виду, что пакет Naninovel не распространяется вместе с проектом, следовательно, ошибки компиляции будут возникать после его первого открытия; импортируйте Naninovel из хранилища ассетов, чтобы исправить эти ошибки.")])]),t._v(" "),a("p",[t._v("При создании нового префаба с нуля обязательно прикрепите компонент, реализующий интерфейс UI, который вы собираетесь переопределить. Этот компонент должен быть присоединен к корневому объекту префаба.")]),t._v(" "),a("p",[t._v("All the UI interfaces are stored under "),a("code",[t._v("Naninovel.UI")]),t._v(" namespace:")]),t._v(" "),a("p",[t._v("Все элементы UI хранятся в пространстве имён "),a("code",[t._v("Naninovel.UI")]),t._v(":")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Интерфейс")]),t._v(" "),a("th",[t._v("Соответствующий UI")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("IBacklogUI")]),t._v(" "),a("td",[t._v("Бэклог принтера.")])]),t._v(" "),a("tr",[a("td",[t._v("ILoadingUI")]),t._v(" "),a("td",[t._v("Панель, показываемая при загрузке игры.")])]),t._v(" "),a("tr",[a("td",[t._v("IMovieUI")]),t._v(" "),a("td",[t._v("UI, используемый для воспроизведения видеороликов.")])]),t._v(" "),a("tr",[a("td",[t._v("ISaveLoadUI")]),t._v(" "),a("td",[t._v("Панель загрузки и сохранения.")])]),t._v(" "),a("tr",[a("td",[t._v("ISceneTransitionUI")]),t._v(" "),a("td",[t._v("Обрабатывает переходы сцены(командами "),a("a",{attrs:{href:"/ru/api/#starttrans",target:"_blank"}},[a("code",[t._v("@startTrans")])]),t._v(" и "),a("a",{attrs:{href:"/ru/api/#finishtrans",target:"_blank"}},[a("code",[t._v("@finishTrans")])]),t._v(").")])]),t._v(" "),a("tr",[a("td",[t._v("ISettingsUI")]),t._v(" "),a("td",[t._v("Панель игровых настроек.")])]),t._v(" "),a("tr",[a("td",[t._v("ITitleUI")]),t._v(" "),a("td",[t._v("Главное меню игры.")])]),t._v(" "),a("tr",[a("td",[t._v("IExternalScriptsUI")]),t._v(" "),a("td",[t._v("UI браузера внешних сценариев (функция модов коммьюнити).")])]),t._v(" "),a("tr",[a("td",[t._v("IVariableInputUI")]),t._v(" "),a("td",[t._v("Форма ввода для назначения пользовательским переменных произвольного текста(используется командой "),a("a",{attrs:{href:"/ru/api/#input",target:"_blank"}},[a("code",[t._v("@input")])]),t._v(").")])]),t._v(" "),a("tr",[a("td",[t._v("IConfirmationUI")]),t._v(" "),a("td",[t._v("Панель UI, используемая для подтверждения важных команд (напр., при выходе в главное меню или удалении слота сохранения).")])]),t._v(" "),a("tr",[a("td",[t._v("ICGGalleryUI")]),t._v(" "),a("td",[t._v("Браузер разблокируемых элементов "),a("RouterLink",{attrs:{to:"/ru/guide/unlockable-items.html#галерея-CG"}},[t._v("галереи CG")]),t._v(".")],1)]),t._v(" "),a("tr",[a("td",[t._v("ITipsUI")]),t._v(" "),a("td",[t._v("Браузер разблокируемых "),a("RouterLink",{attrs:{to:"/ru/guide/unlockable-items.html#подсказки"}},[t._v("подсказок")]),t._v(".")],1)]),t._v(" "),a("tr",[a("td",[t._v("IRollbackUI")]),t._v(" "),a("td",[t._v("Индикатор функции отката состояния.")])]),t._v(" "),a("tr",[a("td",[t._v("IContinueInputUI")]),t._v(" "),a("td",[t._v("Полноэкранный невидимый слой UI, расположенный в нижней части стека UI и используемый для активации триггера "),a("code",[t._v("continue input")]),t._v(" при нажатии или прикосновении.")])])])]),t._v(" "),a("p",[t._v("Чтобы UI поддерживал видимость (видимый при пробуждении, время затухания) и параметры взаимодействия (отключение взаимодействие), также прикрепите компонент "),a("code",[t._v("Canvas Group")]),t._v(" к тому же объекту.")]),t._v(" "),a("p",[t._v("Если вы знакомы с работой в C# и хотите переопределить базовую логику UI, "),a("a",{attrs:{href:"https://docs.unity3d.com/Manual/CreatingAndUsingScripts",target:"_blank",rel:"noopener noreferrer"}},[t._v("создайте новый компонент"),a("OutboundLink")],1),t._v(", реализуйте интерфейс "),a("code",[t._v("IManagedUI")]),t._v("  (вы можете свободно наследовать компонент от "),a("code",[t._v("CustomUI")]),t._v(" или "),a("code",[t._v("ScriptableUIBehaviour")]),t._v(" для выполнения всех требований к интерфейсу) и прикрепите созданный пользовательский компонент. В папке "),a("code",[t._v("Naninovel/Runtime/UI")]),t._v(" вы можете найти примеры реализаций встроенных UI. Вот пример минимальной реализации пользовательского компонента UI:")]),t._v(" "),a("div",{staticClass:"language-csharp extra-class"},[a("pre",{pre:!0,attrs:{class:"language-csharp"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("using")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("UniRx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Async")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyCustomUI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token type-list"}},[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ScriptableUIBehaviour")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Naninovel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IManagedUI")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t._v("UniTask")]),t._v(" InitializeAsync "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" UniTask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CompletedTask"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"выпоnнение-скрипта-на-событии-unity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#выпоnнение-скрипта-на-событии-unity"}},[t._v("#")]),t._v(" Выполнение скрипта на событии Unity")]),t._v(" "),a("p",[t._v("При создании UI вы можете выполнить некоторые команды или начать воспроизведение определенного сценария Naninovel в ответ на некоторые события (например, [нажатие кнопки]). (https://docs.unity3d.com/Manual/script-Button.html)).")]),t._v(" "),a("p",[t._v("Добавьте компонент "),a("code",[t._v("Play Script")]),t._v(" к игровому объекту и либо выберите существующий сценарий Naninovel, либо запишите команды прямо в поле текстовой области; затем маршрутизируйте "),a("a",{attrs:{href:"https://docs.unity3d.com/Manual/UnityEvents.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("событие Unity"),a("OutboundLink")],1),t._v(" какого-либо другого компонента для вызова метода "),a("code",[t._v("Play()")]),t._v(" в компоненте "),a("code",[t._v("Play Script")]),t._v(". Сценарий будет выполнен, когда событие будет запущено в режиме воспроизведения. Приведенный ниже пример скрывает UI при нажатии кнопки.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.gyazo.com/5f56fbddc090919cc71f68e82bb1713f.png",alt:""}})]),t._v(" "),a("p",[t._v("Также можно ссылаться на аргументы события Unity в тексте скрипта с выражением "),a("code",[t._v("{arg}")]),t._v("; поддерживаемые типы аргументов: string, integer, float и boolean. Ниже приведен пример, демонстрирующий выполнение дрожания камеры и воспроизведение звукового эффекта, когда логическое событие Unity является положительным, и воспроизведение фонового размышления, когда оно отрицательно.")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://i.gyazo.com/78e9fa27d6561f8f8aced76bbeb4b542.png",alt:""}})]),t._v(" "),a("div",{staticClass:"custom-block warn"},[a("p",{staticClass:"custom-block-title"},[t._v("ВНИМАНИЕ")]),t._v(" "),a("p",[t._v("Команды условного блока (if, else, elseif, endif) в тексте скрипта не поддерживаются.")])]),t._v(" "),a("p",[t._v("Когда существующий сценарий Naninovel выбирается с помощью выпадающего списка, область текста скрипта будет проигнорирована, и выбранный сценарий Naninovel будет воспроизводиться "),a("strong",[t._v("вместо")]),t._v(" выполняемого в настоящее время; в случае, если вы хотите дополнительно выполнить некоторые команды, не перебивая воспроизведение текущего сценария, используйте область текста скрипта.")])])}),[],!1,null,null,null);e.default=n.exports}}]);