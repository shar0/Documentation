(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{470:function(a,t,s){"use strict";s.r(t);var e=s(42),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"オーディオ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#オーディオ"}},[a._v("#")]),a._v(" オーディオ")]),a._v(" "),s("p",[a._v("この記事ではバックグラウンドミュージック (BGM) と 効果音 (SFX) について記載しています。声については "),s("RouterLink",{attrs:{to:"/ja/guide/voicing.html"}},[a._v("ボイス収録ガイド")]),a._v(" をご覧ください。")],1),a._v(" "),s("p",[a._v("BGMおよびSFXリソースを追加、編集、または削除するには、 "),s("code",[a._v("Naninovel -> Resources -> Audio")]),a._v(" へアクセスして、オーディオリソースマネージャーを使用します。 "),s("a",{attrs:{href:"https://docs.unity3d.com/Manual/AudioFiles.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("Unityでサポートされている"),s("OutboundLink")],1),a._v(" 任意のオーディオ形式を使用できます。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.gyazo.com/cacdec36623dbbfcf9f49c594de53c0f.png",alt:""}})]),a._v(" "),s("p",[a._v("大量のオーディオファイルがありエディターメニューから割り当てるのが大変な場合は、 "),s("code",[a._v("Resources/Naninovel/Audio")]),a._v(" フォルダーにドロップするだけで自動的にスクリプトで使用できるようになります。必要に応じて、さらにサブフォルダで整理することもできます。この場合、naninovelスクリプトで参照する場合はスラッシュ ("),s("code",[a._v("/")]),a._v(") を使用します。たとえば、 "),s("code",[a._v("Resources/Naninovel/Audio/Music/Ambient/Noise002.wav")]),a._v(" として保存されたオーディオクリップは、 "),s("code",[a._v("Music/Ambient/Noise002")]),a._v(" としてスクリプトから参照できます。")]),a._v(" "),s("p",[s("RouterLink",{attrs:{to:"/ja/guide/resource-providers.html#addressable"}},[a._v("addressable asset system")]),a._v(' を使用して手動でリソースを公開することもできます。アセットを公開するには、使用するパスと同じアドレスを "Resources/" の部分を除いて、上記の方法で割り当てます。たとえば、'),s("code",[a._v("MainTheme.wav")]),a._v(" BGMを公開するには、次のアドレスにクリップアセットを割り当てます："),s("code",[a._v("Naninovel/Audio/MainTheme")]),a._v("。addressable 機能はデフォルトではエディターで使用できないことに注意してください。リソースプロバイダーのコンフィグメニューで "),s("code",[a._v("Enable Addressable In Editor")]),a._v(" プロパティを有効にすることで許可できます。")],1),a._v(" "),s("div",{staticClass:"custom-block warn"},[s("p",{staticClass:"custom-block-title"},[a._v("警告")]),a._v(" "),s("p",[a._v("リソースマネージャーを介して割り当てられていないオーディオアセットは、キャラクターアクターの "),s("code",[a._v("Message Sound")]),a._v(" の選択など、さまざまなエディタードロップダウン項目で使用できません。")])]),a._v(" "),s("p",[a._v("オーディオ再生の設定は、コンテキストメニューの "),s("code",[a._v("Naninovel -> Configuration -> Audio")]),a._v(" で設定できます。利用可能なオプションは "),s("RouterLink",{attrs:{to:"/ja/guide/configuration.html#audio"}},[a._v("コンフィグガイド")]),a._v(" をご覧ください。")],1),a._v(" "),s("h2",{attrs:{id:"バックグラウンドミュージック"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#バックグラウンドミュージック"}},[a._v("#")]),a._v(" バックグラウンドミュージック")]),a._v(" "),s("p",[s("a",{attrs:{href:"/ja/api/#bgm",target:"_blank"}},[s("code",[a._v("@bgm")])]),a._v(" コマンドの後にクリップの名前を続けることで、naninovel スクリプトで音楽の再生を制御できます:")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 音楽トラック `Sanctuary` のループ再生を開始。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@bgm")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Sanctuary")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 上記に加えて、ボリュームを10秒間でフェードインさせ、一回だけ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@bgm")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Sanctuary")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" fade:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("10")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" loop:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("false")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 再生中のすべての音楽トラックのボリュームを2.5秒かけて50％に変更し、ループで再生。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@bgm")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" volume:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("0.5")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" loop:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" time:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("2.5")])])]),a._v("\n")])])]),s("p",[a._v("音楽トラックはデフォルトでループされます。音楽トラック名 "),s("a",{attrs:{href:"/ja/api/#bgm",target:"_blank"}},[s("code",[a._v("@bgm")])]),a._v(" コマンドで指定されていない場合は、現在再生されているすべてのトラックに影響します。既に再生中のトラックを呼び出した場合、再生は影響を受けません（トラックの最初から再生を始めることはありません）が、指定したパラメーター(ボリュームとトラックのループ状態)は適用されます。")]),a._v(" "),s("p",[s("code",[a._v("intro")]),a._v(" パラメーターを入れることで、ループ再生の前にイントロを再生することができます。例:")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; `BattleThemeIntro` を一回だけ再生し、その後すぐに `BattleThemeMain` をループ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@bgm")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("BattleThemeMain")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" intro:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("BattleThemeIntro")])])]),a._v("\n")])])]),s("p",[a._v("音楽トラックの再生を停止するには、 "),s("a",{attrs:{href:"/ja/api/#stopbgm",target:"_blank"}},[s("code",[a._v("@stopBgm")])]),a._v(" コマンドの後にクリップ名を続けてください。クリップ名が指定されていない場合は、再生中の全てのトラックを停止します。")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 音楽トラック `Promenade` を10秒かけてフェードアウトし、再生停止する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stopBgm")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Promenade")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" fade:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("10")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 再生中の全ての音楽を停止する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stopBgm")])]),a._v("\n")])])]),s("h2",{attrs:{id:"効果音"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#効果音"}},[a._v("#")]),a._v(" 効果音")]),a._v(" "),s("p",[s("a",{attrs:{href:"/ja/api/#sfx",target:"_blank"}},[s("code",[a._v("@sfx")])]),a._v(" と "),s("a",{attrs:{href:"/ja/api/#stopsfx",target:"_blank"}},[s("code",[a._v("@stopSfx")])]),a._v(" コマンドの後にクリップ名を記述して、naninovel スクリプトで効果音の再生を制御します:")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; `Explosion` という名前の効果音を一度だけ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@sfx")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Explosion")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; Rain` という名前の効果音をループ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@sfx")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Rain")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" loop:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("true")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 再生中の全ての効果音のボリュームを2.5秒かけて75%に変更し、かつ全てループさせない。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@sfx")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" volume:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("0.75")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" loop:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("false")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" time:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("2.5")])])]),a._v("\n")])])]),s("p",[a._v("効果音はデフォルトではループしません。効果音のトラック名が "),s("a",{attrs:{href:"/ja/api/#sfx",target:"_blank"}},[s("code",[a._v("@sfx")])]),a._v(" コマンドで指定されていない場合は、再生中の全てのトラックが影響を受けます。既に再生中のトラックに対して呼び出された場合、再生は影響を受けません（トラックが最初から再生されることはありません）が、指定したパラメーター（ボリュームとトラックのループ状態）には影響します。")]),a._v(" "),s("p",[a._v("ループの有無にかかわらず、再生中のサウンド効果を停止するには、 "),s("a",{attrs:{href:"/ja/api/#stopsfx",target:"_blank"}},[s("code",[a._v("@stopSfx")])]),a._v(" コマンドに続けてクリップ名を記述します。 クリップ名が指定されていない場合、再生中のすべての効果音トラックを停止します。")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 効果音 `Rain` を15秒かけてフェードアウトして停止する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stopSfx")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Rain")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" fade:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("15")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; 再生中のすべての効果音トラックを停止する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@stopSfx")])]),a._v("\n")])])]),s("h2",{attrs:{id:"オーディオミキサー"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#オーディオミキサー"}},[a._v("#")]),a._v(" オーディオミキサー")]),a._v(" "),s("p",[a._v("Naninovelは、BGM、SFX、および音声チャネルを別々に再生するために、"),s("a",{attrs:{href:"https://docs.unity3d.com/Manual/AudioMixer.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("オーディオミキサー"),s("OutboundLink")],1),a._v(" アセットを使用します。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.gyazo.com/6271d59ee9ac63a0a218316bd3bc78a8.png",alt:""}})]),a._v(" "),s("p",[a._v("オーディオコンフィグメニューで、カスタムミキサーアセットを割り当てたり、各オーディオチャネルに使用されるグループを変更したり、ボリュームコントロールハンドラー（公開されたパラメーター名）を変更したりできます。カスタムミキサーアセットが割り当てられていない場合、デフォルトのアセットが使用されます。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://i.gyazo.com/ef2db68edb871608d1718117a37e9486.png",alt:""}})]),a._v(" "),s("p",[a._v("カスタムミキサーグループでオーディオを再生するには、 "),s("code",[a._v("group")]),a._v(" パラメーターでグループパスを指定してください。"),s("a",{attrs:{href:"/ja/api/#bgm",target:"_blank"}},[s("code",[a._v("@bgm")])]),a._v("、 "),s("a",{attrs:{href:"/ja/api/#sfx",target:"_blank"}},[s("code",[a._v("@sfx")])]),a._v("、 "),s("a",{attrs:{href:"/ja/api/#voice",target:"_blank"}},[s("code",[a._v("@voice")])]),a._v(" コマンドで有効です。")]),a._v(" "),s("div",{staticClass:"language-nani extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nani"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; `Master/Ambient` ミキサーグループを使って `Noise` オーディオをループ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@sfx")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Noise")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" loop:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" group:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Master/Ambient")])])]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("; `Master/Reverb` ミキサーグループを使って `ScaryVoice` ボイスをループ再生する。")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token command function"}},[s("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@voice")]),s("span",{pre:!0,attrs:{class:"token command-params"}},[s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("ScaryVoice")]),s("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" group:")]),s("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Master/Reverb")])])]),a._v("\n")])])]),s("p",[a._v("グループは、現在割り当てられているオーディオミキサーアセットの "),s("code",[a._v("FindMatchingGroups(groupPath)")]),a._v(" メソッドで取得されます。 望ましいパス形式については、"),s("a",{attrs:{href:"https://docs.unity3d.com/ScriptReference/Audio.AudioMixer.FindMatchingGroups",target:"_blank",rel:"noopener noreferrer"}},[a._v("Unityドキュメント"),s("OutboundLink")],1),a._v(" を参照してください。指定されたパスに複数のグループが関連付けられている場合、最初のグループがオーディオの再生に使用されます。")]),a._v(" "),s("p",[a._v("C# スクリプトで "),s("code",[a._v("IAudioManager")]),a._v(" "),s("RouterLink",{attrs:{to:"/ja/guide/engine-services.html"}},[a._v("エンジンサービス")]),a._v(" を介して、現在使用中のオーディオミキサーを取得できます")],1),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" audioManager "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" Engine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token generic-method"}},[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("GetService")]),s("span",{pre:!0,attrs:{class:"token generic class-name"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("IAudioManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")])]),a._v(" audioMixer "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" audioManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("AudioMixer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);