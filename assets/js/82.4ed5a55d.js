(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{514:function(a,e,t){"use strict";t.r(e);var n=t(42),r=Object(n.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"playmaker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#playmaker"}},[a._v("#")]),a._v(" Playmaker")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://assetstore.unity.com/packages/tools/visual-scripting/playmaker-368",target:"_blank",rel:"noopener noreferrer"}},[a._v("PlayMaker"),t("OutboundLink")],1),a._v(" は、非プログラマー向けに設計された、人気のあるUnity用のビジュアルスクリプトツールです。")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/0a5b219b059fd61c85d225e903d77857.png",alt:""}})]),a._v(" "),t("p",[a._v("Naninovel のすべての C# API がデフォルトで使用できる Bolt とは対照的に、PlayMaker ではアクションごとに特別な C# クラスを作成する必要があります。つまり、PlayMakerを使用する場合、エンジンAPIの限られたサブセットしか使用できません。Naninovel の API が変更されたとき、使用可能なカスタムアクションも壊れる可能性があります。")]),a._v(" "),t("h2",{attrs:{id:"設定"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#設定"}},[a._v("#")]),a._v(" 設定")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://hutonggames.fogbugz.com/default.asp?W11",target:"_blank",rel:"noopener noreferrer"}},[a._v("公式マニュアル"),t("OutboundLink")],1),a._v(" の指示に従ってPlayMakerをインストールします。")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/Naninovel/PlayMaker/raw/master/NaninovelPlayMaker.unitypackage",target:"_blank",rel:"noopener noreferrer"}},[a._v("PlayMaker拡張パッケージ"),t("OutboundLink")],1),a._v(" をダウンロードしてインポートします。")]),a._v(" "),t("p",[a._v('PlayMakerアクションブラウザの "Naninovel" カテゴリに、カスタム Naninovel アクションが表示されます。')]),a._v(" "),t("p",[t("img",{attrs:{src:"https://i.gyazo.com/a40b0b7b21c73d3b5f64b005085198ea.png",alt:""}})]),a._v(" "),t("h2",{attrs:{id:"使い方"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使い方"}},[a._v("#")]),a._v(" 使い方")]),a._v(" "),t("p",[a._v("次の動画は、PlayMaker FSM（有限状態マシン）を使用して Naninovel エンジンを初期化し、シナリオスクリプトをプリロードして再生する方法を紹介しています。")]),a._v(" "),t("p"),t("div",{staticClass:"video-container"},[t("iframe",{attrs:{src:"https://www.youtube-nocookie.com/embed/N856vi18XVU",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]),t("p"),a._v(" "),t("h3",{attrs:{id:"イベント"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#イベント"}},[a._v("#")]),a._v(" イベント")]),a._v(" "),t("p",[a._v("重要なNaninovelイベントのいくつかは、自動的に PlayMaker FSM にルーティングされます。そのためには、適切な名前でグローバル "),t("a",{attrs:{href:"https://hutonggames.fogbugz.com/default.asp?W148",target:"_blank",rel:"noopener noreferrer"}},[a._v("ユーザーイベント"),t("OutboundLink")],1),a._v(" を作成し、FSM内で使用します。使用可能なイベント名は次のとおりです:")]),a._v(" "),t("ul",[t("li",[t("code",[a._v("Naninovel/Engine/OnInitialized")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/ScriptPlayer/OnPlay")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/ScriptPlayer/OnStop")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/StateManager/OnGameSaveStarted")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/StateManager/OnGameSaveFinished")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/StateManager/OnGameLoadStarted")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/StateManager/OnGameLoadFinished")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/TextPrinterManager/OnPrintTextStarted")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/TextPrinterManager/OnPrintTextFinished")])]),a._v(" "),t("li",[t("code",[a._v("Naninovel/LocalizationManager/OnLocaleChanged")])])]),a._v(" "),t("p",[t("code",[a._v("@playmaker")]),a._v(" コマンドを使用して、naninovelスクリプトからカスタムPlayMakerイベントをブロードキャストすることもできます:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@playmaker")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("EventName")])])]),a._v("\n")])])]),t("p",[a._v('— シーン上のアクティブなすべてのFSMから、グローバルユーザーイベント "EventName" を呼び出します。')]),a._v(" "),t("p",[a._v("このコマンドでは、"),t("code",[a._v("fsm")]),a._v(" および "),t("code",[a._v("object")]),a._v(" パラメーターを使用して、特定のFSMにイベントを送信することもできます。最初のパラメーターは、イベントを受信するFSM名を指定します。例:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@playmaker")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("EventName")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" fsm:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Fsm1,Fsm2")])])]),a._v("\n")])])]),t("p",[a._v('— 上記は "Fsm1" と "Fsm2" という名前のFSMから、 "EventName" という名前のイベントを呼び出します。')]),a._v(" "),t("p",[t("code",[a._v("object")]),a._v(" パラメータが指定されている場合、イベントはFSMにのみ送信され、対応する名前を持つゲームオブジェクトに適用されます。例:")]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@playmaker")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("EventName")]),t("span",{pre:!0,attrs:{class:"token command-param-id property"}},[a._v(" object:")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v("Obj1,Obj2")])])]),a._v("\n")])])]),t("p",[a._v('— "Obj1" と "Obj2" という名前のゲームオブジェクトに接続されているすべてのFSMから、イベント "EventName" を呼び出します')]),a._v(" "),t("p",[a._v("また "),t("code",[a._v("fsm")]),a._v(" パラメータと "),t("code",[a._v("object")]),a._v(" パラメータを組み合わせて、イベントを受け取るFSMをさらにフィルタリングすることもできます。")]),a._v(" "),t("h3",{attrs:{id:"グローバル変数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#グローバル変数"}},[a._v("#")]),a._v(" グローバル変数")]),a._v(" "),t("p",[a._v("Naninovelスクリプトから PlayMaker のグローバル変数にアクセスできます。拡張パッケージのカスタム "),t("RouterLink",{attrs:{to:"/ja/guide/script-expressions.html#関数式"}},[a._v("関数式")]),a._v(" を使います:")],1),a._v(" "),t("ul",[t("li",[t("code",[a._v('GetPlayMakerGlobalVariable("variableName")')]),a._v(' — "variableName"という名前の単純型（int、float、stringなど）の変数を取得します')]),a._v(" "),t("li",[t("code",[a._v('GetPlayMakerGlobalArray("variableName", arrayIndex)')]),a._v(' — "variableName"という名前の配列変数のインデックス "arrayIndex" に格納されている値を取得します')])]),a._v(" "),t("p",[a._v('整数 "Score" と、bool配列のグローバルPlayMaker変数 "FinishedRoutes" がある場合、次のように Naninovel スクリプトで使用できます:')]),a._v(" "),t("div",{staticClass:"language-nani extra-class"},[t("pre",{pre:!0,attrs:{class:"language-nani"}},[t("code",[t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("Felix: My score is "),t("span",{pre:!0,attrs:{class:"token expression selector"}},[a._v('{GetPlayMakerGlobalVariable("Score")}')]),a._v(".")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@if")]),t("span",{pre:!0,attrs:{class:"token command-params"}},[t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v(" ")]),t("span",{pre:!0,attrs:{class:"token command-param-value operator"}},[a._v('GetPlayMakerGlobalArray("FinishedRoutes",2)')])])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("    Third route (second array index) is completed.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@else")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token generic-text punctuation"}},[a._v("    Not yet.")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token command function"}},[t("span",{pre:!0,attrs:{class:"token command-name"}},[a._v("@endif")])]),a._v("\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);